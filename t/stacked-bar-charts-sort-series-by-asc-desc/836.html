<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>Stacked bar charts: sort series by asc/desc</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/stacked-bar-charts-sort-series-by-asc-desc/836">Stacked bar charts: sort series by asc/desc</a>
</h1>
<div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/6.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Support</span>
</span>
</a>
<meta content="1" itemprop="position"/>
</span>
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/support-usage/10.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Usage Support</span>
</span>
</a>
<meta content="2" itemprop="position"/>
</span>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content="Stacked bar charts: sort series by asc/desc" itemprop="headline"/>
<meta content="Usage Support" itemprop="articleSection"/>
<meta content="" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/JasonShah.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/JasonShah_avatar.png" tabindex="-1" width="48"/><span itemprop="name">JasonShah</span></a>
</span>
<link href="assets/836" itemprop="mainEntityOfPage"/>
<link href="assets/2635c8aac01a7325656976b968c6e30f87ae1501.png" itemprop="image"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2017-06-27T19:44:04Z" itemprop="datePublished">
                    June 27, 2017,  7:44pm
                  </time>
<meta content="2020-01-21T01:54:01Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>When I create a stacked bar chart (and, honestly, that is just about the only chart type I create), I want the ability to sort the series values automatically.<br/>
Today, I can navigate into the Series tab and manually reorder. But this becomes very annoying when there are a lot of values or when the series is constantly moving.</p>
<p>For example, here:<br/>
<div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/5s1ngtZrzf7gA5WjD9LueerIGpX.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/2635c8aac01a7325656976b968c6e30f87ae1501.png" rel="noopener nofollow ugc" title=""><img alt="" data-base62-sha1="5s1ngtZrzf7gA5WjD9LueerIGpX" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/1X/2635c8aac01a7325656976b968c6e30f87ae1501_2_10x10.png" height="445" src="assets/2635c8aac01a7325656976b968c6e30f87ae1501_2_689x445.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/1X/2635c8aac01a7325656976b968c6e30f87ae1501_2_689x445.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/1X/2635c8aac01a7325656976b968c6e30f87ae1501_2_1033x667.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/2635c8aac01a7325656976b968c6e30f87ae1501.png 2x" width="689"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename"></span><span class="informations">1195×772 43.1 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div><br/>
it would be great to be able to automatically sort the bars by the values of series in ascending or descending order. It could pick the first or last column as the bar from which to sort, and the remaining columns would follow that sort order. So in this case if I picked “Sort by rightmost column descending”, I would see the largest series at the bottom (681, green), followed by the next largest (682, purple), and so on.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="2" itemprop="userInteractionCount"/>
<span class="post-likes">2 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/zzzzzzzzzzzzz.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/zzzzzzzzzzzzz_avatar.png" tabindex="-1" width="48"/><span itemprop="name">zzzzzzzzzzzzz</span></a>
</span>
<link href="assets/836" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-01-28T08:26:58Z" itemprop="datePublished">
                    January 28, 2019,  8:26am
                  </time>
<meta content="2019-01-28T08:26:58Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>It’s 2019, still couldn’t find this nice feature</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/mfuller.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/mfuller_avatar.png" tabindex="-1" width="48"/><span itemprop="name">mfuller</span></a>
</span>
<link href="assets/836" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-01-20T22:29:22Z" itemprop="datePublished">
                    January 20, 2020, 10:29pm
                  </time>
<meta content="2020-01-20T22:29:22Z" itemprop="dateModified"/>
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p>It’s 2020 now and still no solution?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/836" itemprop="mainEntityOfPage"/>
<link href="assets/934c599df1ebacca5327b6a2d9bf82c6e9f194a6.png" itemprop="image"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-01-21T01:52:03Z" itemprop="datePublished">
                    January 21, 2020,  1:52am
                  </time>
<meta content="2020-01-21T01:52:03Z" itemprop="dateModified"/>
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I just added a reference to this in <a href="https://redash.io/help/user-guide/visualizations/chart-visualizations#Stacking">our Chart Visualization documentation</a>.</p>
<blockquote>
<p>You can use the <strong>Series</strong> tab of the Visualization Editor to control the order in which traces are stacked. <em>You can also control it by adding an <code>ORDER BY</code> statement to your query.</em> The stack follows the order in which your group names first appear in your query result.</p>
</blockquote>
<p>In the following examples, notice that the same measures remain the same color but they stack in different orders.</p>
<h1>
<a class="anchor" href="#ascending-1" name="ascending-1"></a>Ascending</h1>
<p>Groups are sorted alphabetically ascending<br/>
<div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/l13LzXlE64uvGlsabDAfBqhYSpg.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/9/934c599df1ebacca5327b6a2d9bf82c6e9f194a6.png" title="asc"><img alt="asc" data-base62-sha1="l13LzXlE64uvGlsabDAfBqhYSpg" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/9/934c599df1ebacca5327b6a2d9bf82c6e9f194a6_2_10x10.png" height="256" src="assets/934c599df1ebacca5327b6a2d9bf82c6e9f194a6_2_690x256.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/9/934c599df1ebacca5327b6a2d9bf82c6e9f194a6_2_690x256.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/9/934c599df1ebacca5327b6a2d9bf82c6e9f194a6_2_1035x384.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/9/934c599df1ebacca5327b6a2d9bf82c6e9f194a6.png 2x" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">asc</span><span class="informations">1074×400 16.7 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<h1>
<a class="anchor" href="#descending-2" name="descending-2"></a>Descending</h1>
<p>Groups are sorted alphabetically descending<br/>
<div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/j4LjftPqaH3t0ceHuUK49EjdgUJ.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/8/85b323fca4bfcee1a590033fdf6541299ace1705.png" title="desc"><img alt="desc" data-base62-sha1="j4LjftPqaH3t0ceHuUK49EjdgUJ" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/8/85b323fca4bfcee1a590033fdf6541299ace1705_2_10x10.png" height="256" src="assets/85b323fca4bfcee1a590033fdf6541299ace1705_2_690x256.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/8/85b323fca4bfcee1a590033fdf6541299ace1705_2_690x256.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/8/85b323fca4bfcee1a590033fdf6541299ace1705_2_1035x384.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/8/85b323fca4bfcee1a590033fdf6541299ace1705.png 2x" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">desc</span><span class="informations">1074×400 17.1 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<h1>
<a class="anchor" href="#arbitrary-order-using-cte-3" name="arbitrary-order-using-cte-3"></a>Arbitrary Order using CTE</h1>
<p>Groups are sorted arbitrarily<br/>
<div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/cjfC4hdRwyD7FxukJgtaRDSbjQG.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/5/564733f2b72ffb2991e4f9cafc3a32942cff8e76.png" title="arbitrary"><img alt="arbitrary" data-base62-sha1="cjfC4hdRwyD7FxukJgtaRDSbjQG" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/564733f2b72ffb2991e4f9cafc3a32942cff8e76_2_10x10.png" height="256" src="assets/564733f2b72ffb2991e4f9cafc3a32942cff8e76_2_690x256.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/564733f2b72ffb2991e4f9cafc3a32942cff8e76_2_690x256.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/564733f2b72ffb2991e4f9cafc3a32942cff8e76_2_1035x384.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/5/564733f2b72ffb2991e4f9cafc3a32942cff8e76.png 2x" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">arbitrary</span><span class="informations">1074×400 17 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>This has been true since 2017. The question just didn’t receive much attention on the forum. If you have other questions don’t hesitate to bump them <img alt=":smiley:" class="emoji" height="20" loading="lazy" src="assets/smiley.png" title=":smiley:" width="20"/></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_5" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/rohan.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/rohan_avatar.png" tabindex="-1" width="48"/><span itemprop="name">rohan</span></a>
</span>
<link href="assets/836" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-05-21T00:59:31Z" itemprop="datePublished">
                    May 21, 2020, 12:59am
                  </time>
<meta content="2020-05-21T00:59:31Z" itemprop="dateModified"/>
<span itemprop="position">5</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I think what is being asked here is to sort the bars based on the value not based on the group.</p>
<p>The idea being that when you look at the stacked bar chart (or area chart) your larger values appear at the top and your smaller values appear at the bottom (or reverse of this).</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_6" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/836" itemprop="mainEntityOfPage"/>
<link href="assets/58bda4ac09bde37fb7cb2f42785eed2403e38eae.png" itemprop="image"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-05-21T16:26:26Z" itemprop="datePublished">
                    May 21, 2020,  4:26pm
                  </time>
<meta content="2020-05-21T16:26:26Z" itemprop="dateModified"/>
<span itemprop="position">6</span>
</span>
</div>
<div class="post" itemprop="text">
<aside class="quote no-group" data-post="5" data-topic="836" data-username="rohan">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" loading="lazy" src="assets/9_2.png" width="20"/> rohan:</div>
<blockquote>
<p>I think what is being asked here is to sort the bars based on the value not based on the group.</p>
</blockquote>
</aside>
<p>I’m not so sure. Look at this:</p>
<p><div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/cF2kdRXIVyNsLfmIJ5FHi6KhnrM.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/5/58bda4ac09bde37fb7cb2f42785eed2403e38eae.png" title="stacked-bar"><img alt="stacked-bar" data-base62-sha1="cF2kdRXIVyNsLfmIJ5FHi6KhnrM" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/58bda4ac09bde37fb7cb2f42785eed2403e38eae_2_10x10.png" height="500" src="assets/58bda4ac09bde37fb7cb2f42785eed2403e38eae_2_571x500.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/58bda4ac09bde37fb7cb2f42785eed2403e38eae_2_571x500.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/58bda4ac09bde37fb7cb2f42785eed2403e38eae_2_856x750.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/58bda4ac09bde37fb7cb2f42785eed2403e38eae_2_1142x1000.png 2x" width="571"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">stacked-bar</span><span class="informations">1600×1400 61.9 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>For <strong>scenario X</strong>, red is always smaller than green which is always smaller than blue. For <strong>scenario Y</strong>, each color takes a turn being largest.</p>
<p><strong>Projection A</strong> and <strong>Projection B</strong> both automatically stack colors from largest to smallest like you described. <strong>Projection C</strong> uses the same data as <strong>B</strong> but the stack order is manual/frozen: green, blue, red.</p>
<p>Automatic sorting makes sense in <strong>scenario X</strong>. But it’s unnecessary because the same outcome is possible with an <code>ORDER BY</code> statement.</p>
<p>In <strong>scenario Y</strong>, automatic sorting is harder to read than manual. Plotly doesn’t support it. Neither does Redash. Anecdotally, I don’t know a tool that <em>does</em> support it which is why I had to draw these illustrations by hand.</p>
<p>I read OP’s question as how to arrange the stack order without using the <strong>Series</strong> tab. The alternative is not desirable as far as I can tell.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_7" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/JasonShah.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/JasonShah_avatar.png" tabindex="-1" width="48"/><span itemprop="name">JasonShah</span></a>
</span>
<link href="assets/836" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-06-27T16:12:32Z" itemprop="datePublished">
                    June 27, 2022,  4:12pm
                  </time>
<meta content="2022-06-27T16:12:32Z" itemprop="dateModified"/>
<span itemprop="position">7</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Projection C is exactly what I would want.<br/>
In the consulting firm I used to work in, we worked with stacked bar charts extensively, and this question was “settled” with the answer being Projection C.<br/>
Most users are focused on the last column (most recent, if time is on the Y column), so, that should be the one to drive the sort order, and all columns to the left of it should follow behind.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_8" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/ilyaasp.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/ilyaasp_avatar.png" tabindex="-1" width="48"/><span itemprop="name">ilyaasp</span></a>
</span>
<link href="assets/836" itemprop="mainEntityOfPage"/>
<link href="assets/662efbe6472c0d4b53fd770723bc20ff01c07d24.png" itemprop="image"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-07-07T10:18:36Z" itemprop="datePublished">
                    July 7, 2022, 10:18am
                  </time>
<meta content="2022-07-07T10:18:36Z" itemprop="dateModified"/>
<span itemprop="position">8</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hi <a class="mention" href="/u/jesse">@jesse</a> , I am not sure whether this’ been asked before or not. But I’m stuck on how to make a clustered stacked bar chart on Redash. The chart that I mean looks like in the below image (also in the image is the format of data on how to make clustered stacked bar chart on google sheets and ms. excel)</p>
<p><div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/ezXmBVc8u02GY41EziFd5JooE6M.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/6/662efbe6472c0d4b53fd770723bc20ff01c07d24.png" rel="noopener nofollow ugc" title="image"><img alt="image" data-base62-sha1="ezXmBVc8u02GY41EziFd5JooE6M" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/6/662efbe6472c0d4b53fd770723bc20ff01c07d24_2_10x10.png" height="199" src="assets/662efbe6472c0d4b53fd770723bc20ff01c07d24_2_690x199.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/6/662efbe6472c0d4b53fd770723bc20ff01c07d24_2_690x199.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/6/662efbe6472c0d4b53fd770723bc20ff01c07d24_2_1035x298.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/6/662efbe6472c0d4b53fd770723bc20ff01c07d24.png 2x" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">1163×336 22 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>And then, I just saw this thread here that you show how to make a chart like this</p>
<p><div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/pH1IjbEy9Ol6tsqVH6rLGzze1ZC.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/b/b4137ef9e22b33a80abc5c16da69fd99d44b9f50.png" rel="noopener nofollow ugc" title="image1"><img alt="image1" data-base62-sha1="pH1IjbEy9Ol6tsqVH6rLGzze1ZC" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/b/b4137ef9e22b33a80abc5c16da69fd99d44b9f50_2_10x10.png" height="500" src="assets/b4137ef9e22b33a80abc5c16da69fd99d44b9f50_2_644x500.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/b/b4137ef9e22b33a80abc5c16da69fd99d44b9f50_2_644x500.png, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/b/b4137ef9e22b33a80abc5c16da69fd99d44b9f50.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/b/b4137ef9e22b33a80abc5c16da69fd99d44b9f50.png 2x" width="644"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">image1</span><span class="informations">782×607 42 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>Which pretty much look like the clustered stacked bar chart that I am trying to make.</p>
<p>Can you please show me how is the format of the data on how you make that?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
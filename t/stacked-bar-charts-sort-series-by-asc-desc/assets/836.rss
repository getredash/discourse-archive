<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Stacked bar charts: sort series by asc/desc</title>
    <link>https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836</link>
    <description>When I create a stacked bar chart (and, honestly, that is just about the only chart type I create), I want the ability to sort the series values automatically.
Today, I can navigate into the Series tab and manually reorder. But this becomes very annoying when there are a lot of values or when the series is constantly moving.

For example, here:
![|689x445](upload://5s1ngtZrzf7gA5WjD9LueerIGpX.png)
it would be great to be able to automatically sort the bars by the values of series in ascending or descending order. It could pick the first or last column as the bar from which to sort, and the remaining columns would follow that sort order. So in this case if I picked &quot;Sort by rightmost column descending&quot;, I would see the largest series at the bottom (681, green), followed by the next largest (682, purple), and so on.</description>
    
    <lastBuildDate>Thu, 07 Jul 2022 10:18:36 +0000</lastBuildDate>
    <category>Usage Support</category>
    <atom:link href="https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Stacked bar charts: sort series by asc/desc</title>
        <dc:creator><![CDATA[ilyaasp]]></dc:creator>
        <description><![CDATA[
            <p>Hi <a class="mention" href="https://discuss.redash.io/u/jesse">@jesse</a> , I am not sure whether this’ been asked before or not. But I’m stuck on how to make a clustered stacked bar chart on Redash. The chart that I mean looks like in the below image (also in the image is the format of data on how to make clustered stacked bar chart on google sheets and ms. excel)</p>
<p></p><div class="lightbox-wrapper"><a class="lightbox" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/6/662efbe6472c0d4b53fd770723bc20ff01c07d24.png" data-download-href="/uploads/short-url/ezXmBVc8u02GY41EziFd5JooE6M.png?dl=1" title="image" rel="noopener nofollow ugc"><img src="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/6/662efbe6472c0d4b53fd770723bc20ff01c07d24_2_690x199.png" alt="image" data-base62-sha1="ezXmBVc8u02GY41EziFd5JooE6M" width="690" height="199" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/6/662efbe6472c0d4b53fd770723bc20ff01c07d24_2_690x199.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/6/662efbe6472c0d4b53fd770723bc20ff01c07d24_2_1035x298.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/6/662efbe6472c0d4b53fd770723bc20ff01c07d24.png 2x" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/6/662efbe6472c0d4b53fd770723bc20ff01c07d24_2_10x10.png"></a></div><p></p>
<p>And then, I just saw this thread here that you show how to make a chart like this</p>
<p></p><div class="lightbox-wrapper"><a class="lightbox" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/b/b4137ef9e22b33a80abc5c16da69fd99d44b9f50.png" data-download-href="/uploads/short-url/pH1IjbEy9Ol6tsqVH6rLGzze1ZC.png?dl=1" title="image1" rel="noopener nofollow ugc"><img src="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/b/b4137ef9e22b33a80abc5c16da69fd99d44b9f50_2_644x500.png" alt="image1" data-base62-sha1="pH1IjbEy9Ol6tsqVH6rLGzze1ZC" width="644" height="500" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/b/b4137ef9e22b33a80abc5c16da69fd99d44b9f50_2_644x500.png, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/b/b4137ef9e22b33a80abc5c16da69fd99d44b9f50.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/b/b4137ef9e22b33a80abc5c16da69fd99d44b9f50.png 2x" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/b/b4137ef9e22b33a80abc5c16da69fd99d44b9f50_2_10x10.png"></a></div><p></p>
<p>Which pretty much look like the clustered stacked bar chart that I am trying to make.</p>
<p>Can you please show me how is the format of the data on how you make that?</p>
          <p><a href="https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836/8">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836/8</link>
        <pubDate>Thu, 07 Jul 2022 10:18:36 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-836-8</guid>
        <source url="https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836.rss">Stacked bar charts: sort series by asc/desc</source>
      </item>
      <item>
        <title>Stacked bar charts: sort series by asc/desc</title>
        <dc:creator><![CDATA[JasonShah]]></dc:creator>
        <description><![CDATA[
            <p>Projection C is exactly what I would want.<br>
In the consulting firm I used to work in, we worked with stacked bar charts extensively, and this question was “settled” with the answer being Projection C.<br>
Most users are focused on the last column (most recent, if time is on the Y column), so, that should be the one to drive the sort order, and all columns to the left of it should follow behind.</p>
          <p><a href="https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836/7">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836/7</link>
        <pubDate>Mon, 27 Jun 2022 16:12:32 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-836-7</guid>
        <source url="https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836.rss">Stacked bar charts: sort series by asc/desc</source>
      </item>
      <item>
        <title>Stacked bar charts: sort series by asc/desc</title>
        <dc:creator><![CDATA[jesse]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="rohan" data-post="5" data-topic="836">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://sjc6.discourse-cdn.com/standard17/user_avatar/discuss.redash.io/rohan/40/9_2.png" class="avatar"> rohan:</div>
<blockquote>
<p>I think what is being asked here is to sort the bars based on the value not based on the group.</p>
</blockquote>
</aside>
<p>I’m not so sure. Look at this:</p>
<p></p><div class="lightbox-wrapper"><a class="lightbox" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/5/58bda4ac09bde37fb7cb2f42785eed2403e38eae.png" data-download-href="/uploads/short-url/cF2kdRXIVyNsLfmIJ5FHi6KhnrM.png?dl=1" title="stacked-bar"><img src="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/58bda4ac09bde37fb7cb2f42785eed2403e38eae_2_571x500.png" alt="stacked-bar" data-base62-sha1="cF2kdRXIVyNsLfmIJ5FHi6KhnrM" width="571" height="500" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/58bda4ac09bde37fb7cb2f42785eed2403e38eae_2_571x500.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/58bda4ac09bde37fb7cb2f42785eed2403e38eae_2_856x750.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/58bda4ac09bde37fb7cb2f42785eed2403e38eae_2_1142x1000.png 2x" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/58bda4ac09bde37fb7cb2f42785eed2403e38eae_2_10x10.png"></a></div><p></p>
<p>For <strong>scenario X</strong>, red is always smaller than green which is always smaller than blue. For <strong>scenario Y</strong>, each color takes a turn being largest.</p>
<p><strong>Projection A</strong> and <strong>Projection B</strong> both automatically stack colors from largest to smallest like you described. <strong>Projection C</strong> uses the same data as <strong>B</strong> but the stack order is manual/frozen: green, blue, red.</p>
<p>Automatic sorting makes sense in <strong>scenario X</strong>. But it’s unnecessary because the same outcome is possible with an <code>ORDER BY</code> statement.</p>
<p>In <strong>scenario Y</strong>, automatic sorting is harder to read than manual. Plotly doesn’t support it. Neither does Redash. Anecdotally, I don’t know a tool that <em>does</em> support it which is why I had to draw these illustrations by hand.</p>
<p>I read OP’s question as how to arrange the stack order without using the <strong>Series</strong> tab. The alternative is not desirable as far as I can tell.</p>
          <p><a href="https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836/6">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836/6</link>
        <pubDate>Thu, 21 May 2020 16:26:26 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-836-6</guid>
        <source url="https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836.rss">Stacked bar charts: sort series by asc/desc</source>
      </item>
      <item>
        <title>Stacked bar charts: sort series by asc/desc</title>
        <dc:creator><![CDATA[rohan]]></dc:creator>
        <description><![CDATA[
            <p>I think what is being asked here is to sort the bars based on the value not based on the group.</p>
<p>The idea being that when you look at the stacked bar chart (or area chart) your larger values appear at the top and your smaller values appear at the bottom (or reverse of this).</p>
          <p><a href="https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836/5">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836/5</link>
        <pubDate>Thu, 21 May 2020 00:59:31 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-836-5</guid>
        <source url="https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836.rss">Stacked bar charts: sort series by asc/desc</source>
      </item>
      <item>
        <title>Stacked bar charts: sort series by asc/desc</title>
        <dc:creator><![CDATA[jesse]]></dc:creator>
        <description><![CDATA[
            <p>I just added a reference to this in <a href="https://redash.io/help/user-guide/visualizations/chart-visualizations#Stacking">our Chart Visualization documentation</a>.</p>
<blockquote>
<p>You can use the <strong>Series</strong> tab of the Visualization Editor to control the order in which traces are stacked. <em>You can also control it by adding an <code>ORDER BY</code> statement to your query.</em> The stack follows the order in which your group names first appear in your query result.</p>
</blockquote>
<p>In the following examples, notice that the same measures remain the same color but they stack in different orders.</p>
<h1>
<a name="ascending-1" class="anchor" href="https://discuss.redash.io#ascending-1"></a>Ascending</h1>
<p>Groups are sorted alphabetically ascending<br>
</p><div class="lightbox-wrapper"><a class="lightbox" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/9/934c599df1ebacca5327b6a2d9bf82c6e9f194a6.png" data-download-href="/uploads/short-url/l13LzXlE64uvGlsabDAfBqhYSpg.png?dl=1" title="asc"><img src="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/9/934c599df1ebacca5327b6a2d9bf82c6e9f194a6_2_690x256.png" alt="asc" data-base62-sha1="l13LzXlE64uvGlsabDAfBqhYSpg" width="690" height="256" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/9/934c599df1ebacca5327b6a2d9bf82c6e9f194a6_2_690x256.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/9/934c599df1ebacca5327b6a2d9bf82c6e9f194a6_2_1035x384.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/9/934c599df1ebacca5327b6a2d9bf82c6e9f194a6.png 2x" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/9/934c599df1ebacca5327b6a2d9bf82c6e9f194a6_2_10x10.png"></a></div><p></p>
<h1>
<a name="descending-2" class="anchor" href="https://discuss.redash.io#descending-2"></a>Descending</h1>
<p>Groups are sorted alphabetically descending<br>
</p><div class="lightbox-wrapper"><a class="lightbox" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/8/85b323fca4bfcee1a590033fdf6541299ace1705.png" data-download-href="/uploads/short-url/j4LjftPqaH3t0ceHuUK49EjdgUJ.png?dl=1" title="desc"><img src="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/8/85b323fca4bfcee1a590033fdf6541299ace1705_2_690x256.png" alt="desc" data-base62-sha1="j4LjftPqaH3t0ceHuUK49EjdgUJ" width="690" height="256" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/8/85b323fca4bfcee1a590033fdf6541299ace1705_2_690x256.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/8/85b323fca4bfcee1a590033fdf6541299ace1705_2_1035x384.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/8/85b323fca4bfcee1a590033fdf6541299ace1705.png 2x" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/8/85b323fca4bfcee1a590033fdf6541299ace1705_2_10x10.png"></a></div><p></p>
<h1>
<a name="arbitrary-order-using-cte-3" class="anchor" href="https://discuss.redash.io#arbitrary-order-using-cte-3"></a>Arbitrary Order using CTE</h1>
<p>Groups are sorted arbitrarily<br>
</p><div class="lightbox-wrapper"><a class="lightbox" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/5/564733f2b72ffb2991e4f9cafc3a32942cff8e76.png" data-download-href="/uploads/short-url/cjfC4hdRwyD7FxukJgtaRDSbjQG.png?dl=1" title="arbitrary"><img src="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/564733f2b72ffb2991e4f9cafc3a32942cff8e76_2_690x256.png" alt="arbitrary" data-base62-sha1="cjfC4hdRwyD7FxukJgtaRDSbjQG" width="690" height="256" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/564733f2b72ffb2991e4f9cafc3a32942cff8e76_2_690x256.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/564733f2b72ffb2991e4f9cafc3a32942cff8e76_2_1035x384.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/5/564733f2b72ffb2991e4f9cafc3a32942cff8e76.png 2x" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/564733f2b72ffb2991e4f9cafc3a32942cff8e76_2_10x10.png"></a></div><p></p>
<p>This has been true since 2017. The question just didn’t receive much attention on the forum. If you have other questions don’t hesitate to bump them <img src="https://emoji.discourse-cdn.com/twitter/smiley.png?v=12" title=":smiley:" class="emoji" alt=":smiley:" loading="lazy" width="20" height="20"></p>
          <p><a href="https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836/4">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836/4</link>
        <pubDate>Tue, 21 Jan 2020 01:52:03 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-836-4</guid>
        <source url="https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836.rss">Stacked bar charts: sort series by asc/desc</source>
      </item>
      <item>
        <title>Stacked bar charts: sort series by asc/desc</title>
        <dc:creator><![CDATA[mfuller]]></dc:creator>
        <description><![CDATA[
            <p>It’s 2020 now and still no solution?</p>
          <p><a href="https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836/3">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836/3</link>
        <pubDate>Mon, 20 Jan 2020 22:29:22 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-836-3</guid>
        <source url="https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836.rss">Stacked bar charts: sort series by asc/desc</source>
      </item>
      <item>
        <title>Stacked bar charts: sort series by asc/desc</title>
        <dc:creator><![CDATA[zzzzzzzzzzzzz]]></dc:creator>
        <description><![CDATA[
            <p>It’s 2019, still couldn’t find this nice feature</p>
          <p><a href="https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836/2">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836/2</link>
        <pubDate>Mon, 28 Jan 2019 08:26:58 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-836-2</guid>
        <source url="https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836.rss">Stacked bar charts: sort series by asc/desc</source>
      </item>
      <item>
        <title>Stacked bar charts: sort series by asc/desc</title>
        <dc:creator><![CDATA[JasonShah]]></dc:creator>
        <description><![CDATA[
            <p>When I create a stacked bar chart (and, honestly, that is just about the only chart type I create), I want the ability to sort the series values automatically.<br>
Today, I can navigate into the Series tab and manually reorder. But this becomes very annoying when there are a lot of values or when the series is constantly moving.</p>
<p>For example, here:<br>
</p><div class="lightbox-wrapper"><a class="lightbox" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/2635c8aac01a7325656976b968c6e30f87ae1501.png" data-download-href="/uploads/short-url/5s1ngtZrzf7gA5WjD9LueerIGpX.png?dl=1" title="" rel="noopener nofollow ugc"><img src="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/1X/2635c8aac01a7325656976b968c6e30f87ae1501_2_689x445.png" alt="" data-base62-sha1="5s1ngtZrzf7gA5WjD9LueerIGpX" width="689" height="445" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/1X/2635c8aac01a7325656976b968c6e30f87ae1501_2_689x445.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/1X/2635c8aac01a7325656976b968c6e30f87ae1501_2_1033x667.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/2635c8aac01a7325656976b968c6e30f87ae1501.png 2x" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/1X/2635c8aac01a7325656976b968c6e30f87ae1501_2_10x10.png"></a></div><br>
it would be great to be able to automatically sort the bars by the values of series in ascending or descending order. It could pick the first or last column as the bar from which to sort, and the remaining columns would follow that sort order. So in this case if I picked “Sort by rightmost column descending”, I would see the largest series at the bottom (681, green), followed by the next largest (682, purple), and so on.<p></p>
          <p><a href="https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836/1">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836/1</link>
        <pubDate>Tue, 27 Jun 2017 19:44:04 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-836-1</guid>
        <source url="https://discuss.redash.io/t/stacked-bar-charts-sort-series-by-asc-desc/836.rss">Stacked bar charts: sort series by asc/desc</source>
      </item>
  </channel>
</rss>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Is there a way to stop all registered schedules? - Usage Support - Redash Discourse</title>
    <meta name="description" content="In Redash v4, there are about 500 scheduled configurations that are working. 
Is there any way to stop all of them? 
To reduce the load on the database, I want to be able to only view the queries and stop all the schedul&amp;hellip;">
    <meta name="generator" content="Discourse 3.2.0.beta2-dev - https://github.com/discourse/discourse version 83621ccbe797223b48b624b00ef04f24672e1f03">
<link rel="icon" type="image/png" href="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/1X/01e20869afc0877e3e5aee0f94419b9e9bffa961_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/1X/e1838a8a0c506503a22e0c60e2334374b2895c87_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="https://discuss.redash.io/t/is-there-a-way-to-stop-all-registered-schedules/9297" />

<link rel="search" type="application/opensearchdescription+xml" href="https://discuss.redash.io/opensearch.xml" title="Redash Discourse Search">

    <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="checklist"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-adplugin"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-akismet"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-cakeday"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-chat-integration"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-footnote"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-narrative-bot_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-presence_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-solved_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-solved"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-spoiler-alert_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-spoiler-alert"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/hosted-site_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="hosted-site"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/poll_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/poll_desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    <meta id="data-ga-universal-analytics" data-tracking-code="UA-47088186-6" data-json="{&quot;cookieDomain&quot;:&quot;auto&quot;}" data-auto-link-domains="">

  <link rel="preload" href="https://global.discourse-cdn.com/standard17/assets/google-universal-analytics-v3-08add7ec997ab472fcd9f821d32ff7caf4b8b9a5de2ec18ca723a040be07a098.gz.js" as="script">
<script defer src="https://global.discourse-cdn.com/standard17/assets/google-universal-analytics-v3-08add7ec997ab472fcd9f821d32ff7caf4b8b9a5de2ec18ca723a040be07a098.gz.js"></script>


        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Is there a way to stop all registered schedules?&#39;" href="https://discuss.redash.io/t/is-there-a-way-to-stop-all-registered-schedules/9297.rss" />
    <meta property="og:site_name" content="Redash Discourse" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/e1838a8a0c506503a22e0c60e2334374b2895c87.png" />
<meta property="og:image" content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/e1838a8a0c506503a22e0c60e2334374b2895c87.png" />
<meta property="og:url" content="https://discuss.redash.io/t/is-there-a-way-to-stop-all-registered-schedules/9297" />
<meta name="twitter:url" content="https://discuss.redash.io/t/is-there-a-way-to-stop-all-registered-schedules/9297" />
<meta property="og:title" content="Is there a way to stop all registered schedules?" />
<meta name="twitter:title" content="Is there a way to stop all registered schedules?" />
<meta property="og:description" content="In Redash v4, there are about 500 scheduled configurations that are working.  Is there any way to stop all of them?  To reduce the load on the database, I want to be able to only view the queries and stop all the scheduled ones.  Thank you in advance." />
<meta name="twitter:description" content="In Redash v4, there are about 500 scheduled configurations that are working.  Is there any way to stop all of them?  To reduce the load on the database, I want to be able to only view the queries and stop all the scheduled ones.  Thank you in advance." />
<meta property="og:article:section" content="Support" />
<meta property="og:article:section:color" content="BF1E2E" />
<meta property="og:article:section" content="Usage Support" />
<meta property="og:article:section:color" content="AB9364" />
<meta property="article:published_time" content="2021-10-20T07:35:48+00:00" />
<meta property="og:ignore_canonical" content="true" />


    <script type="application/ld+json">{"@context":"http://schema.org","@type":"QAPage","name":"Is there a way to stop all registered schedules?","mainEntity":{"@type":"Question","name":"Is there a way to stop all registered schedules?","text":"In Redash v4, there are about 500 scheduled configurations that are working.\n\nIs there any way to stop all of them?\n\nTo reduce the load on the database, I want to be able to only view the queries and stop all the scheduled ones.\n\nThank you in advance.","upvoteCount":0,"answerCount":0,"dateCreated":"2021-10-20T07:35:48.866Z","author":{"@type":"Person","name":"Loco Diwamoto"}}}</script>
  </head>
  <body class="crawler ">
    
    <header>
  <a href="/">
    Redash Discourse
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="/t/is-there-a-way-to-stop-all-registered-schedules/9297">Is there a way to stop all registered schedules?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://discuss.redash.io/c/support/6" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #BF1E2E'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Support</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://discuss.redash.io/c/support/support-usage/10" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #AB9364'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Usage Support</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Is there a way to stop all registered schedules?'>
        <meta itemprop='articleSection' content='Usage Support'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='Redash Discourse'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png'>
          </div>
      </div>

          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/loco-diwamoto'><span itemprop='name'>loco-diwamoto</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/is-there-a-way-to-stop-all-registered-schedules/9297">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-10-20T07:35:48Z' class='post-time'>
                    October 20, 2021,  7:35am
                  </time>
                  <meta itemprop='dateModified' content='2021-10-20T07:35:48Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='articleBody'>
              <p>In Redash v4, there are about 500 scheduled configurations that are working.<br>
Is there any way to stop all of them?<br>
To reduce the load on the database, I want to be able to only view the queries and stop all the scheduled ones.<br>
Thank you in advance.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/jesse'><span itemprop='name'>jesse</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/is-there-a-way-to-stop-all-registered-schedules/9297">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-10-20T15:12:19Z' class='post-time'>
                    October 20, 2021,  3:12pm
                  </time>
                  <meta itemprop='dateModified' content='2021-10-20T15:12:19Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Wow that’s an old version of Redash! Any reason you haven’t upgraded yet? <img src="https://emoji.discourse-cdn.com/twitter/wink.png?v=10" title=":wink:" class="emoji" alt=":wink:"></p>
<p>There are a few ways to accomplish this:</p>
<ul>
<li>Disable the scheduler service so that periodic jobs (like scheduled queries) are never enqueued</li>
<li>Stop your workers from pulling jobs off the <code>scheduled</code> queue</li>
<li>Run a mass update on the metadata database to remove the query schedules entirely</li>
<li>Modify the source code so that scheduling queries no longer occurs</li>
</ul>
<p>I would go with the first or the fourth option. The fourth one is nice because your data source schemas will still refresh, and old query results will still be cleared out of the metadata database. If you go with step 1, your query results cache could grow indefinitely.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/loco-diwamoto'><span itemprop='name'>loco-diwamoto</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/is-there-a-way-to-stop-all-registered-schedules/9297">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-10-21T01:53:49Z' class='post-time'>
                    October 21, 2021,  1:53am
                  </time>
                  <meta itemprop='dateModified' content='2021-10-21T01:53:49Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p><a class="mention" href="/u/jesse">@jesse</a><br>
Thank you very much.<br>
I know that v4 is old.<br>
And since I haven’t changed to running on docker yet, I’m thinking of changing to v8 and docker environment now.<br>
However, the members have been using v4 for a long time, so I wanted to keep v4 for a limited time just to check the data just in case.<br>
I was thinking of leaving it for viewing only and stopping all schedule execution.</p>
<p>Now, I’d like to try that fourth method, but when you say tweak the source code, you mean change python, right? (Or, I was trying to edit the connection information of the data source to make it fundamentally unreachable.）<br>
In that case, please tell me what to change and what to do to compile it.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/jesse'><span itemprop='name'>jesse</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/is-there-a-way-to-stop-all-registered-schedules/9297">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-10-21T01:59:01Z' class='post-time'>
                    October 21, 2021,  1:59am
                  </time>
                  <meta itemprop='dateModified' content='2021-10-21T01:59:01Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>You can edit the python by replacing all of <a href="https://github.com/getredash/redash/blob/1258223a506930c4991feb57ed395bca58db0ed0/redash/tasks/queries.py#L269-L312">this</a> with the word <code>pass</code>.</p>
<p>Or you can make the data sources fundamentally unreachable like you said. But doing this will break them for even users running queries by hand. Which might not be desirable.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/loco-diwamoto'><span itemprop='name'>loco-diwamoto</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/is-there-a-way-to-stop-all-registered-schedules/9297">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-10-21T02:22:17Z' class='post-time'>
                    October 21, 2021,  2:22am
                  </time>
                  <meta itemprop='dateModified' content='2021-10-21T02:22:17Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>I see. Thank you very much.<br>
I see that refresh_query() is in charge of scheduled execution.<br>
When I entered the docker container in v8, I think it contained .pyc, which is probably a compiled python file.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/jesse'><span itemprop='name'>jesse</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/is-there-a-way-to-stop-all-registered-schedules/9297">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-10-21T02:23:11Z' class='post-time'>
                    October 21, 2021,  2:23am
                  </time>
                  <meta itemprop='dateModified' content='2021-10-21T02:23:11Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>The code I sent you was specifically for V4. It would be different in V8.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="2" />
              </div>

          </div>
          <div id='post_7' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/loco-diwamoto'><span itemprop='name'>loco-diwamoto</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/is-there-a-way-to-stop-all-registered-schedules/9297">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-10-21T06:13:50Z' class='post-time'>
                    October 21, 2021,  6:13am
                  </time>
                  <meta itemprop='dateModified' content='2021-10-21T06:13:50Z'>
              <span itemprop='position'>7</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>I’m sorry, that wasn’t worded well.<br>
When I was touching v8, it seemed to compile as .pyc, so I thought I would need to compile v4 the same way.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_8' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/loco-diwamoto'><span itemprop='name'>loco-diwamoto</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/is-there-a-way-to-stop-all-registered-schedules/9297">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-10-25T03:38:42Z' class='post-time'>
                    October 25, 2021,  3:38am
                  </time>
                  <meta itemprop='dateModified' content='2021-10-25T03:38:42Z'>
              <span itemprop='position'>8</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Sorry, I have one more question.<br>
I’d like to look at the contents of the function, just to be sure.<br>
Another way to stop the scheduled execution is to use the<br>
REDASH_FEATURE_DISABLE_REFRESH_QUERIES<br>
as another way to stop scheduled execution.<br>
If this is set to true, the scheduler will not stop, but will keep refresh_schedule() running.<br>
However, if the environment variable is true in refresh_schedule(), the function will break with a message, so the database will not be overloaded.<br>
Isn’t that correct?<br>
In addition to this, I’m thinking of changing the data source settings to completely disconnect the connection.</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://redash.io/help/open-source/admin-guide/env-vars-settings/">
  <header class="source">
      <img src="https://redash.io/assets/images/favicon.ico" class="site-icon" width="16" height="16">

      <a href="https://redash.io/help/open-source/admin-guide/env-vars-settings/" target="_blank" rel="noopener nofollow ugc">redash.io</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/362;"><img src="https://redash.io/assets/images/social-facebook-1200x630.png" class="thumbnail" width="690" height="362"></div>

<h3><a href="https://redash.io/help/open-source/admin-guide/env-vars-settings/" target="_blank" rel="noopener nofollow ugc">Environment Variables Settings</a></h3>



  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>
<aside class="onebox githubblob" data-onebox-src="https://github.com/getredash/redash/blob/d43bfa9d106e0af693a412ee009fa74b215f7895/redash/tasks/queries.py#L276">
  <header class="source">

      <a href="https://github.com/getredash/redash/blob/d43bfa9d106e0af693a412ee009fa74b215f7895/redash/tasks/queries.py#L276" target="_blank" rel="noopener nofollow ugc">github.com</a>
  </header>

  <article class="onebox-body">
    <h4><a href="https://github.com/getredash/redash/blob/d43bfa9d106e0af693a412ee009fa74b215f7895/redash/tasks/queries.py#L276" target="_blank" rel="noopener nofollow ugc">getredash/redash/blob/d43bfa9d106e0af693a412ee009fa74b215f7895/redash/tasks/queries.py#L276</a></h4>



  <pre class="onebox">    <code class="lang-py">
      <ol class="start lines" start="266" style="counter-reset: li-counter 265 ;">
          <li>
          </li>
<li>@celery.task(name="redash.tasks.refresh_queries")</li>
          <li>def refresh_queries():</li>
          <li>    logger.info("Refreshing queries...")</li>
          <li>
          </li>
<li>    outdated_queries_count = 0</li>
          <li>    query_ids = []</li>
          <li>
          </li>
<li>    with statsd_client.timer('manager.outdated_queries_lookup'):</li>
          <li>        for query in models.Query.outdated_queries():</li>
          <li class="selected">            if settings.FEATURE_DISABLE_REFRESH_QUERIES:</li>
          <li>                logging.info("Disabled refresh queries.")</li>
          <li>            elif query.org.is_disabled:</li>
          <li>                logging.info("Skipping refresh of %s because org is disabled.", query.id)</li>
          <li>            elif query.data_source is None:</li>
          <li>                logging.info("Skipping refresh of %s because the datasource is none.", query.id)</li>
          <li>            elif query.data_source.paused:</li>
          <li>                logging.info("Skipping refresh of %s because datasource - %s is paused (%s).", query.id, query.data_source.name, query.data_source.pause_reason)</li>
          <li>            else:</li>
          <li>                if query.options and len(query.options.get('parameters', [])) &gt; 0:</li>
          <li>                    query_params = {p['name']: p['value']</li>
      </ol>
    </code>
  </pre>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_9' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/jesse'><span itemprop='name'>jesse</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/is-there-a-way-to-stop-all-registered-schedules/9297">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-10-25T15:40:04Z' class='post-time'>
                    October 25, 2021,  3:40pm
                  </time>
                  <meta itemprop='dateModified' content='2021-10-25T15:40:04Z'>
              <span itemprop='position'>9</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>TIL <img src="https://emoji.discourse-cdn.com/twitter/smiley.png?v=10" title=":smiley:" class="emoji" alt=":smiley:"></p>
<p>That would be the best option.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
    </div>






    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='/guidelines' itemprop="url">FAQ/Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='http://redash.io/terms.html' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='http://redash.io/privacy.html' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>

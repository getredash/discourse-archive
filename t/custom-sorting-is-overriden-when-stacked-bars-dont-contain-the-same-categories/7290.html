<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>Custom sorting is overriden when stacked bars don't contain the same categories</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/custom-sorting-is-overriden-when-stacked-bars-dont-contain-the-same-categories/7290">Custom sorting is overriden when stacked bars don't contain the same categories</a>
</h1>
<div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/6.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Support</span>
</span>
</a>
<meta content="1" itemprop="position"/>
</span>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content="Custom sorting is overriden when stacked bars don't contain the same categories" itemprop="headline"/>
<meta content="Support" itemprop="articleSection"/>
<meta content="" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jasonbowes.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jasonbowes_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jasonbowes</span></a>
</span>
<link href="https://discuss.redash.io/t/custom-sorting-is-overriden-when-stacked-bars-dont-contain-the-same-categories/7290" itemprop="mainEntityOfPage"/>
<link href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/3/38bac7c228b40e4e8cfe3d1386c365123edda47b.png" itemprop="image"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-10-02T07:49:27Z" itemprop="datePublished">
                    October 2, 2020,  7:49am
                  </time>
<meta content="2020-10-02T07:49:27Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>I have an issue with my order by clause being overridden when the stacking is not consistent.</p>
<p>See override:<br/>
<div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/85QUCKo3lHuNwuM6kxToqCNOSuv.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/3/38bac7c228b40e4e8cfe3d1386c365123edda47b.png" rel="noopener nofollow ugc" title="image"><img alt="image" data-base62-sha1="85QUCKo3lHuNwuM6kxToqCNOSuv" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/3/38bac7c228b40e4e8cfe3d1386c365123edda47b_2_10x10.png" height="215" src="assets/38bac7c228b40e4e8cfe3d1386c365123edda47b_2_690x215.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/3/38bac7c228b40e4e8cfe3d1386c365123edda47b_2_690x215.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/3/38bac7c228b40e4e8cfe3d1386c365123edda47b_2_1035x322.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/3/38bac7c228b40e4e8cfe3d1386c365123edda47b_2_1380x430.png 2x" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">1769×553 22.2 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>When stacking is consistent (no issues)<br/>
<div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/ir9SRRo8nHNSD1wcHNV9M27lF8y.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/8/8139143c57e1b99e1bbc5cbf6076d150966e32be.png" rel="noopener nofollow ugc" title="image"><img alt="image" data-base62-sha1="ir9SRRo8nHNSD1wcHNV9M27lF8y" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/8/8139143c57e1b99e1bbc5cbf6076d150966e32be_2_10x10.png" height="273" src="assets/8139143c57e1b99e1bbc5cbf6076d150966e32be_2_690x273.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/8/8139143c57e1b99e1bbc5cbf6076d150966e32be_2_690x273.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/8/8139143c57e1b99e1bbc5cbf6076d150966e32be_2_1035x409.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/8/8139143c57e1b99e1bbc5cbf6076d150966e32be_2_1380x546.png 2x" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">1619×642 18.6 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>I am unable to use a datetime type for the x axis as I have a drop down which allows the user to change the granularity of the x axis (i.e by day, week, month, quarter and year) which requires me to have it as a consistent varchar type to achieve this.</p>
<p>Is there any way i can override the default behavior and ensure that the bars are sorted by the order in the SQL first and then stacking second order?</p>
<p>Cheers,</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/k4s1m.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/k4s1m_avatar.png" tabindex="-1" width="48"/><span itemprop="name">k4s1m</span></a>
</span>
<link href="https://discuss.redash.io/t/custom-sorting-is-overriden-when-stacked-bars-dont-contain-the-same-categories/7290" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-10-02T17:13:25Z" itemprop="datePublished">
                    October 2, 2020,  5:13pm
                  </time>
<meta content="2020-10-02T17:13:25Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Just checking: have you already toggled off “Sort Values” in the visualization settings?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jasonbowes.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jasonbowes_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jasonbowes</span></a>
</span>
<link href="https://discuss.redash.io/t/custom-sorting-is-overriden-when-stacked-bars-dont-contain-the-same-categories/7290" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-10-02T17:25:14Z" itemprop="datePublished">
                    October 2, 2020,  5:25pm
                  </time>
<meta content="2020-10-02T17:25:14Z" itemprop="dateModified"/>
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Thanks for the response.</p>
<p>I have unticked sort values yes with sort values the bars are sorted alphabetically.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/k4s1m.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/k4s1m_avatar.png" tabindex="-1" width="48"/><span itemprop="name">k4s1m</span></a>
</span>
<link href="https://discuss.redash.io/t/custom-sorting-is-overriden-when-stacked-bars-dont-contain-the-same-categories/7290" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-10-06T02:30:27Z" itemprop="datePublished">
                    October 6, 2020,  2:30am
                  </time>
<meta content="2020-10-06T02:30:27Z" itemprop="dateModified"/>
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Gotcha. What do you mean “stacking is not consistent”? Can you share a sample data set that causes this behavior? Anonymized data is fine.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_5" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jasonbowes.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jasonbowes_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jasonbowes</span></a>
</span>
<link href="https://discuss.redash.io/t/custom-sorting-is-overriden-when-stacked-bars-dont-contain-the-same-categories/7290" itemprop="mainEntityOfPage"/>
<link href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/8/834d7883f446712f5f6b7c79883be2c1e1aa3c17.png" itemprop="image"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-10-06T07:43:26Z" itemprop="datePublished">
                    October 6, 2020,  7:43am
                  </time>
<meta content="2020-10-06T10:04:21Z" itemprop="dateModified"/>
<span itemprop="position">5</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Sorry hadn’t explained that very well. I mean when the X axis categories don’t have consistent data categories (as represented by the colors in the chart). See below for an example data hopefully this helps clarify what i mean. (this is an export directly from the table produced by the query in Redash which has then been anonymised).</p>
<div class="md-table">
<table>
<thead>
<tr>
<th>time</th>
<th>mintime</th>
<th>category</th>
<th>value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Jan-20</td>
<td>31/01/2020 00:00</td>
<td>Blue</td>
<td>-</td>
</tr>
<tr>
<td>Feb-20</td>
<td>14/02/2020 17:33</td>
<td>Red</td>
<td>1.43</td>
</tr>
<tr>
<td>Mar-20</td>
<td>02/03/2020 12:25</td>
<td>Red</td>
<td>6.33</td>
</tr>
<tr>
<td>Apr-20</td>
<td>17/04/2020 10:46</td>
<td>Blue</td>
<td>6.04</td>
</tr>
<tr>
<td>May-20</td>
<td>01/05/2020 10:23</td>
<td>Blue</td>
<td>18.50</td>
</tr>
<tr>
<td>May-20</td>
<td>05/05/2020 07:07</td>
<td>Red</td>
<td>1.20</td>
</tr>
<tr>
<td>Jun-20</td>
<td>01/06/2020 09:43</td>
<td>Blue</td>
<td>8.43</td>
</tr>
<tr>
<td>Jun-20</td>
<td>04/06/2020 07:00</td>
<td>Red</td>
<td>2.19</td>
</tr>
<tr>
<td>Jul-20</td>
<td>01/07/2020 06:38</td>
<td>Blue</td>
<td>17.20</td>
</tr>
<tr>
<td>Aug-20</td>
<td>03/08/2020 06:56</td>
<td>Blue</td>
<td>16.00</td>
</tr>
<tr>
<td>Sep-20</td>
<td>01/09/2020 07:11</td>
<td>Blue</td>
<td>8.56</td>
</tr>
<tr>
<td>Sep-20</td>
<td>18/09/2020 08:58</td>
<td>Red</td>
<td>1.00</td>
</tr>
</tbody>
</table>
</div><p>The “order by” is done on mintime, time is a varchar value which is changed based on a dropdown on the dashboard. This produces the following:</p>
<p><div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/iJywNnkhdNhqWWxP0toO4T7E5YH.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/8/834d7883f446712f5f6b7c79883be2c1e1aa3c17.png" rel="noopener nofollow ugc" title="image"><img alt="image" data-base62-sha1="iJywNnkhdNhqWWxP0toO4T7E5YH" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/8/834d7883f446712f5f6b7c79883be2c1e1aa3c17_2_10x10.png" height="215" src="assets/834d7883f446712f5f6b7c79883be2c1e1aa3c17_2_690x215.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/8/834d7883f446712f5f6b7c79883be2c1e1aa3c17_2_690x215.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/8/834d7883f446712f5f6b7c79883be2c1e1aa3c17_2_1035x322.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/8/834d7883f446712f5f6b7c79883be2c1e1aa3c17_2_1380x430.png 2x" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">1873×585 19.9 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>Thanks for the help!</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_6" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/k4s1m.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/k4s1m_avatar.png" tabindex="-1" width="48"/><span itemprop="name">k4s1m</span></a>
</span>
<link href="https://discuss.redash.io/t/custom-sorting-is-overriden-when-stacked-bars-dont-contain-the-same-categories/7290" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-10-06T11:25:48Z" itemprop="datePublished">
                    October 6, 2020, 11:25am
                  </time>
<meta content="2020-10-06T11:25:48Z" itemprop="dateModified"/>
<span itemprop="position">6</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Makes sense! Plotly draws records in the order it encounters them in your data set. Initially the data gets split by your grouping field so your one table becomes two:</p>
<h2>Blue</h2>
<div class="md-table">
<table>
<thead>
<tr>
<th>time</th>
<th>mintime</th>
<th>category</th>
<th>value</th>
</tr>
</thead>
<tbody>
<tr>
<td>20-Jan</td>
<td>31/01/2020 00:00</td>
<td>Blue</td>
<td>-</td>
</tr>
<tr>
<td>20-Apr</td>
<td>17/04/2020 10:46</td>
<td>Blue</td>
<td>6.04</td>
</tr>
<tr>
<td>20-May</td>
<td>1/5/20 10:23</td>
<td>Blue</td>
<td>18.5</td>
</tr>
<tr>
<td>20-Jun</td>
<td>1/6/20 9:43</td>
<td>Blue</td>
<td>8.43</td>
</tr>
<tr>
<td>20-Jul</td>
<td>1/7/20 6:38</td>
<td>Blue</td>
<td>17.2</td>
</tr>
<tr>
<td>20-Aug</td>
<td>3/8/20 6:56</td>
<td>Blue</td>
<td>16</td>
</tr>
<tr>
<td>20-Sep</td>
<td>1/9/20 7:11</td>
<td>Blue</td>
<td>8.56</td>
</tr>
</tbody>
</table>
</div><h2>Red</h2>
<div class="md-table">
<table>
<thead>
<tr>
<th>time</th>
<th>mintime</th>
<th>category</th>
<th>value</th>
</tr>
</thead>
<tbody>
<tr>
<td>20-Feb</td>
<td>14/02/2020 17:33</td>
<td>Red</td>
<td>1.43</td>
</tr>
<tr>
<td>20-Mar</td>
<td>2/3/20 12:25</td>
<td>Red</td>
<td>6.33</td>
</tr>
<tr>
<td>20-May</td>
<td>5/5/20 7:07</td>
<td>Red</td>
<td>1.2</td>
</tr>
<tr>
<td>20-Jun</td>
<td>4/6/20 7:00</td>
<td>Red</td>
<td>2.19</td>
</tr>
<tr>
<td>20-Sep</td>
<td>18/09/2020 08:58</td>
<td>Red</td>
<td>1</td>
</tr>
</tbody>
</table>
</div><p>Then it begins drawing bars by your X-axis field. It sees the first date is January 2020 and draws that blue bar (it’s invisible here because the value is 0). Then it checks the other group table(s) for records in January 2020. Seeing none, it goes to the next record in blue. And so on…</p>
<p>After this it starts going through the next group: Red. It sees a record in February 2020. <em>This is the first time Plotly saw this date</em>. So it adds it to the end of the chart and checks the other group(s) for records from this date. And so forth.</p>
<p>To fix it: select your dates and JOIN the blue and red data off of them. Then UNION the two sets. So that you have a natural, uninterrupted, repeating set of dates like so:</p>
<div class="md-table">
<table>
<thead>
<tr>
<th>time</th>
<th>category</th>
<th>mintime</th>
<th>value</th>
</tr>
</thead>
<tbody>
<tr>
<td>2020-Jan</td>
<td>Red</td>
<td></td>
<td></td>
</tr>
<tr>
<td>2020-Jan</td>
<td>Blue</td>
<td>31/01/2020 00:00</td>
<td>0</td>
</tr>
<tr>
<td>2020-Feb</td>
<td>Red</td>
<td>14/02/2020 17:33</td>
<td>1.43</td>
</tr>
<tr>
<td>2020-Feb</td>
<td>Blue</td>
<td></td>
<td></td>
</tr>
<tr>
<td>2020-Mar</td>
<td>Red</td>
<td>2/3/20 12:25</td>
<td>6.33</td>
</tr>
<tr>
<td>2020-Mar</td>
<td>Blue</td>
<td></td>
<td></td>
</tr>
<tr>
<td>2020-Apr</td>
<td>Red</td>
<td></td>
<td></td>
</tr>
<tr>
<td>2020-Apr</td>
<td>Blue</td>
<td>17/04/2020 10:46</td>
<td>6.04</td>
</tr>
<tr>
<td>2020-May</td>
<td>Red</td>
<td>5/5/20 7:07</td>
<td>1.2</td>
</tr>
<tr>
<td>2020-May</td>
<td>Blue</td>
<td>1/5/20 10:23</td>
<td>18.5</td>
</tr>
<tr>
<td>2020-Jun</td>
<td>Red</td>
<td>4/6/20 7:00</td>
<td>2.19</td>
</tr>
<tr>
<td>2020-Jun</td>
<td>Blue</td>
<td>1/6/20 9:43</td>
<td>8.43</td>
</tr>
<tr>
<td>2020-Jul</td>
<td>Red</td>
<td></td>
<td></td>
</tr>
<tr>
<td>2020-Jul</td>
<td>Blue</td>
<td>1/7/20 6:38</td>
<td>17.2</td>
</tr>
<tr>
<td>2020-Aug</td>
<td>Red</td>
<td></td>
<td></td>
</tr>
<tr>
<td>2020-Aug</td>
<td>Blue</td>
<td>3/8/20 6:56</td>
<td>16</td>
</tr>
<tr>
<td>2020-Sep</td>
<td>Red</td>
<td>18/09/2020 08:58</td>
<td>1</td>
</tr>
<tr>
<td>2020-Sep</td>
<td>Blue</td>
<td>1/9/20 7:11</td>
<td>8.56</td>
</tr>
</tbody>
</table>
</div>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
<div class="crawler-linkback-list" itemscope="" itemtype="http://schema.org/ItemList">
<div itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a href="http://discuss.redash.io/t/wrong-sorting-order-in-visualization-but-right-in-the-table-view/7437/2" itemprop="url">Wrong sorting order in visualization, but right in the table view</a>
<meta content="1" itemprop="position"/>
</div>
<div itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a href="http://discuss.redash.io/t/data-displayed-in-the-wrong-place-in-graph/7602/2" itemprop="url">Data displayed in the wrong place in graph</a>
<meta content="2" itemprop="position"/>
</div>
</div>
</div>
<div class="topic-body crawler-post" id="post_7" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jasonbowes.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jasonbowes_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jasonbowes</span></a>
</span>
<link href="https://discuss.redash.io/t/custom-sorting-is-overriden-when-stacked-bars-dont-contain-the-same-categories/7290" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-10-06T12:20:11Z" itemprop="datePublished">
                    October 6, 2020, 12:20pm
                  </time>
<meta content="2020-10-06T12:20:11Z" itemprop="dateModified"/>
<span itemprop="position">7</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Ah that makes perfect sense, thanks very much for your help.</p>
<p>I hadn’t appreciated that it was splitting the table into groups first and then plotting the chart. I will do as you say and create a consistent and uninterrupted dataset.</p>
<p>Really appreciate your time and help.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_8" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/Indu.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/Indu_avatar.png" tabindex="-1" width="48"/><span itemprop="name">Indu</span></a>
</span>
<link href="https://discuss.redash.io/t/custom-sorting-is-overriden-when-stacked-bars-dont-contain-the-same-categories/7290" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2021-04-07T04:10:06Z" itemprop="datePublished">
                    April 7, 2021,  4:10am
                  </time>
<meta content="2021-04-07T04:10:06Z" itemprop="dateModified"/>
<span itemprop="position">8</span>
</span>
</div>
<div class="post" itemprop="text">
<p>HI</p>
<p>Facing the same issue, where character date is not srorted.</p>
<p>To have a workaround we selected 2 dates, one date format and one in character format.</p>
<p>Selected character date in X axis and provided original date in order by.</p>
<p>Because of group by this work around also not working.</p>
<p>We wont be able to use union all as suggested as our group by column is dynamic and it impacts performance.</p>
<p>Customers have raised this as a bug.</p>
<p>Implemented work  arounds, date formatting, nothing seems to help</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Embedding Redash chart into Notion page - Support - Redash Discourse</title>
    <meta name="description" content="Does anyone here knows how to embed Redash chart into Notion page? When I try it it only shows the bookmark box. 
Thank you">
    <meta name="generator" content="Discourse 3.2.0.beta2-dev - https://github.com/discourse/discourse version 83621ccbe797223b48b624b00ef04f24672e1f03">
<link rel="icon" type="image/png" href="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/1X/01e20869afc0877e3e5aee0f94419b9e9bffa961_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/1X/e1838a8a0c506503a22e0c60e2334374b2895c87_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="https://discuss.redash.io/t/embedding-redash-chart-into-notion-page/9195" />

<link rel="search" type="application/opensearchdescription+xml" href="https://discuss.redash.io/opensearch.xml" title="Redash Discourse Search">

    <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="checklist"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-adplugin"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-akismet"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-cakeday"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-chat-integration"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-footnote"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-narrative-bot_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-presence_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-solved_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-solved"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-spoiler-alert_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-spoiler-alert"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/hosted-site_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="hosted-site"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/poll_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/poll_desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    <meta id="data-ga-universal-analytics" data-tracking-code="UA-47088186-6" data-json="{&quot;cookieDomain&quot;:&quot;auto&quot;}" data-auto-link-domains="">

  <link rel="preload" href="https://global.discourse-cdn.com/standard17/assets/google-universal-analytics-v3-08add7ec997ab472fcd9f821d32ff7caf4b8b9a5de2ec18ca723a040be07a098.gz.js" as="script">
<script defer src="https://global.discourse-cdn.com/standard17/assets/google-universal-analytics-v3-08add7ec997ab472fcd9f821d32ff7caf4b8b9a5de2ec18ca723a040be07a098.gz.js"></script>


        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Embedding Redash chart into Notion page&#39;" href="https://discuss.redash.io/t/embedding-redash-chart-into-notion-page/9195.rss" />
    <meta property="og:site_name" content="Redash Discourse" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/e1838a8a0c506503a22e0c60e2334374b2895c87.png" />
<meta property="og:image" content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/e1838a8a0c506503a22e0c60e2334374b2895c87.png" />
<meta property="og:url" content="https://discuss.redash.io/t/embedding-redash-chart-into-notion-page/9195" />
<meta name="twitter:url" content="https://discuss.redash.io/t/embedding-redash-chart-into-notion-page/9195" />
<meta property="og:title" content="Embedding Redash chart into Notion page" />
<meta name="twitter:title" content="Embedding Redash chart into Notion page" />
<meta property="og:description" content="Does anyone here knows how to embed Redash chart into Notion page? When I try it it only shows the bookmark box.  Thank you" />
<meta name="twitter:description" content="Does anyone here knows how to embed Redash chart into Notion page? When I try it it only shows the bookmark box.  Thank you" />
<meta property="og:article:section" content="Support" />
<meta property="og:article:section:color" content="BF1E2E" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="5 ‚ù§" />
<meta property="article:published_time" content="2021-10-04T11:18:05+00:00" />
<meta property="og:ignore_canonical" content="true" />


    <script type="application/ld+json">{"@context":"http://schema.org","@type":"QAPage","name":"Embedding Redash chart into Notion page","mainEntity":{"@type":"Question","name":"Embedding Redash chart into Notion page","text":"Does anyone here knows how to embed Redash chart into Notion page? When I try it it only shows the bookmark box.\n\nThank you","upvoteCount":1,"answerCount":0,"dateCreated":"2021-10-04T11:18:05.163Z","author":{"@type":"Person","name":"atu"}}}</script>
  </head>
  <body class="crawler ">
    
    <header>
  <a href="/">
    Redash Discourse
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="/t/embedding-redash-chart-into-notion-page/9195">Embedding Redash chart into Notion page</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://discuss.redash.io/c/support/6" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #BF1E2E'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Support</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Embedding Redash chart into Notion page'>
        <meta itemprop='articleSection' content='Support'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='Redash Discourse'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png'>
          </div>
      </div>

          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/maeda'><span itemprop='name'>maeda</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/embedding-redash-chart-into-notion-page/9195">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-10-04T11:18:05Z' class='post-time'>
                    October 4, 2021, 11:18am
                  </time>
                  <meta itemprop='dateModified' content='2021-10-04T11:18:05Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='articleBody'>
              <p>Does anyone here knows how to embed Redash chart into Notion page? When I try it it only shows the bookmark box.</p>
<p>Thank you</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/jesse'><span itemprop='name'>jesse</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/embedding-redash-chart-into-notion-page/9195">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-10-07T05:49:12Z' class='post-time'>
                    October 7, 2021,  5:49am
                  </time>
                  <meta itemprop='dateModified' content='2021-10-07T05:49:12Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Do you see any errors in your browser console if you visit notion from a web browser?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/maeda'><span itemprop='name'>maeda</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/embedding-redash-chart-into-notion-page/9195">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-10-07T09:11:01Z' class='post-time'>
                    October 7, 2021,  9:11am
                  </time>
                  <meta itemprop='dateModified' content='2021-10-07T09:11:01Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Hi Jesse, thanks for your reply. Yes I see a lot of errors on my browser console.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/jesse'><span itemprop='name'>jesse</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/embedding-redash-chart-into-notion-page/9195">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-10-07T14:06:44Z' class='post-time'>
                    October 7, 2021,  2:06pm
                  </time>
                  <meta itemprop='dateModified' content='2021-10-07T14:06:44Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Unless you post examples of the errors you see there‚Äôs no way we can help you.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/lelesrc'><span itemprop='name'>lelesrc</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/embedding-redash-chart-into-notion-page/9195">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-11-23T00:06:13Z' class='post-time'>
                    November 23, 2021, 12:06am
                  </time>
                  <meta itemprop='dateModified' content='2021-11-23T00:06:13Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Same here: embedding a redash iframe in notion results in a bookmark and not an actual iframe as expected.<br>
I don‚Äôt believe the issue to be client-related. I run a self-hosted instance; inspecting server logs I noticed this request when adding the embedded iframe in notion:</p>
<pre><code class="lang-auto">"GET /embed/query/3/visualization/11?api_key=xxxxxxxxxx HTTP/1.1" 200 568 "-" "Mozilla/5.0 (compatible; Embedly/0.2; +http://support.embed.ly/)"
"HEAD /embed/query/3/visualization/11?api_key=xxxxxxxxxx&amp; HTTP/1.1" 200 0 "-" "NotionEmbedder"
</code></pre>
<p>So, it seems that notion/embed.ly visits the page and finds something that prevents the embed.</p>
<p>Maybe this information can help.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/jesse'><span itemprop='name'>jesse</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/embedding-redash-chart-into-notion-page/9195">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-11-23T16:49:46Z' class='post-time'>
                    November 23, 2021,  4:49pm
                  </time>
                  <meta itemprop='dateModified' content='2021-11-23T16:49:46Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>This is great information. You can get a better sense of what‚Äôs happening on the Redash side by examining the server logs. Find the request from Notion and see if Redash returns a code 200 or 500 or something else.</p>
<p>There are a few ways this could break depending on what Notion expects to find when scraping embed content.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_7' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/lelesrc'><span itemprop='name'>lelesrc</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/embedding-redash-chart-into-notion-page/9195">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-11-23T17:07:00Z' class='post-time'>
                    November 23, 2021,  5:07pm
                  </time>
                  <meta itemprop='dateModified' content='2021-11-23T17:07:00Z'>
              <span itemprop='position'>7</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>In the logs I attached you have 2 http reqs. Response codes are both 200 OK, so nothing to investigate on.</p>
<p>The only element I see here is that one req is a GET, the other is an HEAD.</p>
<p>HEAD makes my think to something (NotionEmbedder?) doing a CORS pre-flight check.<br>
Check that goes wrong in our case‚Ä¶</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_8' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/jesse'><span itemprop='name'>jesse</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/embedding-redash-chart-into-notion-page/9195">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-11-23T18:13:53Z' class='post-time'>
                    November 23, 2021,  6:13pm
                  </time>
                  <meta itemprop='dateModified' content='2021-11-23T18:13:53Z'>
              <span itemprop='position'>8</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="lelesrc" data-post="7" data-topic="9195">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://sjc6.discourse-cdn.com/standard17/user_avatar/discuss.redash.io/lelesrc/40/3550_2.png" class="avatar"> lelesrc:</div>
<blockquote>
<p>HEAD makes my think to something (NotionEmbedder?) doing a CORS pre-flight check.</p>
</blockquote>
</aside>
<p>Agreed.</p>
<p>Have you set your Redash CORS headers to allow requests from notion?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_9' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/lelesrc'><span itemprop='name'>lelesrc</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/embedding-redash-chart-into-notion-page/9195">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-11-23T21:56:52Z' class='post-time'>
                    November 23, 2021,  9:56pm
                  </time>
                  <meta itemprop='dateModified' content='2021-11-23T21:56:52Z'>
              <span itemprop='position'>9</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Thank you <a class="mention" href="/u/jesse">@jesse</a> for your kind support!</p>
<p>Had a look around and I guess this is the problem, or at least we are very close‚Ä¶</p>
<aside class="quote quote-modified" data-post="1" data-topic="6863">
  <div class="title">
    <div class="quote-controls"></div>
    <img loading="lazy" alt="" width="20" height="20" src="https://sjc6.discourse-cdn.com/standard17/user_avatar/discuss.redash.io/superwesman/40/2230_2.png" class="avatar">
    <a href="http://discuss.redash.io/t/why-are-cors-headers-only-partially-implemented-in-redash-8-will-this-be-fixed-in-redash-9/6863">Why are CORS headers only partially implemented in Redash 8? Will this be fixed in Redash 9?</a> <a class="badge-wrapper  bullet" href="/c/support/support-self-hosted/9"><span class="badge-category-parent-bg" style="background-color: #BF1E2E;"></span><span class="badge-category-bg" style="background-color: #AB9364;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Support on installing, configuring and troubleshooting issues with self hosted Redash.">Self Hosted Redash Support</span></a>
  </div>
  <blockquote>
    Issue Summary
We have been attempting to write a web application that uses the redash API and have been stymied by CORS errors.  We have found that the REDASH_CORS_ACCESS_CONTROL_ALLOW_ORIGIN setting does not consistently affect the presence of CORS headers in the redash responses. 
As we looked more closely, we found that the CORS headers are only provided as part of the query_result endpoint and not as part of any other endpoint in the redash API. 
<a class="mention" href="/u/arikfr">@arikfr</a>, Why is CORS support only partially i‚Ä¶
  </blockquote>
</aside>

            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_10' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/lelesrc'><span itemprop='name'>lelesrc</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/embedding-redash-chart-into-notion-page/9195">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-11-25T02:09:41Z' class='post-time'>
                    November 25, 2021,  2:09am
                  </time>
                  <meta itemprop='dateModified' content='2021-11-25T02:21:01Z'>
              <span itemprop='position'>10</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>At the end, embedding Redash widgets in Notion is not (only) a CORS problem, definitely.</p>
<p>Embeddability is decided somehow by Notion (it ‚Äúchecks‚Äù the site as soon as the url is entered) and there are no published specs about how this check works, ATM.</p>
<p>I tested a static html page  on the same redash server (w/ tested cors configuration, X-Frame-Options allow all) containing only a redash widget url wrapped in an iframe tag. In this way it works perfectly.</p>
<p>Since the same frontend serve both the redash widget url (that doesn‚Äôt work as embed) and the static page containing the iframe-wrapped redash widget url (that instead works), CORS is ruled out -  it seems only a matter of html content.</p>
<p>I quickly built a simple tool to embed redash widgets in notion:</p>
<p><a href="https://lt1jl.sse.codesandbox.io/generator" class="onebox" target="_blank" rel="noopener nofollow ugc">https://lt1jl.sse.codesandbox.io/generator</a></p>
<p>It generates a link that Notion accepts as embed.<br>
Using query params, the link points to an html page where the redash share url is wrapped in an iframe.</p>
<p>This should solve the op issue and may be useful to other notion/redash users.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_11' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/jesse'><span itemprop='name'>jesse</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/embedding-redash-chart-into-notion-page/9195">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-11-25T18:43:39Z' class='post-time'>
                    November 25, 2021,  6:43pm
                  </time>
                  <meta itemprop='dateModified' content='2021-11-25T18:43:39Z'>
              <span itemprop='position'>11</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>This is excellent. Thanks so much!</p>
<p>Anything we can change about Redash embeds to make them more compatible for this?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_12' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/lelesrc'><span itemprop='name'>lelesrc</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/embedding-redash-chart-into-notion-page/9195">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-11-26T16:23:52Z' class='post-time'>
                    November 26, 2021,  4:23pm
                  </time>
                  <meta itemprop='dateModified' content='2021-11-26T16:23:52Z'>
              <span itemprop='position'>12</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>ATM the only workaround I‚Äôve found around is putting the redash widget url in a page like this:</p>
<pre><code class="lang-auto">&lt;html&gt;

&lt;head&gt;
  &lt;title&gt;Notion Embeddable&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;iframe src="REDASH_URL_HERE" width="100%" height="300px"&gt;
  &lt;/iframe&gt;
&lt;/body&gt;

&lt;/html&gt;
</code></pre>
<p>The POC I wrote builds this page from url params and gives it back to Notion.</p>
<p>Basically, the same html could be returned by:</p>
<ul>
<li>a named route like <code>/deep-embed/query/20/visualization/40</code>
</li>
<li>adding query params <code>/embed/query/20/visualization/40?deep_embed=true</code>
</li>
</ul>
<p>‚Ä¶but I don‚Äôt personally like this solution. The solution I‚Äôd prefer would be refactor the widget page to make it directly embeddable on most platforms - and I‚Äôm pretty sure the above html is not the best option.</p>
<p>I‚Äôm asking guys at Notion if they have some guidelines about content embedding and I‚Äôll keep you updated!</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_13' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/lelesrc'><span itemprop='name'>lelesrc</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/embedding-redash-chart-into-notion-page/9195">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-11-30T11:05:13Z' class='post-time'>
                    November 30, 2021, 11:05am
                  </time>
                  <meta itemprop='dateModified' content='2021-11-30T11:05:13Z'>
              <span itemprop='position'>13</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Update:</p>
<p>I get in touch with Notion support asking for embedding specs.<br>
The answer is that they delegate the embedding feature to an external service (embed.ly) and we must comply with it.</p>
<p>I had a quick look to embed.ly documentation and AFAIU the requirement we are interested in is compliance with oEmbed standard (<a href="https://oembed.com/" rel="noopener nofollow ugc">https://oembed.com/</a>).</p>
<p><a class="mention" href="/u/jesse">@jesse</a>: To answer your question, supporting oEmbed is probably the right way to make Redash widget embedding supported on most platforms (including Notion).</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
    </div>






    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='/guidelines' itemprop="url">FAQ/Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='http://redash.io/terms.html' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='http://redash.io/privacy.html' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>

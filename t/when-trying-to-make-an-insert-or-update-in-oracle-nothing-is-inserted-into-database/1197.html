<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>When Trying to make an INSERT or UPDATE in Oracle, nothing is inserted into database</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/when-trying-to-make-an-insert-or-update-in-oracle-nothing-is-inserted-into-database/1197">When Trying to make an INSERT or UPDATE in Oracle, nothing is inserted into database</a>
</h1>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content="When Trying to make an INSERT or UPDATE in Oracle, nothing is inserted into database" itemprop="headline"/>
<meta content="Uncategorized" itemprop="articleSection"/>
<meta content="" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/doddjc.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/doddjc_avatar.png" tabindex="-1" width="48"/><span itemprop="name">doddjc</span></a>
</span>
<link href="https://discuss.redash.io/t/when-trying-to-make-an-insert-or-update-in-oracle-nothing-is-inserted-into-database/1197" itemprop="mainEntityOfPage"/>
<link href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/a704628382462fd4ab697351a0e049ab7a2befe6.PNG" itemprop="image"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2017-10-25T14:47:58Z" itemprop="datePublished">
                    October 25, 2017,  2:47pm
                  </time>
<meta content="2019-07-31T06:19:53Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>I’m trying to make an INSERT Query within my Oracle database and have redash configured to use cx_Oracle v5.2 as well as set up the necessary library paths and other variables.  However, when I run this query, nothing gets inserted into the database and I get the error: Error Running Query : Query completed but it returned no data.  My process has been inserted below, would love to know if anyone else has had trouble with this issue and resolved it or if this is a bug I should submit for future fixes with how the redash oracle query runner works.  My user for oracle has read and write permission so it isn’t a matter of not being able to insert, but maybe has to do with how the cx_Oracle module is trying to integrate with the redash python script.  Thanks for your help!<br/>
<div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/nPv8bow19q4LMdGPZmhjW7FK2Ue.PNG?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/a704628382462fd4ab697351a0e049ab7a2befe6.PNG" rel="noopener nofollow ugc" title=""><img alt="" data-base62-sha1="nPv8bow19q4LMdGPZmhjW7FK2Ue" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/1X/a704628382462fd4ab697351a0e049ab7a2befe6_2_10x10.png" height="313" src="assets/a704628382462fd4ab697351a0e049ab7a2befe6_2_690x313.PNG" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/1X/a704628382462fd4ab697351a0e049ab7a2befe6_2_690x313.PNG, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/1X/a704628382462fd4ab697351a0e049ab7a2befe6_2_1035x469.PNG 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/a704628382462fd4ab697351a0e049ab7a2befe6.PNG 2x" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename"></span><span class="informations">1140×518 29.4 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/matbott.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/matbott_avatar.png" tabindex="-1" width="48"/><span itemprop="name">matbott</span></a>
</span>
<link href="https://discuss.redash.io/t/when-trying-to-make-an-insert-or-update-in-oracle-nothing-is-inserted-into-database/1197" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2017-10-27T17:35:23Z" itemprop="datePublished">
                    October 27, 2017,  5:35pm
                  </time>
<meta content="2017-10-27T17:35:23Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I have the same problem with mysql update</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/arikfr.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/arikfr_avatar.png" tabindex="-1" width="48"/><span itemprop="name">arikfr</span></a>
</span>
<link href="https://discuss.redash.io/t/when-trying-to-make-an-insert-or-update-in-oracle-nothing-is-inserted-into-database/1197" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2017-10-29T13:39:57Z" itemprop="datePublished">
                    October 29, 2017,  1:39pm
                  </time>
<meta content="2017-10-29T13:39:57Z" itemprop="dateModified"/>
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p><a class="onebox" href="https://redash.io/help/troubleshooting/query_complete_no_data.html" target="_blank">https://redash.io/help/troubleshooting/query_complete_no_data.html</a></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/placajack1.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/placajack1_avatar.png" tabindex="-1" width="48"/><span itemprop="name">placajack1</span></a>
</span>
<link href="https://discuss.redash.io/t/when-trying-to-make-an-insert-or-update-in-oracle-nothing-is-inserted-into-database/1197" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-03-02T14:36:00Z" itemprop="datePublished">
                    March 2, 2019,  2:36pm
                  </time>
<meta content="2019-03-02T14:37:25Z" itemprop="dateModified"/>
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<p>This is a confirmed bug with mysql data source. What is the best way to file a bug report <a class="mention" href="/u/arikfr">@arikfr</a>?</p>
<p>I have not reviewed the code, but I would be willing to guess that a con.commit() isn’t happening since if a insert and select is run in the same query, the inserted row is returned, however if run in separate queries, the inserted row no longer appears.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_5" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/placajack1.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/placajack1_avatar.png" tabindex="-1" width="48"/><span itemprop="name">placajack1</span></a>
</span>
<link href="https://discuss.redash.io/t/when-trying-to-make-an-insert-or-update-in-oracle-nothing-is-inserted-into-database/1197" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-11T18:37:57Z" itemprop="datePublished">
                    June 11, 2020,  6:37pm
                  </time>
<meta content="2020-06-11T18:37:57Z" itemprop="dateModified"/>
<span itemprop="position">5</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Patch to enable committing</p>
<pre><code>diff mysql.py.8.patched backup/mysql.py.8.backup
187d186
&lt;             rowcount=cursor.rowcount
191d189
&lt;
209,211d206
&lt;             elif rowcount==0:
&lt;                 r.json_data = None
&lt;                 r.error = "No data was returned and no rows were updated."
214,218c209,210
&lt;                 connection.commit()
&lt;                 if rowcount == 1:
&lt;                         r.error = "%s row was updated."%rowcount
&lt;                 else:
&lt;                         r.error = "%s rows were updated."%rowcount
---
&gt;                 r.error = "No data was returned."
</code></pre>
<p><a class="mention" href="/u/doddjc">@doddjc</a> I’m guessing you will need to patch the Oracle code similarly (if you haven’t already).</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>Redash events table missing from version 9 beta</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/redash-events-table-missing-from-version-9-beta/8929">Redash events table missing from version 9 beta</a>
</h1>
<div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/6.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Support</span>
</span>
</a>
<meta content="1" itemprop="position"/>
</span>
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/support-usage/10.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Usage Support</span>
</span>
</a>
<meta content="2" itemprop="position"/>
</span>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content="Redash events table missing from version 9 beta" itemprop="headline"/>
<meta content="Usage Support" itemprop="articleSection"/>
<meta content="" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/dutch.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/dutch_avatar.png" tabindex="-1" width="48"/><span itemprop="name">dutch</span></a>
</span>
<link href="assets/8929" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2021-08-12T18:36:31Z" itemprop="datePublished">
                    August 12, 2021,  6:36pm
                  </time>
<meta content="2021-08-12T18:36:31Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>Hi All,</p>
<p>I’m on version 9.0.0-beta and my main goal here is to query Redash usage data (what are the most viewed dashboards? which objects have not been used a long time and could probably be deprecated? etc).</p>
<p>I found evidence that this is or has been possible in the past:</p>
<p><code>select * from events where object_type='dashboard' and action='view' order by created_at desc</code><br/>
from <a href="http://discuss.redash.io/t/dashboard-usage-tracking/4649">this thread</a>.</p>
<p>I have tried querying the Query Results data source for an <code>events</code> table and found nothing (slightly related, I’m unable to see what tables/schemas are even available in this data source; I tried SQLite’s syntax to no avail: <code>.table</code> , <code>.ta</code> and <code>.tables</code> all failed).</p>
<p>If I am looking in the wrong place or if having an <code>events</code> table depends on whether I’m self-hosted or not, I would love to know.</p>
<p>Hope this yields insight and helps others.</p>
<p>Thanks!</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/8929" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2021-08-13T01:55:52Z" itemprop="datePublished">
                    August 13, 2021,  1:55am
                  </time>
<meta content="2021-08-13T01:55:52Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>QRDS uses an in-memory SQLite database. It has no tables in it until you use it to query another query result.</p>
<p>What you want is to connect with Redash’s internal metadata database. The exact method for this varies depending on your installation. But ultimately you’ll add it like any other Postgres data source.</p>
<p>On the development Docker instance this is easy because the Postgres server is aliased as <code>postgres</code> within the containers. So you can create a data source with <code>postgres</code> as the host, user, pass, and db <img alt=":wink:" class="emoji" src="assets/wink.png" title=":wink:"/></p>
<p>FYI: the events table <em>can</em> be used for this but it’s not designed for it. For page views it’s fine but it won’t help if you want to know every time a query is executed, for example.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/dataholic99.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/dataholic99_avatar.png" tabindex="-1" width="48"/><span itemprop="name">dataholic99</span></a>
</span>
<link href="assets/8929" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2021-08-14T09:37:28Z" itemprop="datePublished">
                    August 14, 2021,  9:37am
                  </time>
<meta content="2021-08-14T09:37:28Z" itemprop="dateModified"/>
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hey <a class="mention" href="/u/jesse">@jesse</a></p>
<p>We are using the events table to do user level auditing in v8,  We are testing v10 right now and it has the same issue.</p>
<p>Events table has no data in it. i have plenty of saved queries. Is there any particular reason behind this or it is a bug ?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/8929" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2021-08-14T15:14:24Z" itemprop="datePublished">
                    August 14, 2021,  3:14pm
                  </time>
<meta content="2021-08-14T15:14:24Z" itemprop="dateModified"/>
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Interesting. We’ve had a few reports of this</p>
<aside class="quote quote-modified" data-post="8" data-topic="4649">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" loading="lazy" src="https://avatars.discourse-cdn.com/v4/letter/f/ecb155/40.png" width="20"/>
<a href="http://discuss.redash.io/t/dashboard-usage-tracking/4649/8">Dashboard Usage Tracking</a> <a class="badge-wrapper bullet" href="/c/support/6"><span class="badge-category-bg" style="background-color: #BF1E2E;"></span><span class="badge-category clear-badge" data-drop-close="true" style="" title="Support on installing, configuring and using Redash.">Support</span></a>
</div>
<blockquote>
    Hello! 
I am trying to access Redash’s DB but the events table on Redash RDS seems empty for me. 
 <a class="lightbox" data-download-href="/uploads/short-url/hXcaoWmxhp50boNjZJQ33D2xzY9.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/7/7dd5feef5dd77f89203255403dbbc2ff9a981a95.png" rel="noopener nofollow ugc" title="image">[image]</a> 
All the other tables have data in them except for this events table. I want to track the dashboard usage so would like to use this table. Do you know why this might be happening? 
Let me know if I am missing something here. Thank you!
  </blockquote>
</aside>
<aside class="quote quote-modified" data-post="8" data-topic="5122">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" loading="lazy" src="https://avatars.discourse-cdn.com/v4/letter/f/ecb155/40.png" width="20"/>
<a href="http://discuss.redash.io/t/users-running-queries-or-query-history/5122/8">Users running queries or query history</a> <a class="badge-wrapper bullet" href="/c/support/support-usage/10"><span class="badge-category-parent-bg" style="background-color: #BF1E2E;"></span><span class="badge-category-bg" style="background-color: #AB9364;"></span><span class="badge-category clear-badge" data-drop-close="true" style="" title="Need help with using Redash? Not sure if something is possible or how to do it right? Here’s the place to ask.">Usage Support</span></a>
</div>
<blockquote>
    Hey <a class="mention" href="/u/arikfr">@arikfr</a>! 
Thank you for a great BI tool and these helpful forums. I am trying to access Redash’s DB but the events table on Redash RDS seems empty for me. 
 <a class="lightbox" data-download-href="/uploads/short-url/hXcaoWmxhp50boNjZJQ33D2xzY9.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/7/7dd5feef5dd77f89203255403dbbc2ff9a981a95.png" rel="noopener nofollow ugc" title="image">[image]</a> 
All the other tables have data in them except for this events table. I want to track the dashboard usage so would like to use this table. Do you know why this might be happening? 
Let me know if I am missing something here. Thank you!
  </blockquote>
</aside>
<p>But no real conclusion to what caused it. I don’t observe this behaviour with the V10 beta, however. Can you try it?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_5" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/gromnsk.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/gromnsk_avatar.png" tabindex="-1" width="48"/><span itemprop="name">gromnsk</span></a>
</span>
<link href="assets/8929" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2021-12-15T06:24:45Z" itemprop="datePublished">
                    December 15, 2021,  6:24am
                  </time>
<meta content="2021-12-15T06:24:45Z" itemprop="dateModified"/>
<span itemprop="position">5</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hi, have the same problem with v10.1.0, nothing in events table after update from V8, but we need this table for audit purposes</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_6" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/8929" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2021-12-15T19:28:05Z" itemprop="datePublished">
                    December 15, 2021,  7:28pm
                  </time>
<meta content="2021-12-15T19:28:05Z" itemprop="dateModified"/>
<span itemprop="position">6</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Thank you for bumping this. The struggle here has been an inability to reproduce the problem by members of the core team. I will give it another try today. If not, we can’t do anything about it without a reproduction. But we are of course happy to merge a PR fixing it (and a 10.2 release) if someone in the community has better visibility into the issue than do we.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_7" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/lscapim.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/lscapim_avatar.png" tabindex="-1" width="48"/><span itemprop="name">lscapim</span></a>
</span>
<link href="assets/8929" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-03-04T13:47:10Z" itemprop="datePublished">
                    March 4, 2022,  1:47pm
                  </time>
<meta content="2022-03-04T13:47:10Z" itemprop="dateModified"/>
<span itemprop="position">7</span>
</span>
</div>
<div class="post" itemprop="text">
<p>We have the same problem with version 8 and after the update from version 10.1.0, nothing in events table. We use this table for audit too.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_8" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/8929" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-03-04T21:40:47Z" itemprop="datePublished">
                    March 4, 2022,  9:40pm
                  </time>
<meta content="2022-03-04T21:40:47Z" itemprop="dateModified"/>
<span itemprop="position">8</span>
</span>
</div>
<div class="post" itemprop="text">
<p>We’re still without a reproduction on this. Until we can reproduce it there’s no way to debug / fix it <img alt=":frowning:" class="emoji" height="20" loading="lazy" src="assets/frowning.png" title=":frowning:" width="20"/></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_10" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/lscapim.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/lscapim_avatar.png" tabindex="-1" width="48"/><span itemprop="name">lscapim</span></a>
</span>
<link href="assets/8929" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-04-12T12:33:22Z" itemprop="datePublished">
                    April 12, 2022, 12:33pm
                  </time>
<meta content="2022-04-12T12:33:22Z" itemprop="dateModified"/>
<span itemprop="position">10</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I understand, but we did a test… we took a clean image of Redash version 8.0.2.b37747 and another with version 10.1.0.b50633, in version 10 we have the problem, but in version 8 we don’t. Could you take an original version of 10, and deploy it in an environment, to check if the error occurs?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_11" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/dgho6348.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/dgho6348_avatar.png" tabindex="-1" width="48"/><span itemprop="name">dgho6348</span></a>
</span>
<link href="assets/8929" itemprop="mainEntityOfPage"/>
<link href="assets/7877148dd9ba705826361ce875715b7138ad9262.png" itemprop="image"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-04-21T16:35:16Z" itemprop="datePublished">
                    April 21, 2022,  4:35pm
                  </time>
<meta content="2022-04-21T17:39:28Z" itemprop="dateModified"/>
<span itemprop="position">11</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Bumping this, since we have the same issue when we upgraded from v8 to v10.0.1 and still running into this. Can you see if the clean install helps with repro?<br/>
Alternatively, what else can we use to audit events in redash?<br/>
TIA<br/>
Additional information:<br/>
When I look at the docker logs for server container, I see the POST to the api endpoint is returning a 200 reponse. Yet nothing in the DB table.<br/>
<div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/hbGqkV7ypK6O4PxIuaib5aWZZSy.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/7/7877148dd9ba705826361ce875715b7138ad9262.png" rel="noopener nofollow ugc" title="image"><img alt="image" data-base62-sha1="hbGqkV7ypK6O4PxIuaib5aWZZSy" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/7/7877148dd9ba705826361ce875715b7138ad9262_2_10x10.png" height="37" src="assets/7877148dd9ba705826361ce875715b7138ad9262_2_690x37.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/7/7877148dd9ba705826361ce875715b7138ad9262_2_690x37.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/7/7877148dd9ba705826361ce875715b7138ad9262_2_1035x55.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/7/7877148dd9ba705826361ce875715b7138ad9262_2_1380x74.png 2x" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">3430×184 47.7 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_12" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/8929" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-04-22T20:43:26Z" itemprop="datePublished">
                    April 22, 2022,  8:43pm
                  </time>
<meta content="2022-04-22T20:43:26Z" itemprop="dateModified"/>
<span itemprop="position">12</span>
</span>
</div>
<div class="post" itemprop="text">
<p>FYI <a class="mention" href="/u/lscapim">@lscapim</a> I did exactly what you recommended…and still not able to reproduce this at all.</p>
<ol>
<li>Deploy the v8 AMI</li>
<li>Upgrade it to V10.1 (latest release)</li>
<li>Click around, run some queries</li>
<li>All events appear on the <code>events</code> table as expected</li>
</ol>
<p>I show no gaps or strange behaviour.</p>
<p>Where exactly are you looking for <code>events</code>? Are you connecting to your metadata database? Or are you looking with QRDS?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_13" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/dgho6348.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/dgho6348_avatar.png" tabindex="-1" width="48"/><span itemprop="name">dgho6348</span></a>
</span>
<link href="assets/8929" itemprop="mainEntityOfPage"/>
<link href="assets/dd7789baf261040018c7a4d91b0d0c92f012421e.png" itemprop="image"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-04-29T17:25:10Z" itemprop="datePublished">
                    April 29, 2022,  5:25pm
                  </time>
<meta content="2022-04-29T17:25:10Z" itemprop="dateModified"/>
<span itemprop="position">13</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I was able to fix the issue, might not be the ideal solution, but want to share it here for everyone’s benefit.<br/>
Debugging steps:</p>
<p>We are running V10 of Redash on ECS.<br/>
I issued a “query refresh” from IU, logged onto the redis container, and ran a :</p>
<pre><code class="lang-auto"> docker exec &lt;container&gt; redis-cli monitor
</code></pre>
<p>The event queries were getting queued in the default queue: rs.queue.default - but stuck there and not picked by workers.<br/>
This might be related to the bug <a class="inline-onebox" href="https://github.com/rq/rq/issues/758" rel="noopener nofollow ugc">Job queued but not run · Issue #758 · rq/rq · GitHub</a></p>
<p>Resolution:<br/>
Swapped the queue from default to queries(this is not ideal and I am going to create a dedicated queue for events, but for testing sake used the queries queue)<br/>
here : <a class="inline-onebox" href="https://github.com/getredash/redash/blob/2589bef1f21b7c84e4ceacdf5cd2c620bdedb111/redash/tasks/general.py#L15" rel="noopener nofollow ugc">redash/general.py at 2589bef1f21b7c84e4ceacdf5cd2c620bdedb111 · getredash/redash · GitHub</a><br/>
after building and verifying it was using the queries queue, I was able to see the events in the database.<br/>
<div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/vBbD3BXWU83IaNGOnhzwDzxkaxE.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/d/dd7789baf261040018c7a4d91b0d0c92f012421e.png" rel="noopener nofollow ugc" title="image"><img alt="image" data-base62-sha1="vBbD3BXWU83IaNGOnhzwDzxkaxE" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/d/dd7789baf261040018c7a4d91b0d0c92f012421e_2_10x10.png" height="114" src="assets/dd7789baf261040018c7a4d91b0d0c92f012421e_2_690x114.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/d/dd7789baf261040018c7a4d91b0d0c92f012421e_2_690x114.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/d/dd7789baf261040018c7a4d91b0d0c92f012421e_2_1035x171.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/d/dd7789baf261040018c7a4d91b0d0c92f012421e.png 2x" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">1222×202 132 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
<div class="crawler-linkback-list" itemscope="" itemtype="http://schema.org/ItemList">
<div itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a href="http://discuss.redash.io/t/redash-eating-disk-space/10490/3" itemprop="url">Redash Eating Disk Space</a>
<meta content="4" itemprop="position"/>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
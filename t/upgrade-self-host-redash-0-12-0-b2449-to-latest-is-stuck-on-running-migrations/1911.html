<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>Upgrade self host redash 0.12.0.b2449 to latest is stuck on "Running migrations"</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/upgrade-self-host-redash-0-12-0-b2449-to-latest-is-stuck-on-running-migrations/1911">Upgrade self host redash 0.12.0.b2449 to latest is stuck on "Running migrations"</a>
</h1>
<div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/6.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Support</span>
</span>
</a>
<meta content="1" itemprop="position"/>
</span>
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/support-self-hosted/9.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Self Hosted Redash Support</span>
</span>
</a>
<meta content="2" itemprop="position"/>
</span>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content='Upgrade self host redash 0.12.0.b2449 to latest is stuck on "Running migrations"' itemprop="headline"/>
<meta content="Self Hosted Redash Support" itemprop="articleSection"/>
<meta content="" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/yahel.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/yahel_avatar.png" tabindex="-1" width="48"/><span itemprop="name">yahel</span></a>
</span>
<link href="https://discuss.redash.io/t/upgrade-self-host-redash-0-12-0-b2449-to-latest-is-stuck-on-running-migrations/1911" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-05-15T07:54:42Z" itemprop="datePublished">
                    May 15, 2018,  7:54am
                  </time>
<meta content="2018-05-15T07:54:42Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<h3>Issue Summary</h3>
<p>OS: Ubuntu 12.04.5</p>
<p>Hi,<br/>
I’m trying to upgrade 0.12.0.b2449 to latest version.<br/>
The upgrade is stuck on step “Running migrations (if needed)…”</p>
<p>Is there any upgrade log / debug mode where I can see what’s being done and what’s the problem?</p>
<p>When I finally press ctrl+c I get this python traceback:</p>
<p>File “./upgrade”, line 242, in <br/>
deploy_release(args.channel)<br/>
File “./upgrade”, line 228, in deploy_release<br/>
apply_migrations(release)<br/>
File “./upgrade”, line 142, in apply_migrations<br/>
run(“sudo -u redash bin/run ./manage.py db upgrade”, cwd=version_path(release.version_name))<br/>
File “./upgrade”, line 26, in run<br/>
return subprocess.check_output(cmd, cwd=cwd, shell=True, stderr=subprocess.STDOUT)<br/>
File “/usr/lib/python2.7/subprocess.py”, line 538, in check_output<br/>
output, unused_err = process.communicate()<br/>
File “/usr/lib/python2.7/subprocess.py”, line 746, in communicate<br/>
stdout = _eintr_retry_call(self.stdout.read)<br/>
File “/usr/lib/python2.7/subprocess.py”, line 478, in _eintr_retry_call<br/>
return func(*args)</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/arikfr.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/arikfr_avatar.png" tabindex="-1" width="48"/><span itemprop="name">arikfr</span></a>
</span>
<link href="https://discuss.redash.io/t/upgrade-self-host-redash-0-12-0-b2449-to-latest-is-stuck-on-running-migrations/1911" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-05-18T15:51:00Z" itemprop="datePublished">
                    May 18, 2018,  3:51pm
                  </time>
<meta content="2018-05-18T15:51:00Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Make sure that there are no Redash processes running.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/yahel.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/yahel_avatar.png" tabindex="-1" width="48"/><span itemprop="name">yahel</span></a>
</span>
<link href="https://discuss.redash.io/t/upgrade-self-host-redash-0-12-0-b2449-to-latest-is-stuck-on-running-migrations/1911" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-05-21T14:13:08Z" itemprop="datePublished">
                    May 21, 2018,  2:13pm
                  </time>
<meta content="2018-05-21T14:13:08Z" itemprop="dateModified"/>
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p>There weren’t before running ./upgrade.</p>
<p>I see these while process is still stuck:</p>
<p>root      9775  9739  0 13:35 pts/2    00:00:00 /bin/sh -c sudo -u redash bin/run ./manage.py db upgrade<br/>
root      9776  9775  0 13:35 pts/2    00:00:00 sudo -u redash bin/run ./manage.py db upgrade<br/>
redash    9777  9776  0 13:35 pts/2    00:00:01 python /opt/redash/redash.4.0.1.b4038/manage.py db upgrade<br/>
postgres  9793 16038  0 13:35 ?        00:00:00 postgres: redash redash [local] idle in transaction<br/>
postgres  9794 16038  0 13:35 ?        00:00:00 postgres: redash redash [local] SELECT waiting</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/tsvivek.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/tsvivek_avatar.png" tabindex="-1" width="48"/><span itemprop="name">tsvivek</span></a>
</span>
<link href="https://discuss.redash.io/t/upgrade-self-host-redash-0-12-0-b2449-to-latest-is-stuck-on-running-migrations/1911" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-06-14T08:12:32Z" itemprop="datePublished">
                    June 14, 2018,  8:12am
                  </time>
<meta content="2018-06-14T08:12:32Z" itemprop="dateModified"/>
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I am facing the exact same issue. As suggested i stopped all redash processes (except redis). However the result is still the same. The upgrade script is stuck at the same point.</p>
<p>I tried running the command directly as follows:</p>
<p>bin/run ./manage.py db upgrade</p>
<p>It throws the following output:</p>
<p>[2018-06-14 01:06:38,727][PID:12153][INFO][alembic.runtime.migration] Context impl PostgresqlImpl.<br/>
[2018-06-14 01:06:38,731][PID:12153][INFO][alembic.runtime.migration] Will assume transactional DDL.<br/>
[2018-06-14 01:06:38,793][PID:12153][INFO][alembic.runtime.migration] Running upgrade  -&gt; 65fc9ede4746, Add is_draft status to queries and dashboards<br/>
[2018-06-14 01:06:38,824][PID:12153][INFO][alembic.runtime.migration] Running upgrade 65fc9ede4746 -&gt; d1eae8b9893e, add Query.schedule_failures<br/>
[2018-06-14 01:06:38,857][PID:12153][INFO][alembic.runtime.migration] Running upgrade d1eae8b9893e -&gt; 7671dca4e604, empty message<br/>
[2018-06-14 01:06:38,861][PID:12153][INFO][alembic.runtime.migration] Running upgrade 7671dca4e604 -&gt; 5ec5c84ba61e, Add Query.search_vector field for full text search.<br/>
[2018-06-14 01:06:39,068][PID:12153][INFO][alembic.runtime.migration] Running upgrade 5ec5c84ba61e -&gt; 6b5be7e0a0ef, Re-index Query.search_vector with existing queries.<br/>
[2018-06-14 01:06:39,274][PID:12153][INFO][alembic.runtime.migration] Running upgrade 6b5be7e0a0ef -&gt; 969126bd800f, Update widget’s position data based on dashboard layout.<br/>
Updating dashboards position data:</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_5" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/tsvivek.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/tsvivek_avatar.png" tabindex="-1" width="48"/><span itemprop="name">tsvivek</span></a>
</span>
<link href="https://discuss.redash.io/t/upgrade-self-host-redash-0-12-0-b2449-to-latest-is-stuck-on-running-migrations/1911" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-06-14T10:12:26Z" itemprop="datePublished">
                    June 14, 2018, 10:12am
                  </time>
<meta content="2018-06-14T10:12:26Z" itemprop="dateModified"/>
<span itemprop="position">5</span>
</span>
</div>
<div class="post" itemprop="text">
<p>At this point following queries are running on the pg server</p>
<p>redash=&gt; select query from pg_stat_activity;</p>
<pre><code>                     query                                                                                            
</code></pre>
<hr/>
<hr/>
<hr/>
<hr/>
<hr/>
<p>UPDATE alembic_version SET version_num=‘6b5be7e0a0ef’ WHERE alembic_version.version_num = ‘5ec5c84ba61e’<br/>
SELECT dashboards.updated_at AS dashboards_updated_at, dashboards.created_at AS dashboards_created_at, dashboards.id AS d<br/>
ashboards_id, dashboards.version AS dashboards_version, dashboards.org_id AS dashboards_org_id, dashboards.slug AS dashboa<br/>
rds_slug, dashboards.name AS dashboards_name, dashboards.user_id AS dashboards_user_id, dashboards.layout AS dashboards_la<br/>
yout, dashboards.dashboard_filters_enabled AS dashboards_dashboard_filters_enabled, dashboards.is_archived AS dashboards_i<br/>
s_archived, dashboards.is_draft AS dashboards_is_draft<br/>
FROM dashboards<br/>
select query from pg_stat_activity;<br/>
(3 rows)</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_6" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jasonralph.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jasonralph_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jasonralph</span></a>
</span>
<link href="https://discuss.redash.io/t/upgrade-self-host-redash-0-12-0-b2449-to-latest-is-stuck-on-running-migrations/1911" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-06-24T15:18:39Z" itemprop="datePublished">
                    June 24, 2018,  3:18pm
                  </time>
<meta content="2018-06-24T15:18:39Z" itemprop="dateModified"/>
<span itemprop="position">6</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I am also having this issue where postgres is stuck on the following during upgrade of the same versions.</p>
<pre><code>redash=# select * from pg_stat_activity;
-[ RECORD 1 ]----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
datid            | 16385
datname          | redash
pid              | 2566
usesysid         | 16384
usename          | redash
application_name |
client_addr      |
client_hostname  |
client_port      | -1
backend_start    | 2018-06-24 14:23:34.048971+00
xact_start       | 2018-06-24 14:23:34.05454+00
query_start      | 2018-06-24 14:23:34.496578+00
state_change     | 2018-06-24 14:23:34.496726+00
waiting          | f
state            | idle in transaction
query            | UPDATE alembic_version SET version_num='6b5be7e0a0ef' WHERE alembic_version.version_num = '5ec5c84ba61e'
-[ RECORD 2 ]----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
datid            | 16385
datname          | redash
pid              | 2567
usesysid         | 16384
usename          | redash
application_name |
client_addr      |
client_hostname  |
client_port      | -1
backend_start    | 2018-06-24 14:23:34.499889+00
xact_start       | 2018-06-24 14:23:34.504084+00
query_start      | 2018-06-24 14:23:34.505023+00
state_change     | 2018-06-24 14:23:34.505025+00
waiting          | t
state            | active
query            | SELECT dashboards.updated_at AS dashboards_updated_at, dashboards.created_at AS dashboards_created_at, dashboards.id AS dashboards_id, dashboards.version AS dashboards_version, dashboards.org_id AS dashboards_org_id, dashboards.slug AS dashboards_slug, dashboards.name AS dashboards_name, dashboards.user_id AS dashboards_user_id, dashboards.layout AS dashboards_layout, dashboards.dashboard_filters_enabled AS dashboards_dashboard_filters_enabled, dashboards.is_archived AS dashboards_is_archived, dashboards.is_draft AS dashboards_is_draft +
                 | FROM dashboards
</code></pre>
<p>I have tried stopping all redash services, has any headway been made on this?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_7" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/samahs.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/samahs_avatar.png" tabindex="-1" width="48"/><span itemprop="name">samahs</span></a>
</span>
<link href="https://discuss.redash.io/t/upgrade-self-host-redash-0-12-0-b2449-to-latest-is-stuck-on-running-migrations/1911" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-07-05T22:23:49Z" itemprop="datePublished">
                    July 5, 2018, 10:23pm
                  </time>
<meta content="2018-07-05T22:45:10Z" itemprop="dateModified"/>
<span itemprop="position">7</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Was anyone able to find a solution to this?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_8" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/tsvivek.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/tsvivek_avatar.png" tabindex="-1" width="48"/><span itemprop="name">tsvivek</span></a>
</span>
<link href="https://discuss.redash.io/t/upgrade-self-host-redash-0-12-0-b2449-to-latest-is-stuck-on-running-migrations/1911" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-07-06T07:10:42Z" itemprop="datePublished">
                    July 6, 2018,  7:10am
                  </time>
<meta content="2018-07-06T07:10:42Z" itemprop="dateModified"/>
<span itemprop="position">8</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Upgrade to 3.0 is working fine. For now that is what i have done.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_9" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/samahs.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/samahs_avatar.png" tabindex="-1" width="48"/><span itemprop="name">samahs</span></a>
</span>
<link href="https://discuss.redash.io/t/upgrade-self-host-redash-0-12-0-b2449-to-latest-is-stuck-on-running-migrations/1911" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-07-06T18:40:06Z" itemprop="datePublished">
                    July 6, 2018,  6:40pm
                  </time>
<meta content="2018-07-06T18:40:06Z" itemprop="dateModified"/>
<span itemprop="position">9</span>
</span>
</div>
<div class="post" itemprop="text">
<p>How do I specify ver 3.0?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_10" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/samahs.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/samahs_avatar.png" tabindex="-1" width="48"/><span itemprop="name">samahs</span></a>
</span>
<link href="https://discuss.redash.io/t/upgrade-self-host-redash-0-12-0-b2449-to-latest-is-stuck-on-running-migrations/1911" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-07-06T21:20:58Z" itemprop="datePublished">
                    July 6, 2018,  9:20pm
                  </time>
<meta content="2018-07-06T21:20:58Z" itemprop="dateModified"/>
<span itemprop="position">10</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I figured out how to modify the upgrade script to grab an older version of the package. I was able to upgrade to 3 and then 4. Or at least the DB now is on version 4</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_11" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jishnu7.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jishnu7_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jishnu7</span></a>
</span>
<link href="https://discuss.redash.io/t/upgrade-self-host-redash-0-12-0-b2449-to-latest-is-stuck-on-running-migrations/1911" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-10-08T11:14:00Z" itemprop="datePublished">
                    October 8, 2018, 11:14am
                  </time>
<meta content="2018-10-08T11:14:00Z" itemprop="dateModified"/>
<span itemprop="position">11</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I just upgrade an installation from 0.12.0 to 5.0.1.</p>
<p>Upgrade script was getting stalled. So what I did is, modified it and made it to upgrade to v2.0, then to v4, then to the latest.</p>
<p><code>https://version.redash.io/api/releases?channel=stable</code> is the url upgarde script checks by default, as you can see, the oldest version listed there is v4. So, to update to v2, you need to use beta channel, which check on <code>https://version.redash.io/api/releases?channel=beta</code> url.<br/>
Go to this url and find the index to which you want to upgrade to for eg: currently, v"2.0.0" is in 3rd index.</p>
<p>Open upgrade script and search for <code>get_release</code> function. inside that, change <code>response.json()[0]</code> to the index you want. eg: <code>response.json()[3]</code>. Now run the script with beta as channel<br/>
<code>sudo ./upgrade --channel beta</code>.</p>
<p>This will upgrade your installation to v2. You need to make similar changes (no need to pass beta channel parameter if you want to upgrade to v4 or later) to manually upgrade to each version, and to finally arrive at the latest.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
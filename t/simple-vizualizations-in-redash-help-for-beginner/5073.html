<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>Simple vizualizations in ReDash (help for beginner)</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/simple-vizualizations-in-redash-help-for-beginner/5073">Simple vizualizations in ReDash (help for beginner)</a>
</h1>
<div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/6.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Support</span>
</span>
</a>
<meta content="1" itemprop="position"/>
</span>
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/support-usage/10.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Usage Support</span>
</span>
</a>
<meta content="2" itemprop="position"/>
</span>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content="Simple vizualizations in ReDash (help for beginner)" itemprop="headline"/>
<meta content="Usage Support" itemprop="articleSection"/>
<meta content="" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/Alleina.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/Alleina_avatar.png" tabindex="-1" width="48"/><span itemprop="name">Alleina</span></a>
</span>
<link href="https://discuss.redash.io/t/simple-vizualizations-in-redash-help-for-beginner/5073" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-11-24T19:55:46Z" itemprop="datePublished">
                    November 24, 2019,  7:55pm
                  </time>
<meta content="2019-11-24T19:55:46Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>Hello, I am new to ReDash and I need to create a viz with following data (user sessions on the website):<br/>
3 columns: user_id, start_at (date-time format), end_at (date-time format)<br/>
The viz should include the following:</p>
<ul>
<li>average (or median) duration of session (actually simple end_at minus start_et)</li>
<li>distribution od session within time of day (morning, noon, evening, etc, can be done with “case when” but how?)</li>
<li>any abnormalities if where are any (e.g. extremely long sessions, night with unsually big number of sessions, etc.)</li>
</ul>
<p>How to do this using ReDash viz tools? Should I define all the values using SQL-queries or where are any options only within viz app?</p>
<p>Many thanks.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="https://discuss.redash.io/t/simple-vizualizations-in-redash-help-for-beginner/5073" itemprop="mainEntityOfPage"/>
<link href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/9/92f9ce88d87f782efef2a327b659a749786fff4c.png" itemprop="image"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-11-24T23:03:35Z" itemprop="datePublished">
                    November 24, 2019, 11:03pm
                  </time>
<meta content="2019-11-24T23:03:35Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hi <a class="mention" href="/u/alleina">@Alleina</a> and welcome to the forum! The idea with Redash is to use your database to slice and aggregate the data and then visualize the output with Redash. With just two queries you can build a meaningful dashboard from your data set. Here’s a simple example with Postgres and demo data I generated which looks like this:</p>
<h1>
<a class="anchor" href="#base-data-1" name="base-data-1"></a>Base Data</h1>
<p><img alt="image" data-base62-sha1="kYcUZxbocnOlfiYg3i2hlz8yKAc" height="177" src="assets/92f9ce88d87f782efef2a327b659a749786fff4c.png" width="439"/></p>
<h1>
<a class="anchor" href="#first-query-2" name="first-query-2"></a>First Query</h1>
<pre><code class="lang-auto">SELECT
    uid,
    "start",
    "end",
    "duration",
    avg(duration) OVER (ORDER BY (SELECT 1)),
    CASE    
        WHEN date_part('hour', start) &gt;   5 AND date_part('hour', start) &lt; 11 THEN 'morning'
        WHEN date_part('hour', start) &gt;=  11 AND date_part('hour', start) &lt;= 13 THEN 'noontime'
        WHEN date_part('hour', start) &gt;   13 OR date_part('hour', start) &lt;= 5 THEN 'evening'
    END "period"
FROM base_data
</code></pre>
<h2>
<a class="anchor" href="#scatter-plot-of-session-durations-by-date-and-time-of-day-3" name="scatter-plot-of-session-durations-by-date-and-time-of-day-3"></a>Scatter plot of session durations by date and time-of-day</h2>
<p><div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/joBjdH3BIwD9lyeatSV6k5YUUBP.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/8/87f13d1a9a159883424070d25517f1697f4f3269.png" title="scatter"><img alt="scatter" data-base62-sha1="joBjdH3BIwD9lyeatSV6k5YUUBP" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/8/87f13d1a9a159883424070d25517f1697f4f3269_2_10x10.png" height="213" src="assets/87f13d1a9a159883424070d25517f1697f4f3269_2_689x213.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/8/87f13d1a9a159883424070d25517f1697f4f3269_2_689x213.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/8/87f13d1a9a159883424070d25517f1697f4f3269_2_1033x319.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/8/87f13d1a9a159883424070d25517f1697f4f3269.png 2x" width="689"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">scatter</span><span class="informations">1292×400 60.5 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<h2>
<a class="anchor" href="#counter-of-average-session-length-4" name="counter-of-average-session-length-4"></a>Counter of Average Session Length</h2>
<p><div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/1Fk9RAaBnnD9vjhkHAZRYHbidSE.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/0/0bae0d944208352736f6d4353312b20039c89ab0.png" title="avg-sesh"><img alt="avg-sesh" data-base62-sha1="1Fk9RAaBnnD9vjhkHAZRYHbidSE" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/0/0bae0d944208352736f6d4353312b20039c89ab0_2_10x10.png" height="223" src="assets/0bae0d944208352736f6d4353312b20039c89ab0_2_690x223.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/0/0bae0d944208352736f6d4353312b20039c89ab0_2_690x223.png, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/0/0bae0d944208352736f6d4353312b20039c89ab0.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/0/0bae0d944208352736f6d4353312b20039c89ab0.png 2x" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">avg-sesh</span><span class="informations">900×292 13 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<h1>
<a class="anchor" href="#second-query-5" name="second-query-5"></a>Second Query</h1>
<pre><code class="lang-auto">SELECT
    date_trunc('week', "start") "week",
    CASE    
        WHEN date_part('hour', start) &gt;   5 AND date_part('hour', start) &lt; 11 THEN '​morning'
        WHEN date_part('hour', start) &gt;=  11 AND date_part('hour', start) &lt;= 13 THEN '​​noontime'
        WHEN date_part('hour', start) &gt;   13 OR date_part('hour', start) &lt;= 5 THEN '​​​evening'
    END "period",
    avg("duration") "session length"
FROM interpolated
GROUP BY 1,2
</code></pre>
<h2>
<a class="anchor" href="#bar-chart-of-average-session-length-by-week-by-time-of-day-6" name="bar-chart-of-average-session-length-by-week-by-time-of-day-6"></a>Bar chart of average session length by week by time-of-day</h2>
<p><div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/4LQC76QeHuMwRocm01QpacYOe25.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/2/21715a6ee659331d7cfdaa71d270ca7733b38169.png" title="bar"><img alt="bar" data-base62-sha1="4LQC76QeHuMwRocm01QpacYOe25" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/2/21715a6ee659331d7cfdaa71d270ca7733b38169_2_10x10.png" height="213" src="assets/21715a6ee659331d7cfdaa71d270ca7733b38169_2_689x213.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/2/21715a6ee659331d7cfdaa71d270ca7733b38169_2_689x213.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/2/21715a6ee659331d7cfdaa71d270ca7733b38169_2_1033x319.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/2/21715a6ee659331d7cfdaa71d270ca7733b38169.png 2x" width="689"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">bar</span><span class="informations">1292×400 22.3 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<h2>
<a class="anchor" href="#boxplot-of-average-session-length-by-week-by-time-of-day-7" name="boxplot-of-average-session-length-by-week-by-time-of-day-7"></a>Boxplot of average session length by week by time-of-day</h2>
<p><div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/i2umNWv8MrRlFiah3Bsh7noI1NS.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/7/7e6f2e9e3b035ba3237d9d11f64e4159ed4ef798.png" title="box"><img alt="box" data-base62-sha1="i2umNWv8MrRlFiah3Bsh7noI1NS" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/7/7e6f2e9e3b035ba3237d9d11f64e4159ed4ef798_2_10x10.png" height="213" src="assets/7e6f2e9e3b035ba3237d9d11f64e4159ed4ef798_2_689x213.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/7/7e6f2e9e3b035ba3237d9d11f64e4159ed4ef798_2_689x213.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/7/7e6f2e9e3b035ba3237d9d11f64e4159ed4ef798_2_1033x319.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/7/7e6f2e9e3b035ba3237d9d11f64e4159ed4ef798.png 2x" width="689"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">box</span><span class="informations">1292×400 23.9 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="2" itemprop="userInteractionCount"/>
<span class="post-likes">2 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Redashv8 cant connect to mysql8 - Self Hosted Redash Support - Redash Discourse</title>
    <meta name="description" content="Hi , 
i have use RedashV8 on premise install via docker on  Ubuntu 18.04.4 and it works very good with mysqlv5 
We have to upgrade mysql to V8 and we start to see issues with the connection 
it return 
“Connection Test F&amp;hellip;">
    <meta name="generator" content="Discourse 3.2.0.beta2-dev - https://github.com/discourse/discourse version 83621ccbe797223b48b624b00ef04f24672e1f03">
<link rel="icon" type="image/png" href="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/1X/01e20869afc0877e3e5aee0f94419b9e9bffa961_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/1X/e1838a8a0c506503a22e0c60e2334374b2895c87_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="https://discuss.redash.io/t/redashv8-cant-connect-to-mysql8/8943" />

<link rel="search" type="application/opensearchdescription+xml" href="https://discuss.redash.io/opensearch.xml" title="Redash Discourse Search">

    <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="checklist"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-adplugin"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-akismet"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-cakeday"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-chat-integration"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-footnote"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-narrative-bot_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-presence_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-solved_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-solved"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-spoiler-alert_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-spoiler-alert"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/hosted-site_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="hosted-site"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/poll_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/poll_desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    <meta id="data-ga-universal-analytics" data-tracking-code="UA-47088186-6" data-json="{&quot;cookieDomain&quot;:&quot;auto&quot;}" data-auto-link-domains="">

  <link rel="preload" href="https://global.discourse-cdn.com/standard17/assets/google-universal-analytics-v3-08add7ec997ab472fcd9f821d32ff7caf4b8b9a5de2ec18ca723a040be07a098.gz.js" as="script">
<script defer src="https://global.discourse-cdn.com/standard17/assets/google-universal-analytics-v3-08add7ec997ab472fcd9f821d32ff7caf4b8b9a5de2ec18ca723a040be07a098.gz.js"></script>


        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Redashv8 cant connect to mysql8&#39;" href="https://discuss.redash.io/t/redashv8-cant-connect-to-mysql8/8943.rss" />
    <meta property="og:site_name" content="Redash Discourse" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/e1838a8a0c506503a22e0c60e2334374b2895c87.png" />
<meta property="og:image" content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/e1838a8a0c506503a22e0c60e2334374b2895c87.png" />
<meta property="og:url" content="https://discuss.redash.io/t/redashv8-cant-connect-to-mysql8/8943" />
<meta name="twitter:url" content="https://discuss.redash.io/t/redashv8-cant-connect-to-mysql8/8943" />
<meta property="og:title" content="Redashv8 cant connect to mysql8" />
<meta name="twitter:title" content="Redashv8 cant connect to mysql8" />
<meta property="og:description" content="Hi ,  i have use RedashV8 on premise install via docker on  Ubuntu 18.04.4 and it works very good with mysqlv5  We have to upgrade mysql to V8 and we start to see issues with the connection  it return  “Connection Test Failed:  (2059, ‘Plugin caching_sha2_password could not be loaded: /usr/lib/x86_64-linux-gnu/mariadb19/plugin/caching_sha2_password.so: cannot open shared object file: No such file or directory’”  i saw these two discuss    and i have add  MYSQL_DEFAULT_AUTH=mysql_native_password ..." />
<meta name="twitter:description" content="Hi ,  i have use RedashV8 on premise install via docker on  Ubuntu 18.04.4 and it works very good with mysqlv5  We have to upgrade mysql to V8 and we start to see issues with the connection  it return  “Connection Test Failed:  (2059, ‘Plugin caching_sha2_password could not be loaded: /usr/lib/x86_64-linux-gnu/mariadb19/plugin/caching_sha2_password.so: cannot open shared object file: No such file or directory’”  i saw these two discuss    and i have add  MYSQL_DEFAULT_AUTH=mysql_native_password ..." />
<meta property="og:article:section" content="Support" />
<meta property="og:article:section:color" content="BF1E2E" />
<meta property="og:article:section" content="Self Hosted Redash Support" />
<meta property="og:article:section:color" content="AB9364" />
<meta property="article:published_time" content="2021-08-16T13:31:17+00:00" />
<meta property="og:ignore_canonical" content="true" />


    <script type="application/ld+json">{"@context":"http://schema.org","@type":"QAPage","name":"Redashv8 cant connect to mysql8","mainEntity":{"@type":"Question","name":"Redashv8 cant connect to mysql8","text":"Hi ,\n\ni have use RedashV8 on premise install via docker on  Ubuntu 18.04.4 and it works very good with mysqlv5\n\nWe have to upgrade mysql to V8 and we start to see issues with the connection\n\nit return\n\n“Connection Test Failed:\n\n(2059, ‘Plugin caching_sha2_password could not be loaded: /usr/lib/x86_6&hellip;","upvoteCount":0,"answerCount":0,"dateCreated":"2021-08-16T13:31:16.975Z","author":{"@type":"Person","name":"hanan"}}}</script>
  </head>
  <body class="crawler ">
    
    <header>
  <a href="/">
    Redash Discourse
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="/t/redashv8-cant-connect-to-mysql8/8943">Redashv8 cant connect to mysql8</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://discuss.redash.io/c/support/6" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #BF1E2E'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Support</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://discuss.redash.io/c/support/support-self-hosted/9" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #AB9364'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Self Hosted Redash Support</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Redashv8 cant connect to mysql8'>
        <meta itemprop='articleSection' content='Self Hosted Redash Support'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='Redash Discourse'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png'>
          </div>
      </div>

          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/hananv'><span itemprop='name'>hananv</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/redashv8-cant-connect-to-mysql8/8943">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-08-16T13:31:17Z' class='post-time'>
                    August 16, 2021,  1:31pm
                  </time>
                  <meta itemprop='dateModified' content='2021-08-16T13:31:17Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='articleBody'>
              <p>Hi ,</p>
<p>i have use RedashV8 on premise install via docker on  Ubuntu 18.04.4 and it works very good with mysqlv5<br>
We have to upgrade mysql to V8 and we start to see issues with the connection<br>
it return<br>
“Connection Test Failed:<br>
(2059, ‘Plugin caching_sha2_password could not be loaded: /usr/lib/x86_64-linux-gnu/mariadb19/plugin/caching_sha2_password.so: cannot open shared object file: No such file or directory’”</p>
<p>i saw these two discuss</p><aside class="quote quote-modified" data-post="1" data-topic="6328">
  <div class="title">
    <div class="quote-controls"></div>
    <img loading="lazy" alt="" width="20" height="20" src="https://sjc6.discourse-cdn.com/standard17/user_avatar/discuss.redash.io/mmiyahara/40/2100_2.png" class="avatar">
    <a href="http://discuss.redash.io/t/cant-connect-mysql-to-redash-v8/6328">Can't connect MySQL to Redash v8</a> <a class="badge-wrapper  bullet" href="/c/support/support-self-hosted/9"><span class="badge-category-parent-bg" style="background-color: #BF1E2E;"></span><span class="badge-category-bg" style="background-color: #AB9364;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Support on installing, configuring and troubleshooting issues with self hosted Redash.">Self Hosted Redash Support</span></a>
  </div>
  <blockquote>
    Issue Summary
After upgrading Redash v7 to v8, I have an issue where I cannot connect MySQL to Redash with the following error. 

Plugin caching_sha2_password could not be loaded: /usr/lib/x86_64-linux-gnu/mariadb19/plugin/caching_sha2_password.so 

It seems like this problem is caused by the MySQL user’s authentication type “caching_sha2_password”. 
So I created a new user with the type “mysql_native_password” and try to connect again, which ended up with the following error. 

Plugin sha256_pa…
  </blockquote>
</aside>
<aside class="quote quote-modified" data-post="1" data-topic="4118">
  <div class="title">
    <div class="quote-controls"></div>
    <img loading="lazy" alt="" width="20" height="20" src="https://avatars.discourse-cdn.com/v4/letter/d/c68b51/40.png" class="avatar">
    <a href="http://discuss.redash.io/t/connection-test-failed-mysql/4118">Connection Test Failed mysql</a> <a class="badge-wrapper  bullet" href="/c/support/support-self-hosted/9"><span class="badge-category-parent-bg" style="background-color: #BF1E2E;"></span><span class="badge-category-bg" style="background-color: #AB9364;"></span><span style="" data-drop-close="true" class="badge-category clear-badge" title="Support on installing, configuring and troubleshooting issues with self hosted Redash.">Self Hosted Redash Support</span></a>
  </div>
  <blockquote>
    Issue Summary
I try to connect to remote mysql data base (version: 8.0.16) but an error is returned. 
I connected to this data base in a previous version without problem. 
[Screenshot%20from%202019-07-05%2018%3A22%3A25] 
Technical details:

Redash Version:8.0.0-beta (dev)
Browser/OS: google chrome / linux
How did you install Redash: docker
  </blockquote>
</aside>

<p>and i have add<br>
MYSQL_DEFAULT_AUTH=mysql_native_password to env<br>
but it is also do not solve the issue</p>
<p>do you have another suggestion at the client side and not change the password plugin at the mysql side ?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/jesse'><span itemprop='name'>jesse</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/redashv8-cant-connect-to-mysql8/8943">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-08-16T14:38:22Z' class='post-time'>
                    August 16, 2021,  2:38pm
                  </time>
                  <meta itemprop='dateModified' content='2021-08-16T14:38:22Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Did you update your <code>mysqlclient</code> to <code>1.4.6</code> or higher?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/hananv'><span itemprop='name'>hananv</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/redashv8-cant-connect-to-mysql8/8943">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-08-16T22:50:02Z' class='post-time'>
                    August 16, 2021, 10:50pm
                  </time>
                  <meta itemprop='dateModified' content='2021-08-16T22:50:02Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Yes at redash_server_1<br>
should i do it at other services as well ?</p>
<p>does upgrading to Redash v10 can solve also the problem ?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/jesse'><span itemprop='name'>jesse</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/redashv8-cant-connect-to-mysql8/8943">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-08-17T00:46:35Z' class='post-time'>
                    August 17, 2021, 12:46am
                  </time>
                  <meta itemprop='dateModified' content='2021-08-17T00:46:35Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>You at least need to update the workers as well. The <code>server</code> never communicates with your database.</p>
<p>I’ve not seen any issue reports about the V10 beta.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/hananv'><span itemprop='name'>hananv</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/redashv8-cant-connect-to-mysql8/8943">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-08-17T10:20:05Z' class='post-time'>
                    August 17, 2021, 10:20am
                  </time>
                  <meta itemprop='dateModified' content='2021-08-17T10:20:05Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>i have upgrade mysqlclient to 1.4.6<br>
at<br>
redash_scheduled_worker_1<br>
redash_scheduler_1<br>
redash_adhoc_worker_1<br>
redash_server_1</p>
<p>then docker-compose stop<br>
docker-compose up -d</p>
<p>but it still return the same error</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/jesse'><span itemprop='name'>jesse</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/redashv8-cant-connect-to-mysql8/8943">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-08-17T14:07:07Z' class='post-time'>
                    August 17, 2021,  2:07pm
                  </time>
                  <meta itemprop='dateModified' content='2021-08-17T14:07:07Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Sounds like an issue with your mysql instance then. Perhaps <a href="https://stackoverflow.com/questions/49194719/authentication-plugin-caching-sha2-password-cannot-be-loaded">this SO question</a> or a google search will help you.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_7' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/hananv'><span itemprop='name'>hananv</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/redashv8-cant-connect-to-mysql8/8943">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-08-19T11:27:20Z' class='post-time'>
                    August 19, 2021, 11:27am
                  </time>
                  <meta itemprop='dateModified' content='2021-08-19T11:27:20Z'>
              <span itemprop='position'>7</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>some next steps</p>
<ol>
<li>i upgrade redash to 10.0.0-beta.b49597 and i get the same error with and without MYSQL_DEFAULT_AUTH=mysql_native_password</li>
<li>i enter to docker redash_adhoc_worker_1 and notice this<br>
2.1) the python is python 3 unlike RedashV8<br>
2.2) the sql libs are<br>
root@9f4a96f318e5:/app# cat requirements_all_ds.txt  | grep sql<br>
mysqlclient==1.3.14<br>
pymssql==2.1.4<br>
memsql==3.0.0</li>
</ol>
<p>2.3) when i tried to update mysqlclient</p>
<p>pip install mysqlclient --upgrade<br>
Collecting mysqlclient<br>
Downloading mysqlclient-2.0.3.tar.gz (88 kB)<br>
|████████████████████████████████| 88 kB 1.1 MB/s<br>
Building wheels for collected packages: mysqlclient<br>
Building wheel for mysqlclient (setup.py) … done<br>
Created wheel for mysqlclient: filename=mysqlclient-2.0.3-cp37-cp37m-linux_x86_64.whl size=56883 sha256=87c3df73b361556b0bcb05e5c988a362b8b9f6f405166f3e1c3fa5c1f7851b70<br>
Stored in directory: /tmp/pip-ephem-wheel-cache-yyt7dssj/wheels/79/1c/f8/11fafab45fe6696eea63794a5d747b9c6b54990ac6f1885fb7<br>
Successfully built mysqlclient<br>
Installing collected packages: mysqlclient<br>
Attempting uninstall: mysqlclient<br>
Found existing installation: mysqlclient 1.3.14<br>
Uninstalling mysqlclient-1.3.14:<br>
Successfully uninstalled mysqlclient-1.3.14<br>
ERROR: After October 2020 you may experience errors when installing or updating packages. This is because pip will change the way that it resolves dependency conflicts.</p>
<p>We recommend you use --use-feature=2020-resolver to test your packages with the new resolver before it becomes the default.</p>
<p>memsql 3.0.0 requires mysqlclient==1.3.13, but you’ll have mysqlclient 2.0.3 which is incompatible.<br>
Successfully installed mysqlclient-2.0.3</p>
<p>2.4) now i get error that “connect() ‘charset’ is an invalid keyword argument” for any mysql server i try to connect also to mysqlv5</p>
<p>2.5) i downgrade again mysqlclient==1.3.14 and now i return to the first problem again with mysqlv8 (mysqlv5 works)</p>
<ol start="3">
<li>i want a solution at the client side and not at the mysql server side with user that use old format of password</li>
</ol>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_8' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/hananv'><span itemprop='name'>hananv</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/redashv8-cant-connect-to-mysql8/8943">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-08-23T13:10:37Z' class='post-time'>
                    August 23, 2021,  1:10pm
                  </time>
                  <meta itemprop='dateModified' content='2021-08-23T13:10:37Z'>
              <span itemprop='position'>8</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>some updates</p>
<ol>
<li>i update again the mysqlclient-2.0.3 at the entire workers , stop the docker and up them again and mysqlv5 works ok but mysqlv8 still have the same error</li>
<li>i tried to run python on the same VM with the following command<br>
2.1) import MySQLdb<br>
db=MySQLdb.connect(host = “host”, user = “user”,passwd=“pass”,db=“db”)<br>
and it success<br>
2.2) when i enter redash worker and run the same command at python cli it fail with the same issue , Plugin caching_sha2_password could not be loaded</li>
<li>so it looks it related to the mysqlclient at python-alpine<br>
3.1) see this <a href="https://github.com/PyMySQL/mysqlclient/issues/442" class="inline-onebox" rel="noopener nofollow ugc">New MySQL 8 Default Authentication Plugin Not Supported · Issue #442 · PyMySQL/mysqlclient · GitHub</a>
</li>
</ol>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_9' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/jesse'><span itemprop='name'>jesse</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/redashv8-cant-connect-to-mysql8/8943">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-08-23T15:38:15Z' class='post-time'>
                    August 23, 2021,  3:38pm
                  </time>
                  <meta itemprop='dateModified' content='2021-08-23T15:38:15Z'>
              <span itemprop='position'>9</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Good research! Did you try the suggestion from the issue you linked?</p>
<p>quoting:</p>
<blockquote>
<p>This is now resolved.</p>
<p>After some time, I attempted to use the <code>caching_sha2_password</code> plugin again. I encountered the following error:</p>
<pre><code class="lang-auto">RSA Encryption not supported - caching_sha2_password plugin was built with GnuTLS support
</code></pre>
<p>Which prompted me to install <code>gnutls-bin</code> , which did the trick.</p>
</blockquote>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_10' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/hananv'><span itemprop='name'>hananv</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/redashv8-cant-connect-to-mysql8/8943">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-08-25T07:03:12Z' class='post-time'>
                    August 25, 2021,  7:03am
                  </time>
                  <meta itemprop='dateModified' content='2021-08-25T07:03:12Z'>
              <span itemprop='position'>10</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>and the story continue <img src="https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=10" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<p>i tried to work with the instruction and do<br>
sudo apt-get update but it doesnt work with this error</p>
<p>"Ign:1 <a href="http://deb.debian.org/debian" class="inline-onebox" rel="noopener nofollow ugc">Index of /debian</a> buster InRelease<br>
Ign:2 <a href="http://deb.debian.org/debian" class="inline-onebox" rel="noopener nofollow ugc">Index of /debian</a> buster-updates InRelease<br>
Err:3 <a href="http://deb.debian.org/debian" class="inline-onebox" rel="noopener nofollow ugc">Index of /debian</a> buster Release<br>
404  Not Found [IP: 199.232.138.132 80]<br>
Err:4 <a href="http://deb.debian.org/debian" class="inline-onebox" rel="noopener nofollow ugc">Index of /debian</a> buster-updates Release<br>
404  Not Found [IP: 199.232.138.132 80]<br>
Ign:5 <a href="http://security.debian.org/debian-security" class="inline-onebox" rel="noopener nofollow ugc">Index of /debian-security</a> buster/updates InRelease<br>
Err:6 <a href="http://security.debian.org/debian-security" class="inline-onebox" rel="noopener nofollow ugc">Index of /debian-security</a> buster/updates Release<br>
404  Not Found [IP: 199.232.138.132 80]<br>
Hit:7 <a href="https://packages.microsoft.com/debian/10/prod" class="inline-onebox" rel="noopener nofollow ugc">Index of /debian/10/prod/</a> buster InRelease<br>
Reading package lists… Done<br>
E: The repository ‘<a href="http://deb.debian.org/debian" class="inline-onebox" rel="noopener nofollow ugc">Index of /debian</a> buster Release’ no longer has a Release file.<br>
N: Updating from such a repository can’t be done securely, and is therefore disabled by default.<br>
N: See apt-secure(8) manpage for repository creation and user configuration details.<br>
E: The repository ‘<a href="http://deb.debian.org/debian" class="inline-onebox" rel="noopener nofollow ugc">Index of /debian</a> buster-updates Release’ no longer has a Release file.<br>
N: Updating from such a repository can’t be done securely, and is therefore disabled by default.<br>
N: See apt-secure(8) manpage for repository creation and user configuration details.<br>
E: The repository ‘<a href="http://security.debian.org/debian-security" class="inline-onebox" rel="noopener nofollow ugc">Index of /debian-security</a> buster/updates Release’ no longer has a Release file.<br>
N: Updating from such a repository can’t be done securely, and is therefore disabled by default.<br>
N: See apt-secure(8) manpage for repository creation and user configuration details<br>
"</p>
<p>the problem is that http is not valid any more and you need to change to https<br>
so you need to edit /etc/apt/sources.list and change to http to https<br>
(i didnt find how to edit it at the docker so i cp the file to my linux edit it there and recopy to docker<br>
example docker cp  ./source.list 3cd1f91a2184:/etc/apt/sources.list<br>
)<br>
then<br>
sudo apt-get update<br>
success !</p>
<p>next i try<br>
sudo apt-get install libmysqlclient-dev<br>
but it fail and suggest to use</p>
<p>“However the following packages replace it:<br>
libmariadb-dev-compat libmariadb-dev”</p>
<p>so i use<br>
sudo apt-get install libmariadb-dev</p>
<p>i update it on<br>
redash_worker_1<br>
redash_adhoc_worker_1<br>
redash_scheduled_worker_1<br>
redash_scheduler_1</p>
<p>and test connect to DB and query works !</p>
<p>however the story do not end here …<br>
i try to connect to another DB also mysqlv8 and i now get new issue<br>
“RSA Encryption not supported - caching_sha2_password plugin was built with GnuTLS support”<br>
i tried to update now gnutls-bin<br>
sudo apt install gnutls-bin</p>
<p>but it still have the problem</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
    </div>






    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='/guidelines' itemprop="url">FAQ/Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='http://redash.io/terms.html' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='http://redash.io/privacy.html' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>

<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>ProgrammingError: (psycopg2.ProgrammingError) relation "queries" does not exist for the worker servers</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/programmingerror-psycopg2-programmingerror-relation-queries-does-not-exist-for-the-worker-servers/4207">ProgrammingError: (psycopg2.ProgrammingError) relation "queries" does not exist for the worker servers</a>
</h1>
<div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/6.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Support</span>
</span>
</a>
<meta content="1" itemprop="position"/>
</span>
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/support-self-hosted/9.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Self Hosted Redash Support</span>
</span>
</a>
<meta content="2" itemprop="position"/>
</span>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content='ProgrammingError: (psycopg2.ProgrammingError) relation "queries" does not exist for the worker servers' itemprop="headline"/>
<meta content="Self Hosted Redash Support" itemprop="articleSection"/>
<meta content="" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/samirs.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/samirs_avatar.png" tabindex="-1" width="48"/><span itemprop="name">samirs</span></a>
</span>
<link href="https://discuss.redash.io/t/programmingerror-psycopg2-programmingerror-relation-queries-does-not-exist-for-the-worker-servers/4207" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-07-20T18:28:26Z" itemprop="datePublished">
                    July 20, 2019,  6:28pm
                  </time>
<meta content="2019-07-20T18:28:26Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<h3>Issue Summary</h3>
<p>A summary of the issue and the browser/OS environment in which it occurs.</p>
<h3>Technical details:</h3>
<ul>
<li>Redash Version:7.0.0+b18042</li>
<li>Browser/OS:chrome/</li>
<li>How did you install Redash: using docker image</li>
</ul>
<p>I am new to docker containers and trying this redash installation on our AWS account for testing.<br/>
The redash stack is deployed successfully but the workerservers on ecs shows below error<br/>
ProgrammingError: (psycopg2.ProgrammingError) relation “queries” does not exist</p>
<p>But when i logging to the RDS postgres database manually i could query this table</p>
<p>export REDASH_DATABASE_URL=“postgresql://svc_redash:password@reddish.xxxxxxxxx.rds.amazonaws.com/redash”<br/>
export REDASH_REDIS_URL=“redis://redis.xxxxxxx.us-west-2.dev.23andme.net:6379/0”</p>
<p>docker images -a<br/>
docker run -it 9f858f446630 bash<br/>
bin/run ./manage.py check_settings<br/>
bin/run ./manage.py database create_tables</p>
<p>I have performed the above to create the tables</p>
<p>Before that i have created the user on the postgres database</p>
<p>create user svc_redash with password  ‘xxxxxxxx’<br/>
grant all privileges on database postgres to svc_redash;<br/>
grant all privileges on database redash to svc_redash;<br/>
GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA public TO svc_redash;</p>
<p>what i am i doing  wrong or missing something in the setup?Please help.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/arikfr.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/arikfr_avatar.png" tabindex="-1" width="48"/><span itemprop="name">arikfr</span></a>
</span>
<link href="https://discuss.redash.io/t/programmingerror-psycopg2-programmingerror-relation-queries-does-not-exist-for-the-worker-servers/4207" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-07-24T14:22:23Z" itemprop="datePublished">
                    July 24, 2019,  2:22pm
                  </time>
<meta content="2019-07-24T14:22:23Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Are you sure all your containers use the same <code>REDASH_DATABASE_URL</code> setting? When manually checking the DB were you logged in with the same <code>svc_redash</code> user and using the <code>redash</code> database?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
<div class="crawler-linkback-list" itemscope="" itemtype="http://schema.org/ItemList">
<div itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a href="http://discuss.redash.io/t/missing-datasource-after-upgrade-to-v7/4489" itemprop="url">Missing datasource after upgrade to v7</a>
<meta content="1" itemprop="position"/>
</div>
</div>
</div>
<div class="topic-body crawler-post" id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/arikfr.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/arikfr_avatar.png" tabindex="-1" width="48"/><span itemprop="name">arikfr</span></a>
</span>
<link href="https://discuss.redash.io/t/programmingerror-psycopg2-programmingerror-relation-queries-does-not-exist-for-the-worker-servers/4207" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-07-24T14:23:40Z" itemprop="datePublished">
                    July 24, 2019,  2:23pm
                  </time>
<meta content="2019-07-24T14:23:40Z" itemprop="dateModified"/>
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Can you also share more details on how you’re executing your containers? Is it using ECS services? Can you share the task definition you’re using?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/samirs.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/samirs_avatar.png" tabindex="-1" width="48"/><span itemprop="name">samirs</span></a>
</span>
<link href="https://discuss.redash.io/t/programmingerror-psycopg2-programmingerror-relation-queries-does-not-exist-for-the-worker-servers/4207" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-07-25T03:57:10Z" itemprop="datePublished">
                    July 25, 2019,  3:57am
                  </time>
<meta content="2019-07-25T03:57:10Z" itemprop="dateModified"/>
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Thanks for the reply <a class="mention" href="/u/arikfr">@arikfr</a>.<br/>
I did not find any .env file on the docker container and thats why i logged into the container and by setting the variable REDASH_DATABASE_URL manually  created the tables.</p>
<p>How can we set this variables for the container and for existing containers how can i find the value of these variables?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_5" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/samirs.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/samirs_avatar.png" tabindex="-1" width="48"/><span itemprop="name">samirs</span></a>
</span>
<link href="https://discuss.redash.io/t/programmingerror-psycopg2-programmingerror-relation-queries-does-not-exist-for-the-worker-servers/4207" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-07-25T04:02:47Z" itemprop="datePublished">
                    July 25, 2019,  4:02am
                  </time>
<meta content="2019-07-25T04:02:47Z" itemprop="dateModified"/>
<span itemprop="position">5</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Yes we are using ECS.</p>
<p>this is the dockerfile we are using.</p>
<p>cat Dockerfile<br/>
ARG THIS_REDASH_VERSION=latest<br/>
FROM redash/redash:${THIS_REDASH_VERSION}</p>
<h1>Have to do this again as it goes “out of scope” above</h1>
<p>ARG THIS_REDASH_VERSION=latest<br/>
ENV THIS_REDASH_VERSION=${THIS_REDASH_VERSION}</p>
<h1>Set to root and install stuff</h1>
<p>USER root<br/>
RUN pip install credstash cx_Oracle<br/>
RUN apt-get update &amp;&amp; <br/>
apt-get install libaio1 &amp;&amp; <br/>
apt-get clean &amp;&amp; rm -rf /var/lib/apt/lists/*</p>
<p>COPY oracle-patch-v5.0.2 /tmp/oracle-patch-v5.0.2<br/>
RUN patch -p1 &lt; /tmp/oracle-patch-v5.0.2<br/>
COPY admin-patch /tmp/admin-patch<br/>
RUN patch -p1 &lt; /tmp/admin-patch</p>
<p>ARG ORACLE_VERSION=unknown-oracle<br/>
ENV ORACLE_VERSION=<span class="math">{ORACLE_VERSION}
COPY </span>{ORACLE_VERSION} /opt/oracle/<span class="math">{ORACLE_VERSION}/
RUN echo /opt/oracle/</span>{ORACLE_VERSION} &gt; /etc/ld.so.conf.d/oracle-instantclient.conf &amp;&amp; ldconfig<br/>
ENV TNS_ADMIN=/opt/oracle/<span class="math">{ORACLE_VERSION}/network/admin
RUN chown redash:redash </span>{TNS_ADMIN}</p>
<h1>Now set things up for our custom launch</h1>
<p>COPY entrypoint /entrypoint</p>
<h1>Put back the user</h1>
<p>USER redash</p>
<p>ENTRYPOINT ["/entrypoint"]</p>
<h1>At the end since this changes with every build (almost)</h1>
<p>ARG TTAM_VERSION=latest<br/>
ENV TTAM_VERSION=${TTAM_VERSION}</p>
<p>build-container:<br/>
[ -z “$(ORACLE_VERSION)” ] &amp;&amp; echo “You must set $$ORACLE_VERSION” &amp;&amp; exit 1; <br/>
docker build --build-arg THIS_REDASH_VERSION=<span class="math">(THIS_REDASH_VERSION) --build-arg ORACLE_VERSION=</span>(ORACLE_VERSION) --build-arg TTAM_VERSION=<span class="math">(TTAM_VERSION) -t </span>(REPO_PARAMS):$(TTAM_VERSION) .</p>
<p>push-container:<br/>
aws ecr get-login --registry-ids <span class="math">(DOCKER_REGISTRY_ID) | sed -e 's/ -e none / /' | sh &amp;&amp; \
	docker tag </span>(REPO_PARAMS):<span class="math">(TTAM_VERSION) </span>(DOCKER_REGISTRY)/<span class="math">(REPO_PARAMS):</span>(TTAM_VERSION) &amp;&amp; <br/>
docker push <span class="math">(DOCKER_REGISTRY)/</span>(REPO_PARAMS):$(TTAM_VERSION)</p>
<p>task definition as below:</p>
<h1>Define the Fargate tasks</h1>
<h1></h1>
<p>ServerTaskDefinition:<br/>
Type: AWS::ECS::TaskDefinition<br/>
Properties:<br/>
Family: !Ref ‘ServiceName’<br/>
Cpu: !Ref ‘ContainerCpu’<br/>
Memory: !Ref ‘ContainerMemory’<br/>
NetworkMode: awsvpc<br/>
RequiresCompatibilities:<br/>
- FARGATE<br/>
ExecutionRoleArn: !Ref ECSTaskExecutionRole<br/>
TaskRoleArn: !Ref ECSTaskRole<br/>
ContainerDefinitions:<br/>
- Name: !Ref ‘ServiceName’<br/>
Command:<br/>
- server<br/>
Cpu: !Ref ‘ContainerCpu’<br/>
Memory: !Ref ‘ContainerMemory’<br/>
Image: !Ref ‘ImageUrl’<br/>
PortMappings:<br/>
- ContainerPort: !Ref ContainerPort<br/>
LogConfiguration:<br/>
LogDriver: awslogs<br/>
Options:<br/>
awslogs-create-group: true<br/>
awslogs-region: !Ref “AWS::Region”<br/>
awslogs-group: !Sub “<span class="math">{AWS::StackName}"
              awslogs-stream-prefix: server
          Environment:
            - Name: PYTHONUNBUFFERED
              Value: 0
            - Name: REDASH_DATE_FORMAT
              Value: YYYY-MM-DD
            - Name: REDASH_LOG_LEVEL
              Value: !Ref RedashLogLevel
            - Name: REDASH_REDIS_URL
              Value: !Sub
                - "redis://</span>{RedisEndpoint}/0”<br/>
- RedisEndpoint: !ImportValue “redash-redis-ConfigurationEndpoint”<br/>
- Name: DB_HOSTNAME<br/>
Value: !Ref DBHostname<br/>
- Name: REDASH_WEB_WORKERS<br/>
Value: 4<br/>
- Name: REDASH_DISABLED_QUERY_RUNNERS<br/>
Value: !Ref RedashDisabledQueryRunners<br/>
- Name: REDASH_ADDITIONAL_QUERY_RUNNERS<br/>
Value: !Ref RedashAdditionalQueryRunners<br/>
- Name: REDASH_ENABLED_DESTINATIONS<br/>
Value: !Ref RedashDestinations<br/>
- Name: REDASH_HOST<br/>
Value: !Ref LoadBalancerRecord<br/>
- Name: REDASH_MAIL_DEFAULT_SENDER<br/>
Value: <a href="mailto:donotreply@xxxxxx.com">donotreply@xxxxxx.com</a></p>
<p>WorkerTaskDefinition:<br/>
Type: AWS::ECS::TaskDefinition<br/>
Properties:<br/>
Family: !Ref ‘ServiceName’<br/>
Cpu: !Ref ‘ContainerCpu’<br/>
Memory: !Ref ‘ContainerMemory’<br/>
NetworkMode: awsvpc<br/>
RequiresCompatibilities:<br/>
- FARGATE<br/>
ExecutionRoleArn: !Ref ECSTaskExecutionRole<br/>
TaskRoleArn: !Ref ECSTaskRole<br/>
ContainerDefinitions:<br/>
- Name: !Ref ‘ServiceName’<br/>
Command:<br/>
- scheduler<br/>
Cpu: !Ref ‘ContainerCpu’<br/>
Memory: !Ref ‘ContainerMemory’<br/>
Image: !Ref ‘ImageUrl’<br/>
PortMappings:<br/>
- ContainerPort: !Ref ContainerPort<br/>
LogConfiguration:<br/>
LogDriver: awslogs<br/>
Options:<br/>
awslogs-create-group: true<br/>
awslogs-region: !Ref “AWS::Region”<br/>
awslogs-group: !Sub “<span class="math">{AWS::StackName}"
              awslogs-stream-prefix: worker
          Environment:
            - Name: PYTHONUNBUFFERED
              Value: 0
            - Name: REDASH_DATE_FORMAT
              Value: YYYY-MM-DD
            - Name: REDASH_LOG_LEVEL
              Value: !Ref RedashLogLevel
            - Name: REDASH_REDIS_URL
              Value: !Sub
                - "redis://</span>{RedisEndpoint}/0”<br/>
- RedisEndpoint: !ImportValue “redash-redis-ConfigurationEndpoint”<br/>
- Name: DB_HOSTNAME<br/>
Value: !Ref DBHostname<br/>
- Name: QUEUES<br/>
Value: queries,scheduled_queries,celery<br/>
- Name: WORKERS_COUNT<br/>
Value: 2<br/>
- Name: REDASH_DISABLED_QUERY_RUNNERS<br/>
Value: !Ref RedashDisabledQueryRunners<br/>
- Name: REDASH_ADDITIONAL_QUERY_RUNNERS<br/>
Value: !Ref RedashAdditionalQueryRunners<br/>
- Name: REDASH_ENABLED_DESTINATIONS<br/>
Value: !Ref RedashDestinations<br/>
- Name: REDASH_HOST<br/>
Value: !Ref LoadBalancerRecord<br/>
- Name: REDASH_MAIL_DEFAULT_SENDER<br/>
Value: <a href="mailto:donotreply@xxxxx.com">donotreply@xxxxx.com</a></p>
<h1></h1>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_6" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/samirs.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/samirs_avatar.png" tabindex="-1" width="48"/><span itemprop="name">samirs</span></a>
</span>
<link href="https://discuss.redash.io/t/programmingerror-psycopg2-programmingerror-relation-queries-does-not-exist-for-the-worker-servers/4207" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-09-09T20:19:34Z" itemprop="datePublished">
                    September 9, 2019,  8:19pm
                  </time>
<meta content="2019-09-09T20:19:34Z" itemprop="dateModified"/>
<span itemprop="position">6</span>
</span>
</div>
<div class="post" itemprop="text">
<p>export REDASH_DATABASE_URL=“postgresql://svc_redash:password@reddish.xxxxxxxxx.rds.amazonaws.com/postgres”</p>
<p>this fixed the issue</p>
<p>as i was pointing it to different database  this was not working</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
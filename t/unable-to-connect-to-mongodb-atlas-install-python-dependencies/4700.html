<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>Unable to connect to mongodb Atlas (install python dependencies)</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/unable-to-connect-to-mongodb-atlas-install-python-dependencies/4700">Unable to connect to mongodb Atlas (install python dependencies)</a>
</h1>
<div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/6.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Support</span>
</span>
</a>
<meta content="1" itemprop="position"/>
</span>
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/support-self-hosted/9.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Self Hosted Redash Support</span>
</span>
</a>
<meta content="2" itemprop="position"/>
</span>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content="Unable to connect to mongodb Atlas (install python dependencies)" itemprop="headline"/>
<meta content="Self Hosted Redash Support" itemprop="articleSection"/>
<meta content="" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/AmitNeuhaus.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/AmitNeuhaus_avatar.png" tabindex="-1" width="48"/><span itemprop="name">AmitNeuhaus</span></a>
</span>
<link href="https://discuss.redash.io/t/unable-to-connect-to-mongodb-atlas-install-python-dependencies/4700" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-10-10T22:18:59Z" itemprop="datePublished">
                    October 10, 2019, 10:18pm
                  </time>
<meta content="2019-10-11T15:59:06Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>Hey,<br/>
i went over the setup guide and now i came to the satge of adding datasource.<br/>
for me it is mognodb free tier atlas with 0.0.0.0 in the whitelist.<br/>
when im entering my URI string in this format:</p>
<p>mongodb+srv://[user]:[pass]@[instance]/[db]?retryWrites=true</p>
<p>i get an error of “dnspython” is required.<br/>
im new to docker and ec2 but i understood that i have to change the requirements.txt file ,add pymongo[srv] and rebuild the worker(??) but i cant find the requiremnts.txt file.<br/>
please help with some simple instruction to connect to my Database.<br/>
Thanks!<br/>
Amit.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/DerBeton.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/DerBeton_avatar.png" tabindex="-1" width="48"/><span itemprop="name">DerBeton</span></a>
</span>
<link href="https://discuss.redash.io/t/unable-to-connect-to-mongodb-atlas-install-python-dependencies/4700" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-10-11T07:52:37Z" itemprop="datePublished">
                    October 11, 2019,  7:52am
                  </time>
<meta content="2019-10-11T07:52:37Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hey <a class="mention" href="/u/amitneuhaus">@AmitNeuhaus</a> from my understanding you have to download it from the Official Redash Github: <a href="https://github.com/getredash/redash" rel="nofollow noopener">https://github.com/getredash/redash</a><br/>
If you  use a different Version of Redash, you can download the source of the matching release.</p>
<p>In the downloaded files should be the requirements.txt where you are able to make some changes.</p>
<p>Then you need to build the Docker image from the path, where you’ve downloaded the source files and hope that it works. I’m not sure if you can build the Docker image only with the requirements.txt, I think you need all the files from the repository.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/AmitNeuhaus.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/AmitNeuhaus_avatar.png" tabindex="-1" width="48"/><span itemprop="name">AmitNeuhaus</span></a>
</span>
<link href="https://discuss.redash.io/t/unable-to-connect-to-mongodb-atlas-install-python-dependencies/4700" itemprop="mainEntityOfPage"/>
<link href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/6/6632dc25540e31dddedeff29dd01f3df55a28d24.png" itemprop="image"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-10-11T12:49:32Z" itemprop="datePublished">
                    October 11, 2019, 12:49pm
                  </time>
<meta content="2019-10-12T11:06:01Z" itemprop="dateModified"/>
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hey, thanks for the quick answer.<br/>
just to make sure, i did setup my redash with ec2 with the ready redash AMI.</p>
<p>Because the EC2 AMI is V5.0.2 i didnt pull  from redash github, but did download and extract the rar of V.5.0.2 in my instance at ubuntu/redash.<br/>
and ran</p>
<pre><code class="lang-auto">docker-compose build worker
docker-compose build server
</code></pre>
<p>if i should do it i run into an error on each of the builds:<br/>
<div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/eA5Ftj3OfT3VEjnWASE7XFXW38E.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/6/6632dc25540e31dddedeff29dd01f3df55a28d24.png" rel="noopener nofollow ugc" title="image"><img alt="image" data-base62-sha1="eA5Ftj3OfT3VEjnWASE7XFXW38E" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/6/6632dc25540e31dddedeff29dd01f3df55a28d24_2_10x10.png" height="162" src="assets/6632dc25540e31dddedeff29dd01f3df55a28d24.png" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">736×173 6.69 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>if i dont need the building stage because im using the ready AMI , what shoud i do to install the additional apckages and be able to connect my mongodb atlas?</p>
<p>and still getting the error:<br/>
<img alt="image" data-base62-sha1="enrUOpRlMkZlk8pDA1PcPpMnfS7" height="154" src="assets/64c50bcc6db7f023d8d285fc798cec2665e8963f.png" width="415"/></p>
<p>im very confused and i just want to be able to connect to my mongodb atlas with the ready AMI.<br/>
Thanks !</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/AmitNeuhaus.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/AmitNeuhaus_avatar.png" tabindex="-1" width="48"/><span itemprop="name">AmitNeuhaus</span></a>
</span>
<link href="https://discuss.redash.io/t/unable-to-connect-to-mongodb-atlas-install-python-dependencies/4700" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-10-13T19:32:34Z" itemprop="datePublished">
                    October 13, 2019,  7:32pm
                  </time>
<meta content="2019-10-14T12:34:25Z" itemprop="dateModified"/>
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Can close.<br/>
Version 5.0.2 doesn’t have the pymongo srv extension in all the requirements files which are used when building the image for the containers in the AMI. This extension is required for mongo+srv string of atlas. The solution is to upgrade to docker image version greater than v5 which includes the dependency in the req files and therefore the image built with docker file is installing the dependency when building the new image. Maybe you can pull the v.5.02 tag and change the requirements files and building the compose again if you don’t wanna upgrade.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
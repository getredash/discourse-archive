<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>Redash can't connect any datasource</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/redash-cant-connect-any-datasource/7146">Redash can't connect any datasource</a>
</h1>
<div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/6.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Support</span>
</span>
</a>
<meta content="1" itemprop="position"/>
</span>
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/support-self-hosted/9.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Self Hosted Redash Support</span>
</span>
</a>
<meta content="2" itemprop="position"/>
</span>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content="Redash can't connect any datasource" itemprop="headline"/>
<meta content="Self Hosted Redash Support" itemprop="articleSection"/>
<meta content="" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/Andrey86.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/Andrey86_avatar.png" tabindex="-1" width="48"/><span itemprop="name">Andrey86</span></a>
</span>
<link href="https://discuss.redash.io/t/redash-cant-connect-any-datasource/7146" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-09-09T09:07:38Z" itemprop="datePublished">
                    September 9, 2020,  9:07am
                  </time>
<meta content="2020-09-09T09:07:38Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<h3>Issue Summary</h3>
<p>I deployed redash by helm in my kubernetes cluster. I tested 8.0.2.b37747 version. I don’t have any problems. Then I desired to deployed  9.0.0-beta.b42121 version. I can’t connect any datasource. I see an error  in the logs of the redash.<br/>
[2020-09-09 08:55:03,296][PID:10][ERROR][redash.app] Exception on /api/data_sources/1/test [POST]<br/>
Traceback (most recent call last):<br/>
File “/usr/local/lib/python3.7/site-packages/flask/app.py”, line 1949, in full_dispatch_request<br/>
rv = self.dispatch_request()<br/>
File “/usr/local/lib/python3.7/site-packages/flask/app.py”, line 1935, in dispatch_request<br/>
return self.view_functions<a>rule.endpoint</a><br/>
File “/usr/local/lib/python3.7/site-packages/flask_restful/<strong>init</strong>.py”, line 458, in wrapper<br/>
resp = resource(*args, **kwargs)<br/>
File “/usr/local/lib/python3.7/site-packages/flask_login/utils.py”, line 261, in decorated_view<br/>
return func(*args, **kwargs)<br/>
File “/usr/local/lib/python3.7/site-packages/flask/views.py”, line 89, in view<br/>
return self.dispatch_request(*args, **kwargs)<br/>
File “/app/redash/handlers/base.py”, line 33, in dispatch_request<br/>
return super(BaseResource, self).dispatch_request(*args, **kwargs)<br/>
File “/usr/local/lib/python3.7/site-packages/flask_restful/<strong>init</strong>.py”, line 573, in dispatch_request<br/>
resp = meth(*args, **kwargs)<br/>
File “/app/redash/permissions.py”, line 71, in decorated<br/>
return fn(*args, **kwargs)<br/>
File “/app/redash/handlers/data_sources.py”, line 262, in post<br/>
job.refresh()<br/>
File “/usr/local/lib/python3.7/site-packages/rq/job.py”, line 461, in refresh<br/>
raise NoSuchJobError(‘No such job: {0}’.format(self.key))<br/>
rq.exceptions.NoSuchJobError: No such job: b’rq:job:45fdd074-125d-46a1-878c-e89394288b6a’<br/>
[2020-09-09 08:55:03,302][PID:10][INFO][metrics] method=POST path=/api/data_sources/1/test endpoint=datasourcetestresource status=500 content_type=application/json content_length=36 duration=90467.64 query_count=4 query_duration=11.65</p>
<h3>Technical details:</h3>
<ul>
<li>Redash Version: 9.0.0-beta.b42121</li>
<li>Browser/OS: Chrome, Firefox/ Windows</li>
<li>How did you install Redash: docker  by helm in kubernetes</li>
</ul>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
<div class="crawler-linkback-list" itemscope="" itemtype="http://schema.org/ItemList">
<div itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a href="http://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/2" itemprop="url">Schema browser is empty and error 500 on data sources page</a>
<meta content="1" itemprop="position"/>
</div>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/colordove.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/colordove_avatar.png" tabindex="-1" width="48"/><span itemprop="name">colordove</span></a>
</span>
<link href="https://discuss.redash.io/t/redash-cant-connect-any-datasource/7146" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-09-23T08:57:20Z" itemprop="datePublished">
                    September 23, 2020,  8:57am
                  </time>
<meta content="2020-09-23T08:57:20Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I have the same problem, please tell me if anybody knows it.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/k4s1m.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/k4s1m_avatar.png" tabindex="-1" width="48"/><span itemprop="name">k4s1m</span></a>
</span>
<link href="https://discuss.redash.io/t/redash-cant-connect-any-datasource/7146" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-09-23T12:19:32Z" itemprop="datePublished">
                    September 23, 2020, 12:19pm
                  </time>
<meta content="2020-09-23T12:19:32Z" itemprop="dateModified"/>
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Are you certain your Redis is up and running? <code>NoSuchJobError</code> can happen in that case.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/colordove.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/colordove_avatar.png" tabindex="-1" width="48"/><span itemprop="name">colordove</span></a>
</span>
<link href="https://discuss.redash.io/t/redash-cant-connect-any-datasource/7146" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-09-24T06:52:42Z" itemprop="datePublished">
                    September 24, 2020,  6:52am
                  </time>
<meta content="2020-09-24T06:52:42Z" itemprop="dateModified"/>
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Thank you very much! It is my Redis’s problem, I restart the image and it works!</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_5" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/hamadycisse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/hamadycisse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">hamadycisse</span></a>
</span>
<link href="https://discuss.redash.io/t/redash-cant-connect-any-datasource/7146" itemprop="mainEntityOfPage"/>
<link href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/d/d90433dd648ab4d72a439f60ffc0037586eb40d9.png" itemprop="image"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2021-01-29T12:49:53Z" itemprop="datePublished">
                    January 29, 2021, 12:49pm
                  </time>
<meta content="2021-01-29T12:49:53Z" itemprop="dateModified"/>
<span itemprop="position">5</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I have the same error but my Redis seems to be running ok:</p>
<p>$ kubectl logs redash-b-5d89994b9b-6rkmz  -n production -c redis<br/>
1:C 28 Jan 2021 00:32:54.126 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo<br/>
1:C 28 Jan 2021 00:32:54.136 # Redis version=5.0.10, bits=64, commit=00000000, modified=0, pid=1, just started<br/>
1:C 28 Jan 2021 00:32:54.136 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf<br/>
1:M 28 Jan 2021 00:32:54.138 * Running mode=standalone, port=6379.<br/>
1:M 28 Jan 2021 00:32:54.144 # WARNING: The TCP backlog setting of 511 cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower value of 128.<br/>
1:M 28 Jan 2021 00:32:54.144 # Server initialized<br/>
1:M 28 Jan 2021 00:32:54.145 # WARNING you have Transparent Huge Pages (THP) support enabled in your kernel. This will create latency and memory usage issues with Redis. To fix this issue run the command ‘echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled’ as root, and add it to your /etc/rc.local in order to retain the setting after a reboot. Redis must be restarted after THP is disabled.<br/>
1:M 28 Jan 2021 00:32:54.145 * Ready to accept connections<br/>
1:M 28 Jan 2021 00:37:55.026 * 100 changes in 300 seconds. Saving…<br/>
1:M 28 Jan 2021 00:37:55.026 * Background saving started by pid 13<br/>
13:C 28 Jan 2021 00:37:55.028 * DB saved on disk<br/>
13:C 28 Jan 2021 00:37:55.029 * RDB: 0 MB of memory used by copy-on-write<br/>
1:M 28 Jan 2021 00:37:55.126 * Background saving terminated with success<br/>
1:M 28 Jan 2021 00:42:56.034 * 100 changes in 300 seconds. Saving…<br/>
1:M 28 Jan 2021 00:42:56.034 * Background saving started by pid 14</p>
<p>I installed Redash on a Kubernetes cluster using my own deployment files. I m not using the postgres image as I already have AWS RDS for my database and I have connected Redash to that server.</p>
<p>The query returns its results just fine, it is just that we get the following behavior:</p>
<ul>
<li>User Interface:  <div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/uXOC8tTQCnWWoKBvbmepAbNbiE9.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/d/d90433dd648ab4d72a439f60ffc0037586eb40d9.png" rel="noopener nofollow ugc" title="Screen Shot 2021-01-29 at 7.48.58 AM"><img alt="Screen Shot 2021-01-29 at 7.48.58 AM" data-base62-sha1="uXOC8tTQCnWWoKBvbmepAbNbiE9" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/d/d90433dd648ab4d72a439f60ffc0037586eb40d9_2_10x10.png" height="48" src="assets/d90433dd648ab4d72a439f60ffc0037586eb40d9.png" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">Screen Shot 2021-01-29 at 7.48.58 AM</span><span class="informations">722×51 5.49 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div>
</li>
<li>Server Log: <div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/tx4exPQcqAXx8hEPYPipFvEtom3.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/c/cefbfc32dc37b4c0764596fdf3fc6dbaec32f02f.png" rel="noopener nofollow ugc" title="Screen Shot 2021-01-29 at 7.49.32 AM"><img alt="Screen Shot 2021-01-29 at 7.49.32 AM" data-base62-sha1="tx4exPQcqAXx8hEPYPipFvEtom3" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/c/cefbfc32dc37b4c0764596fdf3fc6dbaec32f02f_2_10x10.png" height="140" src="assets/cefbfc32dc37b4c0764596fdf3fc6dbaec32f02f.png" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">Screen Shot 2021-01-29 at 7.49.32 AM</span><span class="informations">905×184 11.6 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div>
</li>
</ul>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_6" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/k4s1m.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/k4s1m_avatar.png" tabindex="-1" width="48"/><span itemprop="name">k4s1m</span></a>
</span>
<link href="https://discuss.redash.io/t/redash-cant-connect-any-datasource/7146" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2021-01-30T17:49:30Z" itemprop="datePublished">
                    January 30, 2021,  5:49pm
                  </time>
<meta content="2021-01-30T17:49:30Z" itemprop="dateModified"/>
<span itemprop="position">6</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Do you see traffic between your Redash instance and the Redis instance? Are you sure that all your Redash hosts (workers, server, scheduler etc.) are aimed at the same Redis instance?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_7" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/hamadycisse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/hamadycisse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">hamadycisse</span></a>
</span>
<link href="https://discuss.redash.io/t/redash-cant-connect-any-datasource/7146" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2021-02-01T13:33:29Z" itemprop="datePublished">
                    February 1, 2021,  1:33pm
                  </time>
<meta content="2021-02-01T13:33:29Z" itemprop="dateModified"/>
<span itemprop="position">7</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I have defined the variable REDASH_REDIS_URL: “redis://127.0.0.1:6379/0” and it is defined for all the instance.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_8" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/hamadycisse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/hamadycisse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">hamadycisse</span></a>
</span>
<link href="https://discuss.redash.io/t/redash-cant-connect-any-datasource/7146" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2021-02-01T14:46:24Z" itemprop="datePublished">
                    February 1, 2021,  2:46pm
                  </time>
<meta content="2021-02-01T14:46:24Z" itemprop="dateModified"/>
<span itemprop="position">8</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I am using the beta version 9.0.0 which no longer use Celery for queues. I had to make the following changes to my containers:</p>
<h3>Upgrading</h3>
<p>Typically, if you are running your own instance of Redash and wish to upgrade, you would simply modify the Docker tag in your <code>docker-compose.yml</code> file. Since RQ has replaced Celery in this version, there are a couple extra modifications that need to be done in your <code>docker-compose.yml</code>:</p>
<ol>
<li>Under <code>services/scheduler/environment</code>, omit <code>QUEUES</code> and <code>WORKERS_COUNT</code> (and omit <code>environment</code> altogether if it is empty).</li>
<li>Under <code>services</code>, add a new service for general RQ jobs:</li>
</ol>
<pre><code class="lang-auto">worker:
  &lt;&lt;: *redash-service
  command: worker
  environment:
    QUEUES: "periodic emails default"
    WORKERS_COUNT: 1
</code></pre>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_9" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/hamadycisse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/hamadycisse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">hamadycisse</span></a>
</span>
<link href="https://discuss.redash.io/t/redash-cant-connect-any-datasource/7146" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2021-02-01T21:07:26Z" itemprop="datePublished">
                    February 1, 2021,  9:07pm
                  </time>
<meta content="2021-02-01T21:07:26Z" itemprop="dateModified"/>
<span itemprop="position">9</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I found the cause of this issue. We are running two redash pods and each of them contains a container for Redis. Kubernetes is assigning the same address to both instances of Redis causing some jobs to be stored in one and be queried from another.</p>
<p>I have solved the issue by running only one pod of Redash for now.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
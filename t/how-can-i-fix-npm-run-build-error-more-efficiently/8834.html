<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>How can i fix npm run build error more efficiently</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/how-can-i-fix-npm-run-build-error-more-efficiently/8834">How can i fix npm run build error more efficiently</a>
</h1>
<div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/6.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Support</span>
</span>
</a>
<meta content="1" itemprop="position"/>
</span>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content="How can i fix npm run build error more efficiently" itemprop="headline"/>
<meta content="Support" itemprop="articleSection"/>
<meta content="" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/kyunghwan-ko.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/kyunghwan-ko_avatar.png" tabindex="-1" width="48"/><span itemprop="name">kyunghwan-ko</span></a>
</span>
<link href="assets/8834" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2021-07-27T16:52:17Z" itemprop="datePublished">
                    July 27, 2021,  4:52pm
                  </time>
<meta content="2021-07-27T16:52:17Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>i ran into error TS2565: Property ‘defaultProps’ is used before being assigned  while “npm run build”</p>
<p>OS: WSL2 Ubuntu 18.04 LTS</p>
<p>Redash: v9.0.0 beta ( <code>git clone https://github.com/getredash/redash.git</code> )</p>
<p>what i installed before:<br/>
node: 14.17.2<br/>
npm: 6.14.13<br/>
typeScript: 4.3.5  // sudo npm install -g typescript<br/>
Python: 3.6.9<br/>
node-gyp: 8.1.0</p>
<p>Got errors at <code>npm run build</code></p>
<pre><code class="lang-auto">src/components/ColorPicker/Input.tsx:47:38 - error TS2565: Property 'defaultProps' is used before being assigned.

47 type Props = OwnProps &amp; typeof Input.defaultProps;
```src/components/ColorPicker/Input.tsx:47:38 - error TS2565: Property 'defaultProps' is used before being assigned.

47 type Props = OwnProps &amp; typeof Input.defaultProps;
</code></pre>
<p>Actually, I already solved this error by moving the statement of the part where Input.defaultProps is declared (line 91) before the part where it is used(line 46).</p>
<p><strong>Before i fix</strong></p>
<pre><code class="lang-auto"># used in line 47
type Props = OwnProps &amp; typeof Input.defaultProps;

...

# declared in line 91
Input.defaultProps = {
  color: "#FFFFFF",
  presetColors: null,
  presetColumns: 8,
  onChange: () =&gt; {},
  onPressEnter: () =&gt; {},
};
</code></pre>
<p><strong>After i fix</strong></p>
<pre><code class="lang-auto"># declared in line 46
Input.defaultProps = {
  color: "#FFFFFF",
  presetColors: null,
  presetColumns: 8,
  onChange: () =&gt; {},
  onPressEnter: () =&gt; {},
};

# used in line 53
type Props = OwnProps &amp; typeof Input.defaultProps;

...
</code></pre>
<p>As you can see it is a simple problem that can be solved by simply changing the declaring statement to be placed before the using statement.</p>
<p>Label.tsx, Swatch.tsx, index.tsx, JsonViewInteractive.tsx, ContextHelp.tsx, Section.tsx, Switch.tsx, createTabbedEditor.tsx …<br/>
about 22 files have same error<br/>
i want to know <strong>why this error occur</strong> and how can i <strong>fix this error more easily without changing each statement</strong></p>
<p>Please suggest.</p>
<p>Thank you!</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="2" itemprop="userInteractionCount"/>
<span class="post-likes">2 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/8834" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2021-07-28T14:38:18Z" itemprop="datePublished">
                    July 28, 2021,  2:38pm
                  </time>
<meta content="2021-07-28T14:38:18Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>The short answer is there’s no way to do this without changing each statement.</p>
<p>Slightly longer answer is that we intend to refactor this after the V10 release so these will be cleaned up at that time.</p>
<p>FYI we closed the issue you opened on our github repo for this same subject. This forum is the place for such conversations. GH is only for planned work and bug reports.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="2" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/kyunghwan-ko.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/kyunghwan-ko_avatar.png" tabindex="-1" width="48"/><span itemprop="name">kyunghwan-ko</span></a>
</span>
<link href="assets/8834" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2021-07-28T15:10:37Z" itemprop="datePublished">
                    July 28, 2021,  3:10pm
                  </time>
<meta content="2021-07-28T15:10:37Z" itemprop="dateModified"/>
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Thank you for your reply.<br/>
and<br/>
This is my first time trying to ask a question, so I misunderstood and posted an inappropriate question on github. sorry about that.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/kyunghwan-ko.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/kyunghwan-ko_avatar.png" tabindex="-1" width="48"/><span itemprop="name">kyunghwan-ko</span></a>
</span>
<link href="assets/8834" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2021-07-30T02:36:36Z" itemprop="datePublished">
                    July 30, 2021,  2:36am
                  </time>
<meta content="2021-07-30T02:36:36Z" itemprop="dateModified"/>
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<aside class="quote group-Team" data-post="2" data-topic="8834" data-username="jesse">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="assets/3002_2.png" width="20"/> jesse:</div>
<blockquote>
<p>refactor this after the V10 release so these will be cleaned up at that time.</p>
</blockquote>
</aside>
<p>To help your team refactor this issue, i have gathered the path of the file that caused this issue.<br/>
and i also included repositioning of the statements to fix the error.</p>
<pre><code class="lang-auto">redash/viz-lib/src/components/ColorPicker/Input.tsx Line 91~97 -&gt; 46~52
redash/viz-lib/src/components/ColorPicker/Label.tsx 30~34 -&gt; 16~20
redash/viz-lib/src/components/ColorPicker/Swatch.tsx 39~45 -&gt; 15~21
redash/viz-lib/src/components/ColorPicker/index.tsx 158~169 -&gt; 47~58
redash/viz-lib/src/components/ErrorBoundary.tsx 28~30 -&gt; 21~23
redash/viz-lib/src/components/TextAlignmentSelect/index.tsx 45~47 -&gt; 16~18
redash/viz-lib/src/components/json-view-interactive/JsonViewInteractive.tsx 108~112 -&gt; 97~100
redash/viz-lib/src/components/sortable/index.tsx: 92~97 -&gt; 23~28
redash/viz-lib/src/components/visualizations/editor/ContextHelp.tsx: 23~26 -&gt; 12~15
redash/viz-lib/src/components/visualizations/editor/Section.tsx: 26~29 -&gt; 10~13
redash/viz-lib/src/components/visualizations/editor/Section.tsx: 45~48 -&gt; 33~36
redash/viz-lib/src/components/visualizations/editor/Switch.tsx: 40~44 -&gt; 12~16
redash/viz-lib/src/components/visualizations/editor/createTabbedEditor.tsx: - 49~51 -&gt; 24~26
redash/viz-lib/src/components/visualizations/editor/withControlLabel.tsx: 52~57 -&gt; 16~21
redash/viz-lib/src/visualizations/chart/Editor/AxisSettings.tsx: 122~125 -&gt; 28~31
redash/viz-lib/src/visualizations/chart/Editor/ChartTypeSelect.tsx: 52~54 -&gt; 20~22
redash/viz-lib/src/visualizations/chart/Editor/ColumnMappingSelect.tsx: 60~65 -&gt; 26~31
redash/viz-lib/src/visualizations/choropleth/Renderer/Legend.tsx: 29~32 -&gt; 12~15
redash/viz-lib/src/visualizations/cohort/Cornelius.tsx: 234~237 -&gt; 195~198
redash/viz-lib/src/visualizations/funnel/Renderer/FunnelBar.tsx: 25~31 -&gt; 13~19
redash/viz-lib/src/visualizations/table/Editor/ColumnEditor.tsx: 98~100 -&gt; 19~21
redash/viz-lib/src/visualizations/table/Renderer.tsx: 79~81 -&gt; 60~62
redash/viz-lib/src/visualizations/choropleth/Editor/FormatSettings.tsx: 53~55 -&gt; 22~24
</code></pre>
<p>// total count : 23</p>
<p>Additionally, the following packages were needed to fix the remaining errors of the <code>npm run build</code> command.</p>
<pre><code class="lang-auto">npm i --save-dev @types/debug
npm i --save-dev @types/enzyme
npm i --save-dev @types/jest
npm i --save-dev @types/plotly.js
npm i --save-dev @types/d3
npm i --save-dev @types/d3-cloud
npm i --save-dev @types/chroma-js
npm i --save-dev @types/numeral
npm i --save-dev @types/dompurify
npm i --save-dev @types/leaflet
</code></pre>
<p>I would be very grateful if your team could fix this problem as well.</p>
<p>Thank you again !</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_5" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/8834" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2021-07-30T19:32:07Z" itemprop="datePublished">
                    July 30, 2021,  7:32pm
                  </time>
<meta content="2021-07-30T19:32:07Z" itemprop="dateModified"/>
<span itemprop="position">5</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Thank you! This is super helpful.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Schema browser is empty and error 500 on data sources page</title>
    <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915</link>
    <description>Schema browser is empty for specific, newly created datasource.

When I switching to this datasource to make a query after a while I get message 
&quot;Schema refresh failed . Please try again later &quot;

Query window shows and executes sql properly.

Redash 10.0.0-beta.b49597, deployed to AWS EKS cluster using https://getredash.github.io/contrib-helm-chart/
Database - PostgreSQL RDS instance in AWS


redash-server throws error (browser shows error 500 {&quot;message&quot;: &quot;Internal Server Error&quot;})

[2021-08-11 14:17:29,216[][PID:11[][ERROR[][redash.app[] Exception on /api/jobs/e04f43a0-cf8d-4349-b7b4-c8d2f5e3ac5f [GET[]
Traceback (most recent call last):
  File &quot;/usr/local/lib/python3.7/site-packages/flask/app.py&quot;, line 1949, in full_dispatch_request
    rv = self.dispatch_request()
  File &quot;/usr/local/lib/python3.7/site-packages/flask/app.py&quot;, line 1935, in dispatch_request
    return self.view_functions[rule.endpoint[](**req.view_args)
  File &quot;/usr/local/lib/python3.7/site-packages/flask_restful/__init__.py&quot;, line 458, in wrapper
    resp = resource(*args, **kwargs)
  File &quot;/usr/local/lib/python3.7/site-packages/flask_login/utils.py&quot;, line 261, in decorated_view
    return func(*args, **kwargs)
  File &quot;/usr/local/lib/python3.7/site-packages/flask/views.py&quot;, line 89, in view
    return self.dispatch_request(*args, **kwargs)
  File &quot;/app/redash/handlers/base.py&quot;, line 33, in dispatch_request
    return super(BaseResource, self).dispatch_request(*args, **kwargs)
  File &quot;/usr/local/lib/python3.7/site-packages/flask_restful/__init__.py&quot;, line 573, in dispatch_request
    resp = meth(*args, **kwargs)
  File &quot;/app/redash/handlers/query_results.py&quot;, line 462, in get
    job = Job.fetch(job_id)
  File &quot;/usr/local/lib/python3.7/site-packages/rq/job.py&quot;, line 299, in fetch
    job.refresh()
  File &quot;/usr/local/lib/python3.7/site-packages/rq/job.py&quot;, line 518, in refresh
    raise NoSuchJobError(&#39;No such job: {0}&#39;.format(self.key))
rq.exceptions.NoSuchJobError: No such job: b&#39;rq:job:e04f43a0-cf8d-4349-b7b4-c8d2f5e3ac5f&#39;
[2021-08-11 14:17:29,218[][PID:11[][INFO[][metrics[] method=GET path=/api/jobs/e04f43a0-cf8d-4349-b7b4-c8d2f5e3ac5f endpoint=job status=500 content_type=application/json content_length=36 duration=2.26 query_count=2 query_duration=4.99</description>
    
    <lastBuildDate>Thu, 12 Aug 2021 15:40:06 +0000</lastBuildDate>
    <category>Self Hosted Redash Support</category>
    <atom:link href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[jesse]]></dc:creator>
        <description><![CDATA[
            <p>Thank you for providing so much debugging information. I’ve added a tag to our discourse for <code>kubernetes</code> so we can aggregate these questions and get a better picture of the needs going forward.</p>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/32">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/32</link>
        <pubDate>Thu, 12 Aug 2021 15:40:06 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-32</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[olx]]></dc:creator>
        <description><![CDATA[
            <p>Jesse, thank you soo much !</p>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/31">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/31</link>
        <pubDate>Thu, 12 Aug 2021 14:44:36 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-31</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[jesse]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="olx" data-post="28" data-topic="8915" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://avatars.discourse-cdn.com/v4/letter/o/9d8465/40.png" class="avatar"> olx:</div>
<blockquote>
<p>Finally I switched my Redash setup back to version <code>8.0.2.b37747</code> - schema is now displaying for all datasources</p>
</blockquote>
</aside>
<p>Sounds like the K8S deployment hasn’t been updated for V10. This isn’t something that we officially support (although there is a repo that does it).</p>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/30">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/30</link>
        <pubDate>Thu, 12 Aug 2021 14:34:11 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-30</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[jesse]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="olx" data-post="27" data-topic="8915" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://avatars.discourse-cdn.com/v4/letter/o/9d8465/40.png" class="avatar"> olx:</div>
<blockquote>
<p>Another question - should we keep redis database during restart or redeploy ? Are there any specific data which should be preserved ?</p>
</blockquote>
</aside>
<p>Redis is ephemeral. It’s okay to lose everything there. Just don’t hose your postgres <img src="https://emoji.discourse-cdn.com/twitter/wink.png?v=10" title=":wink:" class="emoji" alt=":wink:"></p>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/29">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/29</link>
        <pubDate>Thu, 12 Aug 2021 14:32:54 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-29</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[olx]]></dc:creator>
        <description><![CDATA[
            <p>Finally I switched my Redash setup back to version <code>8.0.2.b37747</code> - schema is now displaying for all datasources</p>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/28">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/28</link>
        <pubDate>Thu, 12 Aug 2021 05:56:40 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-28</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[olx]]></dc:creator>
        <description><![CDATA[
            <p>Another question - should we keep redis database during restart or redeploy ? Are there any specific data which should be preserved ?</p>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/27">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/27</link>
        <pubDate>Thu, 12 Aug 2021 05:50:50 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-27</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[olx]]></dc:creator>
        <description><![CDATA[
            <p>Celery parameters are not enabled in this config or uses default settings</p>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/26">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/26</link>
        <pubDate>Thu, 12 Aug 2021 05:39:30 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-26</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[jesse]]></dc:creator>
        <description><![CDATA[
            <p>You should remove all settings related to celery. Since V9 Redash doesn’t use it any longer. Sorry I’m not much help beyond this. I don’t understand what these files are doing or their syntax.</p>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/25">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/25</link>
        <pubDate>Wed, 11 Aug 2021 22:01:19 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-25</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[olx]]></dc:creator>
        <description><![CDATA[
            <p>helm deployment</p>
<pre><code> - helm upgrade --install -f $INGRESSVALUES -n $DEPLOY_NAME $DEPLOY_NAMESPACE ./ 
  --set externalPostgreSQL=${REDASH_DATABASE_URL} 
  --set redash.secretKey=${REDASH_SECRET_KEY} 
  --set redash.cookieSecret=${REDASH_COOKIE_SECRET} 
  --set redash.mailServer=${REDASH_MAIL_SERVER} 
  --set redash.mailUsername=${REDASH_MAIL_USERNAME} 
  --set redash.mailDefaultSender=${REDASH_MAIL_DEFAULT_SENDER}
  --set ingress.publicHost={$DEPLOY_NAME.$DEPLOY_DOMAIN}
  --set redash.samlMetadataUrl=${REDASH_SAML_METADATA_URL}
  --set redash.samlEntityId=${REDASH_SAML_ENTITY_ID}
  --set redash.samlNameidFormat=${REDASH_SAML_NAMEID_FORMAT}</code></pre>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/24">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/24</link>
        <pubDate>Wed, 11 Aug 2021 21:42:37 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-24</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[olx]]></dc:creator>
        <description><![CDATA[
            <pre><code class="lang-auto">## Default values for Redash.
## This is a YAML-formatted file.

image:
  # image.repository -- Redash image name used for server and worker pods
  repository: redash/redash
  # image.tag -- Redash image [tag](https://hub.docker.com/r/redash/redash/tags)
  tag: 10.0.0-beta.b49597
  # image.pullPolicy - Image pull policy
  pullPolicy: IfNotPresent

# imagePullSecrets -- Name(s) of secrets to use if pulling images from a private registry
imagePullSecrets: []
# nameOverride - Override the autogenerated release name based chart name
nameOverride: ""
fullnameOverride: ""

# env -- Redash global envrionment variables - applied to both server and worker containers.
env:
  PYTHONUNBUFFERED: 0

## Service account and security context configuration
serviceAccount:
  # serviceAccount.create -- Specifies whether a service account should be created
  create: true
  # serviceAccount.annotations -- Annotations to add to the service account
  annotations: {}
  # serviceAccount.name -- The name of the service account to use. If not set and create is true, a name is generated using the fullname template
  name:

## Redash application configuration
redash:
  
  ## Start primary Redash configuration
  ## Note that we document the Redash defaults, but don't explicitly set them.
  ## This allows multiple versions of Redash (which may have different defaults) to be more easily used
  # -- REQUIRED `REDASH_SECRET_KEY` value. Secret key used for data encryption. Stored as a Secret value.
  secretKey: 
  # -- `REDASH_SAML_SCHEME_OVERRIDE` value. This setting will allow you to override the saml auth url scheme that gets constructed by flask. this is a useful feature if, for example, you're behind a proxy protocol enabled tcp load balancer (aws elb that terminates ssl) and your nginx proxy or similar adds a x-forwarded-proto of http even though your redash url for saml auth is https..
  samlSchemeOverride: ""
  # -- `REDASH_PROXIES_COUNT` value.
  # @default -- 1
  proxiesCount: ""
  # -- `REDASH_STATSD_HOST` value.
  # @default -- 127.0.0.1
  statsdHost: ""
  # -- `REDASH_STATSD_PORT` value.
  # @default -- 8125
  statsdPort: ""
  # -- `REDASH_STATSD_PREFIX` value.
  # @default -- redash
  statsdPrefix: ""
  # -- `REDASH_STATSD_USE_TAGS` value. Whether to use tags in statsd metrics (influxdb’s format).
  # @default -- false
  statsdUseTags: ""
  # -- `REDASH_CELERY_BROKER` value.
  # @default -- REDIS_URL
  celeryBroker: ""
  # -- `REDASH_CELERY_BACKEND` value.
  # @default -- CELERY_BROKER
  celeryBackend: ""
  # -- `REDASH_CELERY_TASK_RESULT_EXPIRES` value. How many seconds to keep celery task results in cache (in seconds).
  # @default -- 3600 \* 4
  celeryTaskResultExpires: "3600"
  # -- `REDASH_QUERY_RESULTS_CLEANUP_ENABLED` value.
  # @default -- true
  queryResultsCleanupEnabled: ""
  # -- `REDASH_QUERY_RESULTS_CLEANUP_COUNT` value.
  # @default -- 100
  queryResultsCleanupCount: "50"
  # -- `REDASH_QUERY_RESULTS_CLEANUP_MAX_AGE` value.
  # @default -- 7
  queryResultsCleanupMaxAge: "3"
  # -- `REDASH_SCHEMAS_REFRESH_QUEUE` value. The celery queue for refreshing the data source schemas.
  # @default -- celery
  schemasRefreshQueue: ""
  # -- `REDASH_SCHEMAS_REFRESH_SCHEDULE` value. How often to refresh the data sources schemas (in minutes).
  # @default -- 30
  schemasRefreshSchedule: ""
  # -- `REDASH_AUTH_TYPE` value.
  # @default -- api_key
  authType: ""
  # -- `REDASH_ENFORCE_HTTPS` value.
  # @default -- false
  enforceHttps: ""
  # -- `REDASH_INVITATION_TOKEN_MAX_AGE` value.
  # @default -- 60 _ 60 _ 24 \* 7
  invitationTokenMaxAge: ""
  # -- `REDASH_MULTI_ORG` value.
  # @default -- false
  multiOrg: ""
  # -- `REDASH_GOOGLE_CLIENT_ID` value.
  googleClientId: ""
  # -- `REDASH_GOOGLE_CLIENT_SECRET` value. Stored as a Secret value.
  googleClientSecret: ""
  # -- `REDASH_REMOTE_USER_LOGIN_ENABLED` value.
  # @default -- false
  remoteUserLoginEnabled: ""
  # -- `REDASH_REMOTE_USER_HEADER` value.
  # @default -- X-Forwarded-Remote-User
  remoteUserHeader: ""
  # -- `REDASH_LDAP_LOGIN_ENABLED` value.
  # @default -- false
  ldapLoginEnabled: ""
  # -- `REDASH_LDAP_URL` value.
  # @default -- None
  ldapUrl: ""
  # -- `REDASH_LDAP_BIND_DN` value.
  # @default -- None
  ldapBindDn: ""
  # -- `REDASH_LDAP_BIND_DN_PASSWORD` value. Stored as a Secret value.
  ldapBindDnPassword: ""
  # -- `REDASH_LDAP_DISPLAY_NAME_KEY` value.
  # @default -- displayName
  ldapDisplayNameKey: ""
  # -- `REDASH_LDAP_EMAIL_KEY` value.
  # @default -- mail
  ldapEmailKey: ""
  # -- `REDASH_LDAP_CUSTOM_USERNAME_PROMPT` value.
  # @default -- LDAP/AD/SSO username:
  ldapCustomUsernamePrompt: ""
  # -- `REDASH_LDAP_SEARCH_TEMPLATE` value.
  # @default -- (cn=%(username)s)
  ldapSearchTemplate: ""
  # -- `REDASH_LDAP_SEARCH_DN` value.
  # @default -- REDASH_SEARCH_DN
  ldapSearchDn: ""
  # -- `REDASH_STATIC_ASSETS_PATH` value.
  # @default -- ”../client/dist/”
  staticAssetsPath: ""
  # -- `REDASH_JOB_EXPIRY_TIME` value.
  # @default -- 3600 \* 12
  jobExpiryTime: ""
  # -- REQUIRED `REDASH_COOKIE_SECRET` value. Stored as a Secret value.
  cookieSecret: 
  # -- `REDASH_LOG_LEVEL` value.
  # @default -- INFO
  logLevel: ""
  # -- `REDASH_MAIL_SERVER` value.
  # @default -- localhost
  mailServer: ""
  # -- `REDASH_MAIL_PORT` value.
  # @default -- 25
  mailPort: ""
  # -- `REDASH_MAIL_USE_TLS` value.
  # @default -- false
  mailUseTls: ""
  # -- `REDASH_MAIL_USE_SSL` value.
  # @default -- false
  mailUseSsl: ""
  # -- `REDASH_MAIL_USERNAME` value.
  # @default -- None
  mailUsername: ""
  # -- `REDASH_MAIL_PASSWORD` value. Stored as a Secret value.
  # @default -- None
  mailPassword: ""
  # -- `REDASH_MAIL_DEFAULT_SENDER` value.
  # @default -- None
  mailDefaultSender: ""
  # -- `REDASH_MAIL_MAX_EMAILS` value.
  # @default -- None
  mailMaxEmails: ""
  # -- `REDASH_MAIL_ASCII_ATTACHMENTS` value.
  # @default -- false
  mailAsciiAttachments: ""
  # -- `REDASH_HOST` value.
  host: ""
  # -- `REDASH_ALERTS_DEFAULT_MAIL_SUBJECT_TEMPLATE` value.
  # @default -- ({state}) {alert_name}
  alertsDefaultMailSubjectTemplate: ""
  # -- `REDASH_THROTTLE_LOGIN_PATTERN` value.
  # @default -- 50/hour
  throttleLoginPattern: ""
  # -- `REDASH_LIMITER_STORAGE` value.
  # @default -- REDIS_URL
  limiterStorage: ""
  # -- `REDASH_CORS_ACCESS_CONTROL_ALLOW_ORIGIN` value.
  corsAccessControlAllowOrigin: ""
  # -- `REDASH_CORS_ACCESS_CONTROL_ALLOW_CREDENTIALS` value.
  # @default -- false
  corsAccessControlAllowCredentials: ""
  # -- `REDASH_CORS_ACCESS_CONTROL_REQUEST_METHOD` value.
  # @default -- GET, POST, PUT
  corsAccessControlRequestMethod: ""
  # -- `REDASH_CORS_ACCESS_CONTROL_ALLOW_HEADERS` value.
  # @default -- Content-Type
  corsAccessControlAllowHeaders: ""
  # -- `REDASH_ENABLED_QUERY_RUNNERS` value.
  # @default -- ”,”.join(default_query_runners)
  enabledQueryRunners: ""
  # -- `REDASH_ADDITIONAL_QUERY_RUNNERS` value.
  additionalQueryRunners: ""
  # -- `REDASH_DISABLED_QUERY_RUNNERS` value.
  disabledQueryRunners: ""
  # -- `REDASH_SCHEDULED_QUERY_TIME_LIMIT` value. Time limit for scheduled queries (in seconds).
  # @default -- None
  scheduledQueryTimeLimit: ""
  # -- `REDASH_ADHOC_QUERY_TIME_LIMIT` value. Time limit for adhoc queries (in seconds).
  # @default -- None
  adhocQueryTimeLimit: ""
  # -- `REDASH_ENABLED_DESTINATIONS` value.
  # @default -- ”,”.join(default_destinations)
  enabledDestinations: ""
  # -- `REDASH_ADDITIONAL_DESTINATIONS` value.
  additionalDestinations: ""
  # -- `REDASH_EVENT_REPORTING_WEBHOOKS` value.
  eventReportingWebhooks: ""
  # -- `REDASH_SENTRY_DSN` value.
  sentryDsn: ""
  # -- `REDASH_ALLOW_SCRIPTS_IN_USER_INPUT` value. Disable sanitization of text input, allowing full html.
  # @default -- false
  allowScriptsInUserInput: ""
  # -- `REDASH_DASHBOARD_REFRESH_INTERVALS` value.
  # @default -- 60,300,600,1800,3600,43200,86400
  dashboardRefreshIntervals: ""
  # -- `REDASH_QUERY_REFRESH_INTERVALS` value.
  # @default -- 60, 300, 600, 900, 1800, 3600, 7200, 10800, 14400, 18000, 21600, 25200, 28800, 32400, 36000, 39600, 43200, 86400, 604800, 1209600, 2592000
  queryRefreshIntervals: ""
  # -- `REDASH_PASSWORD_LOGIN_ENABLED` value.
  # @default -- true
  passwordLoginEnabled: ""
  # -- `REDASH_SAML_METADATA_URL` value.
  samlMetadataUrl: ""
  # -- `REDASH_SAML_ENTITY_ID` value.
  samlEntityId: ""
  # -- `REDASH_SAML_NAMEID_FORMAT` value.
  samlNameidFormat: ""
  # -- `REDASH_DATE_FORMAT` value.
  # @default -- DD/MM/YY
  dateFormat: ""
  # -- `REDASH_JWT_LOGIN_ENABLED` value.
  # @default -- false
  jwtLoginEnabled: ""
  # -- `REDASH_JWT_AUTH_ISSUER` value.
  jwtAuthIssuer: ""
  # -- `REDASH_JWT_AUTH_PUBLIC_CERTS_URL` value.
  jwtAuthPublicCertsUrl: ""
  # -- `REDASH_JWT_AUTH_AUDIENCE` value.
  jwtAuthAudience: ""
  # -- `REDASH_JWT_AUTH_ALGORITHMS` value.
  # @default -- HS256,RS256,ES256
  jwtAuthAlgorithms: ""
  # -- `REDASH_JWT_AUTH_COOKIE_NAME` value.
  jwtAuthCookieName: ""
  # -- `REDASH_JWT_AUTH_HEADER_NAME` value.
  jwtAuthHeaderName: ""
  # -- `REDASH_FEATURE_SHOW_QUERY_RESULTS_COUNT` value. Disable/enable showing count of query results in status.
  # @default -- true
  featureShowQueryResultsCount: ""
  # -- `REDASH_VERSION_CHECK` value.
  # @default -- true
  versionCheck: ""
  # -- `REDASH_FEATURE_DISABLE_REFRESH_QUERIES` value. Disable scheduled query execution.
  # @default -- false
  featureDisableRefreshQueries: ""
  # -- `REDASH_FEATURE_SHOW_PERMISSIONS_CONTROL` value.
  # @default -- false
  featureShowPermissionsControl: ""
  # -- `REDASH_FEATURE_ALLOW_CUSTOM_JS_VISUALIZATIONS` value.
  # @default -- false
  featureAllowCustomJsVisualizations: ""
  # -- `REDASH_FEATURE_DUMB_RECENTS` value.
  # @default -- false
  featureDumbRecents: ""
  # -- `REDASH_FEATURE_AUTO_PUBLISH_NAMED_QUERIES` value.
  # @default -- true
  featureAutoPublishNamedQueries: ""
  # -- `REDASH_BIGQUERY_HTTP_TIMEOUT` value.
  # @default -- 600
  bigqueryHttpTimeout: ""
  # -- `REDASH_SCHEMA_RUN_TABLE_SIZE_CALCULATIONS` value.
  # @default -- false
  schemaRunTableSizeCalculations: ""
  # -- `REDASH_WEB_WORKERS` value. How many processes will gunicorn spawn to handle web requests.
  # @default -- 4
  webWorkers: ""
  ## End primary Redash configuration
  # redash.existingSecret -- Name of existing secret to use instead of either the values above
  ## This secret must contain keys matching the items marked "Stored as a Secret value" above.
  # existingSecret:

## Configuration for Redash web server
server:
  # server.httpPort -- Server container port (only useful if you are using a customized image)
  httpPort: 5000

  # server.env -- Redash server specific environment variables
  # Don't use this for variables that are in the configuration above, however.
  env: {}

  # server.replicaCount -- Number of server pods to run
  replicaCount: 1

  # server.resources -- Server resource requests and limits [ref](http://kubernetes.io/docs/user-guide/compute-resources/)
  resources:
    # limits:
    #   cpu: 500m
    #   memory: 3Gi
    # requests:
    #   cpu: 100m
    #  memory: 500Mi

  # server.podSecurityContext -- Security contexts for server pod assignment [ref](https://kubernetes.io/docs/tasks/configure-pod-container/security-context/)
  podSecurityContext: {}
  securityContext: {}

  # server.nodeSelector -- Node labels for server pod assignment [ref](https://kubernetes.io/docs/user-guide/node-selection/)
  nodeSelector: {}

  # server.tolerations -- Tolerations for server pod assignment [ref](https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/)
  tolerations: []

  # server.affinity -- Affinity for server pod assignment [ref](https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity)
  affinity: {}

  # server.podAnnotations -- Annotations for server pod assignment [ref](https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/)
  podAnnotations: {}

service:
  # service.annotations -- Annotations to add to the service
  annotations: {}
  # service.loadBalancerIP -- Specific IP address to use for cloud providers such as Azure Kubernetes Service [ref](https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer)
  loadBalancerIP:
  # service.type -- Kubernetes Service type
  type: ClusterIP
  # service.port -- Service external port
  port: 80

## Ingress - see below
#ingress:
#  # ingress.enabled -- Enable ingress controller resource
#  enabled: false
#  # ingress.annotations -- Ingress annotations configuration
#  annotations:
#    {}
#    # kubernetes.io/ingress.class: nginx
#    # kubernetes.io/tls-acme: "true"
#  # ingress.hosts -- Ingress resource hostnames and path mappings
#  hosts:
#    - host: chart-example.local
#      paths: []
#  # ingress.tls -- Ingress TLS configuration
#  tls: []
#  #  - secretName: chart-example-tls
#  #    hosts:
#  #      - chart-example.local

## Configuration for Redash ad-hoc workers
adhocWorker:
  # adhocWorker.env -- Redash ad-hoc worker specific envrionment variables.
  env:
    QUEUES: "queries,celery"
    WORKERS_COUNT: 4

  # adhocWorker.replicaCount -- Number of ad-hoc worker pods to run
  replicaCount: 1

  # adhocWorker.resources -- Ad-hoc worker resource requests and limits [ref](http://kubernetes.io/docs/user-guide/compute-resources/)
  resources:
    # limits:
    #   cpu: 500m
    #   memory: 3Gi
    # requests:
    #   cpu: 100m
    #  memory: 500Mi

  # adhocWorker.podSecurityContext -- Security contexts for ad-hoc worker pod assignment [ref](https://kubernetes.io/docs/tasks/configure-pod-container/security-context/)
  podSecurityContext: {}
  securityContext: {}

  # adhocWorker.nodeSelector -- Node labels for ad-hoc worker pod assignment [ref](https://kubernetes.io/docs/user-guide/node-selection/)
  nodeSelector: {}

  # adhocWorker.tolerations -- Tolerations for ad-hoc worker pod assignment [ref](https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/)
  tolerations: []

  # adhocWorker.affinity -- Affinity for ad-hoc worker pod assignment [ref](https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity)
  affinity: {}

  # adhocWorker.podAnnotations -- Annotations for adhoc worker pod assignment [ref](https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/)
  podAnnotations: {}

## Configuration for Redash scheduled workers
scheduledWorker:
  # scheduledWorker.env -- Redash scheduled worker specific envrionment variables.
  env:
    QUEUES: "scheduled_queries"
    WORKERS_COUNT: 4

  # scheduledWorker.replicaCount -- Number of scheduled worker pods to run
  replicaCount: 1

  # scheduledWorker.resources -- Scheduled worker resource requests and limits [ref](http://kubernetes.io/docs/user-guide/compute-resources/)
  resources:
    # limits:
    #   cpu: 500m
    #   memory: 3Gi
    # requests:
    #   cpu: 100m
    #  memory: 500Mi

  # scheduledWorker.podSecurityContext -- Security contexts for scheduled worker pod assignment [ref](https://kubernetes.io/docs/tasks/configure-pod-container/security-context/)
  podSecurityContext: {}
  securityContext: {}

  # scheduledWorker.nodeSelector -- Node labels for scheduled worker pod assignment [ref](https://kubernetes.io/docs/user-guide/node-selection/)
  nodeSelector: {}

  # scheduledWorker.tolerations -- Tolerations for scheduled worker pod assignment [ref](https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/)
  tolerations: []

  # scheduledWorker.affinity -- Affinity for scheduled worker pod assignment [ref](https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity)
  affinity: {}

  # scheduledWorker.podAnnotations -- Annotations for scheduled worker pod assignment [ref](https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/)
  podAnnotations: {}

## Configuration for hook-install-job
hookInstallJob:
  # hookInstallJob.ttlSecondsAfterFinished -- ttl for install job [ref](https://kubernetes.io/docs/concepts/workloads/controllers/ttlafterfinished/)
  ttlSecondsAfterFinished: 600
  # hookInstallJob.resources -- Scheduled worker resource requests and limits [ref](http://kubernetes.io/docs/user-guide/compute-resources/)
  resources:
  # limits:
  #   cpu: 500m
  #   memory: 3Gi
  # requests:
  #   cpu: 100m
  #  memory: 500Mi

  # hookInstallJob.podSecurityContext -- Security contexts for scheduled worker pod assignment [ref](https://kubernetes.io/docs/tasks/configure-pod-container/security-context/)
  podSecurityContext: {}
  securityContext: {}

  # hookInstallJob.nodeSelector -- Node labels for scheduled worker pod assignment [ref](https://kubernetes.io/docs/user-guide/node-selection/)
  nodeSelector: {}

  # hookInstallJob.tolerations -- Tolerations for server pod assignment [ref](https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/)
  tolerations: []

  # hookInstallJob.affinity -- Affinity for scheduled worker pod assignment [ref](https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity)
  affinity: {}

  # hookInstallJob.podAnnotations -- Annotations for scheduled worker pod assignment [ref](https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/)
  podAnnotations: {}

## Configuration for hook-upgrade-job
hookUpgradeJob:
  # hookUpgradeJob.ttlSecondsAfterFinished -- ttl for install job [ref](https://kubernetes.io/docs/concepts/workloads/controllers/ttlafterfinished/)
  ttlSecondsAfterFinished: 600
  # hookUpgradeJob.resources -- Scheduled worker resource requests and limits [ref](http://kubernetes.io/docs/user-guide/compute-resources/)
  resources:
  # limits:
  #   cpu: 500m
  #   memory: 3Gi
  # requests:
  #   cpu: 100m
  #  memory: 500Mi

  # hookUpgradeJob.podSecurityContext -- Security contexts for scheduled worker pod assignment [ref](https://kubernetes.io/docs/tasks/configure-pod-container/security-context/)
  podSecurityContext: {}
  securityContext: {}

  # hookUpgradeJob.nodeSelector -- Node labels for scheduled worker pod assignment [ref](https://kubernetes.io/docs/user-guide/node-selection/)
  nodeSelector: {}

  # hookUpgradeJob.tolerations -- Tolerations for server pod assignment [ref](https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/)
  tolerations: []

  # hookUpgradeJob.affinity -- Affinity for scheduled worker pod assignment [ref](https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity)
  affinity: {}

  # hookUpgradeJob.podAnnotations -- Annotations for scheduled worker pod assignment [ref](https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/)
  podAnnotations: {}

# externalPostgreSQL -- External PostgreSQL configuration. To use an external PostgreSQL instead of the automatically deployed postgresql chart: set postgresql.enabled to false then uncomment and configure the externalPostgreSQL connection URL (e.g. postgresql://user:pass@host:5432/database)
externalPostgreSQL:
# externalPostgreSQLSecret -- Read external PostgreSQL configuration from a secret. This should point at a secret file with a single key which specifyies the connection string.
externalPostgreSQLSecret:
  {}
  # name: redash-postgres
  # key: connectionString

# envSecretName -- DEPRECIATED, use externalPostgreSQLSecret/externalRedisSecret instead. Contents of this secret will be loaded as environment variables into the container. Useful e.g. to set to set PostgreSQL password in externalPostgreSQL parameter: postgresql://user:$(POSTGRESQL_PASSWORD)@host:5432/database [ref](https://kubernetes.io/docs/tasks/inject-data-application/define-environment-variable-container/#using-environment-variables-inside-of-your-config)
# envSecretName:

## Configuration values for the postgresql dependency. This PostgreSQL instance is used by default for all Redash state storage [ref](https://github.com/kubernetes/charts/blob/master/stable/postgresql/README.md)
postgresql:
  # postgresql.enabled -- Whether to deploy a PostgreSQL server to satisfy the applications database requirements. To use an external PostgreSQL set this to false and configure the externalPostgreSQL parameter.
  enabled: false
  image:
    # postgresql.image.tag -- Bitnami supported version close to the one specified in Redash [setup docker-compose.yml](https://github.com/getredash/setup/blob/master/data/docker-compose.yml)
    tag: "9.6.17-debian-10-r3"
  # postgresql.postgresqlUsername -- PostgreSQL username for redash user (when postgresql chart enabled)
  postgresqlUsername: redash
  # postgresql.postgresqlPassword -- REQUIRED: PostgreSQL password for redash user (when postgresql chart enabled)
  postgresqlPassword:
  # postgresql.postgresqlDatabase -- PostgreSQL database name (when postgresql chart enabled)
  postgresqlDatabase: redash
  service:
    type: ClusterIP
    port: 5432
  persistence:
    # postgresql.persistence.enabled -- Use a PVC to persist PostgreSQL data (when postgresql chart enabled)
    enabled: true
    # postgresql.persistence.storageClass - Storage Class for PostgreSQL backing PVC. If undefined (the default) or set to null, no storageClassName spec is set, choosing the default provisioner.  (gp2 on AWS, standard on GKE, AWS &amp; OpenStack).
    storageClass: ""
    # postgresql.persistence.accessMode -- Use PostgreSQL volume as ReadOnly or ReadWrite
    accessMode: ReadWriteOnce
    # postgresql.persistence.size -- PVC Storage Request size for PostgreSQL volume
    size: 10Gi
    # postgresql.persistence.existingClaim -- Provide an existing PostgreSQL PersistentVolumeClaim
    # existingClaim: ""

# externalRedis -- External Redis configuration. To use an external Redis instead of the automatically deployed redis chart: set redis.enabled to false then uncomment and configure the externalRedis connection URL (e.g. redis://user:pass@host:6379/database).
# externalRedis:
# externalRedisSecret -- Read external Redis configuration from a secret. This should point at a secret file with a single key which specifyies the connection string.
externalRedisSecret: 
  {}
  # name: redash-redis
  # key: connectionString

## Configuration values for the redis dependency. This Redis instance is used by default for caching and temporary storage [ref](https://github.com/kubernetes/charts/blob/master/stable/redis/README.md)
redis:
  # redis.enabled -- Whether to deploy a Redis server to satisfy the applications database requirements. To use an external Redis set this to false and configure the externalRedis parameter.
  enabled: true
  # redis.password -- If the password is not specified, a random password will be generated (when redis chart enabled)
  # password:
  # redis.databaseNumber -- Redis database number to use (when redis chart enabled)
  databaseNumber: 0
  master:
    # redis.master.port -- Redis master port to use (when redis chart enabled)
    port: 6379
  cluster:
    # redis.databaseNumber -- Enable Redis clustering (when redis chart enabled)
    enabled: false
</code></pre>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/23">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/23</link>
        <pubDate>Wed, 11 Aug 2021 21:40:53 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-23</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[jesse]]></dc:creator>
        <description><![CDATA[
            <p>Can you share your config files that show how Redash is configured?</p>
<p>The problem is that jobs are enqueuing in one place. But are being looked for in another place.</p>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/22">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/22</link>
        <pubDate>Wed, 11 Aug 2021 21:37:05 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-22</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[olx]]></dc:creator>
        <description><![CDATA[
            <p>…<br>
[2021-08-11 21:35:38,100<span class="chcklst-box fa fa-square-o fa-fw"></span>[PID:10<span class="chcklst-box fa fa-square-o fa-fw"></span>[INFO<span class="chcklst-box fa fa-square-o fa-fw"></span>[metrics<span class="chcklst-box fa fa-square-o fa-fw"></span> method=GET path=/ping endpoint=redash_ping status=200 content_type=text/html; charset=utf-8 content_length=5 duration=0.12 query_count=0 query_duration=0.00<br>
[2021-08-11 21:35:41,439<span class="chcklst-box fa fa-square-o fa-fw"></span>[PID:10<span class="chcklst-box fa fa-square-o fa-fw"></span>[ERROR<span class="chcklst-box fa fa-square-o fa-fw"></span>[redash.app<span class="chcklst-box fa fa-square-o fa-fw"></span> Exception on /api/jobs/f7cf776d-6104-4b00-aa11-5f6899c2fe9d [GET<span class="chcklst-box fa fa-square-o fa-fw"></span><br>
Traceback (most recent call last):<br>
File “/usr/local/lib/python3.7/site-packages/flask/app.py”, line 1949, in full_dispatch_request<br>
rv = self.dispatch_request()<br>
File “/usr/local/lib/python3.7/site-packages/flask/app.py”, line 1935, in dispatch_request<br>
return self.view_functions[rule.endpoint<a href="https://discuss.redash.io"></a><br>
File “/usr/local/lib/python3.7/site-packages/flask_restful/<strong>init</strong>.py”, line 458, in wrapper<br>
resp = resource(*args, **kwargs)<br>
File “/usr/local/lib/python3.7/site-packages/flask_login/utils.py”, line 261, in decorated_view<br>
return func(*args, **kwargs)<br>
File “/usr/local/lib/python3.7/site-packages/flask/views.py”, line 89, in view<br>
return self.dispatch_request(*args, **kwargs)<br>
File “/app/redash/handlers/base.py”, line 33, in dispatch_request<br>
return super(BaseResource, self).dispatch_request(*args, **kwargs)<br>
File “/usr/local/lib/python3.7/site-packages/flask_restful/<strong>init</strong>.py”, line 573, in dispatch_request<br>
resp = meth(*args, **kwargs)<br>
File “/app/redash/handlers/query_results.py”, line 462, in get<br>
job = Job.fetch(job_id)<br>
File “/usr/local/lib/python3.7/site-packages/rq/job.py”, line 299, in fetch<br>
job.refresh()<br>
File “/usr/local/lib/python3.7/site-packages/rq/job.py”, line 518, in refresh<br>
raise NoSuchJobError(‘No such job: {0}’.format(self.key))<br>
rq.exceptions.NoSuchJobError: No such job: b’rq:job:f7cf776d-6104-4b00-aa11-5f6899c2fe9d’<br>
[2021-08-11 21:35:41,439<span class="chcklst-box fa fa-square-o fa-fw"></span>[PID:10<span class="chcklst-box fa fa-square-o fa-fw"></span>[INFO<span class="chcklst-box fa fa-square-o fa-fw"></span>[metrics<span class="chcklst-box fa fa-square-o fa-fw"></span> method=GET path=/api/jobs/f7cf776d-6104-4b00-aa11-5f6899c2fe9d endpoint=job status=500 content_type=application/json content_length=36 duration=1.57 query_count=2 query_duration=447.52<br>
[2021-08-11 21:35:42,127<span class="chcklst-box fa fa-square-o fa-fw"></span>[PID:9<span class="chcklst-box fa fa-square-o fa-fw"></span>[INFO<span class="chcklst-box fa fa-square-o fa-fw"></span>[metrics<span class="chcklst-box fa fa-square-o fa-fw"></span> method=GET path=/favicon.ico endpoint=redash_index status=200 content_type=text/html; charset=utf-8 content_length=1502 duration=0.47 query_count=2 query_duration=447.43<br>
[2021-08-11 21:35:47,797<span class="chcklst-box fa fa-square-o fa-fw"></span>[PID:12<span class="chcklst-box fa fa-square-o fa-fw"></span>[INFO<span class="chcklst-box fa fa-square-o fa-fw"></span>[metrics<span class="chcklst-box fa fa-square-o fa-fw"></span> method=GET path=/ping endpoint=redash_ping status=200 content_type=text/html; charset=utf-8 content_length=5 duration=0.12 query_count=0 query_duration=0.00<br>
[2021-08-11 21:35:48,100<span class="chcklst-box fa fa-square-o fa-fw"></span>[PID:12<span class="chcklst-box fa fa-square-o fa-fw"></span>[INFO<span class="chcklst-box fa fa-square-o fa-fw"></span>[metrics<span class="chcklst-box fa fa-square-o fa-fw"></span> method=GET path=/ping endpoint=redash_ping status=200 content_type=text/html; charset=utf-8 content_length=5 duration=0.12 query_count=0 query_duration=0.00<br>
[2021-08-11 21:35:57,797<span class="chcklst-box fa fa-square-o fa-fw"></span>[PID:11<span class="chcklst-box fa fa-square-o fa-fw"></span>[INFO<span class="chcklst-box fa fa-square-o fa-fw"></span>[metrics<span class="chcklst-box fa fa-square-o fa-fw"></span> method=GET path=/ping endpoint=redash_ping status=200 content_type=text/html; charset=utf-8 content_length=5 duration=0.12 query_count=0 query_duration=0.00<br>
[2021-08-11 21:35:58,100<span class="chcklst-box fa fa-square-o fa-fw"></span>[PID:9<span class="chcklst-box fa fa-square-o fa-fw"></span>[INFO<span class="chcklst-box fa fa-square-o fa-fw"></span>[metrics<span class="chcklst-box fa fa-square-o fa-fw"></span> method=GET path=/ping endpoint=redash_ping status=200 content_type=text/html; charset=utf-8 content_length=5 duration=0.12 query_count=0 query_duration=0.00<br>
…</p>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/21">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/21</link>
        <pubDate>Wed, 11 Aug 2021 21:36:28 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-21</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[jesse]]></dc:creator>
        <description><![CDATA[
            <p>If you post about an internal server error please post the log message <img src="https://emoji.discourse-cdn.com/twitter/wink.png?v=10" title=":wink:" class="emoji" alt=":wink:"></p>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/20">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/20</link>
        <pubDate>Wed, 11 Aug 2021 21:34:57 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-20</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[olx]]></dc:creator>
        <description><![CDATA[
            <aside class="quote group-Team" data-username="jesse" data-post="18" data-topic="8915">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://sjc6.discourse-cdn.com/standard17/user_avatar/discuss.redash.io/jesse/40/3002_2.png" class="avatar"> jesse:</div>
<blockquote>
<p>api/jobs/f7cf776d-6104-4b00-aa11-5f6899c2fe9d</p>
</blockquote>
</aside>
<p><a href="http://localhost:5000/api/jobs/f7cf776d-6104-4b00-aa11-5f6899c2fe9d" class="onebox" target="_blank" rel="noopener nofollow ugc">http://localhost:5000/api/jobs/f7cf776d-6104-4b00-aa11-5f6899c2fe9d</a><br>
{“message”: “Internal Server Error”}</p>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/19">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/19</link>
        <pubDate>Wed, 11 Aug 2021 21:34:35 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-19</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[jesse]]></dc:creator>
        <description><![CDATA[
            <p>So the job is enqueued properly.</p>
<p>What happens when you check the job status?</p>
<p><code>GET api/jobs/f7cf776d-6104-4b00-aa11-5f6899c2fe9d</code></p>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/18">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/18</link>
        <pubDate>Wed, 11 Aug 2021 21:33:32 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-18</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[olx]]></dc:creator>
        <description><![CDATA[
            <aside class="quote group-Team quote-modified" data-username="jesse" data-post="16" data-topic="8915">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://sjc6.discourse-cdn.com/standard17/user_avatar/discuss.redash.io/jesse/40/3002_2.png" class="avatar"> jesse:</div>
<blockquote>
<p>/api/data_sources//schema?refresh</p>
</blockquote>
</aside>
<p><a href="http://localhost:5000/api/data_sources/58/schema?refresh" class="onebox" target="_blank" rel="noopener nofollow ugc">http://localhost:5000/api/data_sources/58/schema?refresh</a><br>
{“job”: {“id”: “f7cf776d-6104-4b00-aa11-5f6899c2fe9d”, “updated_at”: 0, “status”: 1, “error”: “”, “result”: null, “query_result_id”: null}}</p>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/17">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/17</link>
        <pubDate>Wed, 11 Aug 2021 21:31:53 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-17</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[jesse]]></dc:creator>
        <description><![CDATA[
            <p>Also curious what happens if you try to manually kick-off a schema refresh with the API?</p>
<p><code>GET /api/data_sources/&lt;data source id&gt;/schema?refresh</code></p>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/16">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/16</link>
        <pubDate>Wed, 11 Aug 2021 21:24:05 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-16</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[jesse]]></dc:creator>
        <description><![CDATA[
            <p>I wonder if your setup didn’t create a <code>schemas</code> queue?</p>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/15">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/15</link>
        <pubDate>Wed, 11 Aug 2021 21:20:11 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-15</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[olx]]></dc:creator>
        <description><![CDATA[
            <p>I switched my DEV setup to internal redis<br>
…<br>
Using Redis: redis://:******<span class="mention">@redash-dev-redis-master</span>:6379/0<br>
…</p>
<p>Didn’t help and still getting the same error</p>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/14">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/14</link>
        <pubDate>Wed, 11 Aug 2021 21:18:20 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-14</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[olx]]></dc:creator>
        <description><![CDATA[
            <p>I even removed and created one datasource from scratch - still the same error for the schema displaying.<br>
Dashboards and queries work fine</p>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/13">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/13</link>
        <pubDate>Wed, 11 Aug 2021 20:34:59 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-13</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[olx]]></dc:creator>
        <description><![CDATA[
            <p>I reduced redis nodes to only one node in cluster which is hosted by AWS Elasticache</p>
<p>Mode|Shards|Nodes|Node Type|<br>
Redis|1         |1 node|cache.t3.micro|</p>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/12">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/12</link>
        <pubDate>Wed, 11 Aug 2021 20:29:20 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-12</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[jesse]]></dc:creator>
        <description><![CDATA[
            <p>If you use multiple redis’s you will definitely have jobs get lost. I’m not a K8S user but your problem is almost certainly that Redash is looking for a specific job number in a queue that doesn’t contain it.</p>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/11">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/11</link>
        <pubDate>Wed, 11 Aug 2021 20:22:31 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-11</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[olx]]></dc:creator>
        <description><![CDATA[
            <p>Yes ,we had 2 redis nodes in cluster, SSL enabled.<br>
REDASH_REDIS_URL set as rediss://user:pass@redishost:6379/0 format<br>
and deployed with<br>
–set externalRedis=${REDASH_REDIS_URL}</p>
<p>I removed secondary node and left only primary node. Then rebooted this Redis node and Redash as well<br>
Still getting the same behaviour</p>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/10">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/10</link>
        <pubDate>Wed, 11 Aug 2021 20:19:48 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-10</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[jesse]]></dc:creator>
        <description><![CDATA[
            <p>How many actual redis instances are you running though? The issue it seems is that you have more than one.</p>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/9">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/9</link>
        <pubDate>Wed, 11 Aug 2021 20:01:28 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-9</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
      <item>
        <title>Schema browser is empty and error 500 on data sources page</title>
        <dc:creator><![CDATA[olx]]></dc:creator>
        <description><![CDATA[
            <p>also in redash-server logs</p>
<p>[2021-08-11 19:18:04,791<span class="chcklst-box fa fa-square-o fa-fw"></span>[PID:10<span class="chcklst-box fa fa-square-o fa-fw"></span>[ERROR<span class="chcklst-box fa fa-square-o fa-fw"></span>[redash.app<span class="chcklst-box fa fa-square-o fa-fw"></span> Exception on /api/jobs/b7e816d8-f112-4518-bd1a-492d6a72cf6c [GET<span class="chcklst-box fa fa-square-o fa-fw"></span><br>
Traceback (most recent call last):<br>
File “/usr/local/lib/python3.7/site-packages/flask/app.py”, line 1949, in full_dispatch_request<br>
rv = self.dispatch_request()<br>
File “/usr/local/lib/python3.7/site-packages/flask/app.py”, line 1935, in dispatch_request<br>
return self.view_functions[rule.endpoint<a href="https://discuss.redash.io"></a><br>
File “/usr/local/lib/python3.7/site-packages/flask_restful/<strong>init</strong>.py”, line 458, in wrapper<br>
resp = resource(*args, **kwargs)<br>
File “/usr/local/lib/python3.7/site-packages/flask_login/utils.py”, line 261, in decorated_view<br>
return func(*args, **kwargs)<br>
File “/usr/local/lib/python3.7/site-packages/flask/views.py”, line 89, in view<br>
return self.dispatch_request(*args, **kwargs)<br>
File “/app/redash/handlers/base.py”, line 33, in dispatch_request<br>
return super(BaseResource, self).dispatch_request(*args, **kwargs)<br>
File “/usr/local/lib/python3.7/site-packages/flask_restful/<strong>init</strong>.py”, line 573, in dispatch_request<br>
resp = meth(*args, **kwargs)<br>
File “/app/redash/handlers/query_results.py”, line 462, in get<br>
job = Job.fetch(job_id)<br>
File “/usr/local/lib/python3.7/site-packages/rq/job.py”, line 299, in fetch<br>
job.refresh()<br>
File “/usr/local/lib/python3.7/site-packages/rq/job.py”, line 518, in refresh<br>
raise NoSuchJobError(‘No such job: {0}’.format(self.key))<br>
rq.exceptions.NoSuchJobError: No such job: b’rq:job:b7e816d8-f112-4518-bd1a-492d6a72cf6c’<br>
[2021-08-11 19:18:04,792<span class="chcklst-box fa fa-square-o fa-fw"></span>[PID:10<span class="chcklst-box fa fa-square-o fa-fw"></span>[INFO<span class="chcklst-box fa fa-square-o fa-fw"></span>[metrics<span class="chcklst-box fa fa-square-o fa-fw"></span> method=GET path=/api/jobs/b7e816d8-f112-4518-bd1a-492d6a72cf6c endpoint=job status=500 content_type=application/json content_length=36 duration=2.02 query_count=2 query_duration=3.62</p>
          <p><a href="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/8">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915/8</link>
        <pubDate>Wed, 11 Aug 2021 19:19:44 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-8915-8</guid>
        <source url="https://discuss.redash.io/t/schema-browser-is-empty-and-error-500-on-data-sources-page/8915.rss">Schema browser is empty and error 500 on data sources page</source>
      </item>
  </channel>
</rss>

<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>Hosting redash not under root</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/hosting-redash-not-under-root/135">Hosting redash not under root</a>
</h1>
<div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/6.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Support</span>
</span>
</a>
<meta content="1" itemprop="position"/>
</span>
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/support-self-hosted/9.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Self Hosted Redash Support</span>
</span>
</a>
<meta content="2" itemprop="position"/>
</span>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content="Hosting redash not under root" itemprop="headline"/>
<meta content="Self Hosted Redash Support" itemprop="articleSection"/>
<meta content="" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/dncpax.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/dncpax_avatar.png" tabindex="-1" width="48"/><span itemprop="name">dncpax</span></a>
</span>
<link href="https://discuss.redash.io/t/hosting-redash-not-under-root/135" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2016-08-01T17:45:33Z" itemprop="datePublished">
                    August 1, 2016,  5:45pm
                  </time>
<meta content="2016-08-01T17:45:33Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>Is it possible to host redash under something else than root, for instance <a href="http://host/redash/" rel="nofollow noopener">http://host/redash/</a>   ?</p>
<p>Thanks.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="2" itemprop="userInteractionCount"/>
<span class="post-likes">2 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
<div class="crawler-linkback-list" itemscope="" itemtype="http://schema.org/ItemList">
<div itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a href="http://discuss.redash.io/t/set-url-base-path/4709/2" itemprop="url">Set URL base path</a>
<meta content="2" itemprop="position"/>
</div>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/arikfr.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/arikfr_avatar.png" tabindex="-1" width="48"/><span itemprop="name">arikfr</span></a>
</span>
<link href="https://discuss.redash.io/t/hosting-redash-not-under-root/135" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2016-08-01T18:45:41Z" itemprop="datePublished">
                    August 1, 2016,  6:45pm
                  </time>
<meta content="2016-08-01T18:45:41Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Not really. Why would you want to do that?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/dncpax.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/dncpax_avatar.png" tabindex="-1" width="48"/><span itemprop="name">dncpax</span></a>
</span>
<link href="https://discuss.redash.io/t/hosting-redash-not-under-root/135" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2016-08-01T19:35:29Z" itemprop="datePublished">
                    August 1, 2016,  7:35pm
                  </time>
<meta content="2016-08-01T19:35:29Z" itemprop="dateModified"/>
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p>So to be able to host several web apps on this host. I was thinking of having nginx in front of other apps, besides redash.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/dncpax.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/dncpax_avatar.png" tabindex="-1" width="48"/><span itemprop="name">dncpax</span></a>
</span>
<link href="https://discuss.redash.io/t/hosting-redash-not-under-root/135" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2016-08-03T10:14:47Z" itemprop="datePublished">
                    August 3, 2016, 10:14am
                  </time>
<meta content="2016-08-03T10:14:47Z" itemprop="dateModified"/>
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<p>So here’s a solution if anyone else needs…</p>
<p>After creating a new nginx location /redash and proxying to host:5000, redash will request root uri’s like /scripts, /images, /views. So the solution is to inspect content served like html files, and replace strings and add /redash.</p>
<p>nginx has a module called http_sub_module. It is not compiled by default so you’ll need to compile nginx from sources, which is very easy.</p>
<p>You have to use the appropriate options for ubuntu (or you linux flavour. It’s easy, just run nginx -V, and copy the output. Then you’ll just add “–with-http_sub_module”.</p>
<p>The compile process is straight forward and is documented online:</p>
<pre><code>./configure &lt;your os options&gt; --with-http_sub_module
make
make install
</code></pre>
<p>For some reason, /usr/sbin/nginx was not replaced by the new version I had to copy it from /usr/share/nginx/sbin/nginx.</p>
<p>Then just need to configure your new location:</p>
<pre><code>  location /redash/ {
    #rewrite xhr requests from plugins.xxxx.js (dashboards.html, /api/*)
    #also rewrites href-base attribute in a bunch of html files
    sub_filter '192.168.2.115' '192.168.2.115/redash';
    #rewrite several requests done to root (/images, /styles, /scripts)
    sub_filter '="/images/' '="/redash/images/';
    sub_filter '="/styles/' '="/redash/styles/';
    sub_filter '="/scripts/' '="/redash/scripts/';
    #rewrite /views xhr requests made from scripts.xxxxx.js (/views/app_header.html, /views/edit_dashboard.html, /views/index.html)
    sub_filter '"/views/' '"/redash/views/';
    #rewrite this particular image referenced in
    sub_filter '/images/redash_icon_small.png' '/redash/images/redash_icon_small.png';
    #search for all occurences of these strings
    sub_filter_once off;
    #inspect these types of content (* would inspect all content types)
    sub_filter_types application/javascript text/html text/css text/xml text/css text/javascript application/json text/plain;

    #proxy stuff from redash setup
    proxy_set_header Host $http_host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
    proxy_pass       http://rd_servers/;
  }
</code></pre>
<p>You can now access redash with <a href="http://host/redash" rel="nofollow noopener">http://host/redash</a>…</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
<div class="crawler-linkback-list" itemscope="" itemtype="http://schema.org/ItemList">
<div itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a href="http://discuss.redash.io/t/deploying-with-nginx-host-at-different-root/5844/2" itemprop="url">Deploying with nginx - host at different root</a>
<meta content="2" itemprop="position"/>
</div>
</div>
</div>
<div class="topic-body crawler-post" id="post_5" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/dncpax.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/dncpax_avatar.png" tabindex="-1" width="48"/><span itemprop="name">dncpax</span></a>
</span>
<link href="https://discuss.redash.io/t/hosting-redash-not-under-root/135" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2016-08-03T11:34:10Z" itemprop="datePublished">
                    August 3, 2016, 11:34am
                  </time>
<meta content="2016-08-03T11:34:10Z" itemprop="dateModified"/>
<span itemprop="position">5</span>
</span>
</div>
<div class="post" itemprop="text">
<p>missed login/logout 302 redirects… so you need an additional proxy_redirect rule:</p>
<pre><code>location /redash/ {
    #rewrite xhr requests from plugins.xxxx.js (dashboards.html, /api/*)
    #also rewrites href-base attribute in a bunch of html files
    sub_filter '192.168.2.115' '192.168.2.115/redash';
    #rewrite several requests done to root (/images, /styles, /scripts)
    sub_filter '="/images/' '="/redash/images/';
    sub_filter '="/styles/' '="/redash/styles/';
    sub_filter '="/scripts/' '="/redash/scripts/';
    #rewrite /views xhr requests made from scripts.xxxxx.js (/views/app_header.html, /views/edit_dashboard.html, /views/index.html)
    sub_filter '"/views/' '"/redash/views/';
    #rewrite this particular image referenced in
    sub_filter '/images/redash_icon_small.png' '/redash/images/redash_icon_small.png';
    #search for all occurences of these strings
    sub_filter_once off;
    #inspect these types of content (* would inspect all content types)
    sub_filter_types application/javascript text/html text/css text/xml text/css text/javascript application/json text/plain;

#change redirect headers to /login
proxy_redirect ~*\/login /redash/login?next=/redash/;

#proxy stuff from redash setup
proxy_set_header Host $http_host;
proxy_set_header X-Real-IP $remote_addr;
proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
proxy_set_header X-Forwarded-Proto $scheme;
proxy_pass       http://rd_servers/;
  }
</code></pre>
<p>.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_6" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/arikfr.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/arikfr_avatar.png" tabindex="-1" width="48"/><span itemprop="name">arikfr</span></a>
</span>
<link href="https://discuss.redash.io/t/hosting-redash-not-under-root/135" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2016-08-04T10:04:37Z" itemprop="datePublished">
                    August 4, 2016, 10:04am
                  </time>
<meta content="2016-08-04T10:04:37Z" itemprop="dateModified"/>
<span itemprop="position">6</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Thank you for the follow up and sharing the solution!</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_7" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/c.lazz.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/c.lazz_avatar.png" tabindex="-1" width="48"/><span itemprop="name">c.lazz</span></a>
</span>
<link href="https://discuss.redash.io/t/hosting-redash-not-under-root/135" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-01-10T15:13:08Z" itemprop="datePublished">
                    January 10, 2018,  3:13pm
                  </time>
<meta content="2018-01-10T15:13:08Z" itemprop="dateModified"/>
<span itemprop="position">7</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hello, i´m using redash.3.0.0.b3134<br/>
this solution works until the login… after a login the webserver give a white site… nothing else… any ideas?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_8" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/dncpax.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/dncpax_avatar.png" tabindex="-1" width="48"/><span itemprop="name">dncpax</span></a>
</span>
<link href="https://discuss.redash.io/t/hosting-redash-not-under-root/135" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-01-11T10:42:39Z" itemprop="datePublished">
                    January 11, 2018, 10:42am
                  </time>
<meta content="2018-01-11T10:42:39Z" itemprop="dateModified"/>
<span itemprop="position">8</span>
</span>
</div>
<div class="post" itemprop="text">
<p><a class="mention" href="/u/c.lazz">@c.lazz</a> hi there. I’ve since moved to iis as reverse proxy to redash:5000.</p>
<p>What url do you get on the “white site”?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_9" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/c.lazz.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/c.lazz_avatar.png" tabindex="-1" width="48"/><span itemprop="name">c.lazz</span></a>
</span>
<link href="https://discuss.redash.io/t/hosting-redash-not-under-root/135" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-01-11T10:56:17Z" itemprop="datePublished">
                    January 11, 2018, 10:56am
                  </time>
<meta content="2018-01-11T10:56:17Z" itemprop="dateModified"/>
<span itemprop="position">9</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hello, tanks for answering…</p>
<p><a class="onebox" target="_blank">https://$host/redash</a></p>
<p>html ng-app=“app” ng-strict-di&gt;<br/>
head lang=“en”&gt;<br/>
meta name=“viewport” content=“width=device-width, initial-scale=1.0”&gt;<br/>
meta charset=“UTF-8”&gt;<br/>
base href="/"&gt;<br/>
title&gt;Redash</p>
<pre><code>link rel="icon" type="image/png" sizes="32x32" href="/redash/images/favicon-32x32.png"&gt;
link rel="icon" type="image/png" sizes="96x96" href="/redash/images/favicon-96x96.png"&gt;
link rel="icon" type="image/png" sizes="16x16" href="/redash/images/favicon-16x16.png"&gt;
</code></pre>
<p>link href="/styles.681aa4ab9869dd2a6d16.css" rel=“stylesheet”&gt;</p>
<p>body&gt;<br/>
section&gt;<br/>
div ng-view&gt;<br/>
/section&gt;<br/>
script type=“text/javascript” src="/manifest.31fe86837ebc20ae3f84.js"&gt;/script&gt;<br/>
/html&gt;</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_10" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/dncpax.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/dncpax_avatar.png" tabindex="-1" width="48"/><span itemprop="name">dncpax</span></a>
</span>
<link href="https://discuss.redash.io/t/hosting-redash-not-under-root/135" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-01-11T12:49:20Z" itemprop="datePublished">
                    January 11, 2018, 12:49pm
                  </time>
<meta content="2018-01-11T12:49:20Z" itemprop="dateModified"/>
<span itemprop="position">10</span>
</span>
</div>
<div class="post" itemprop="text">
<p>ok, so you can see that your js and css are loading from root:</p>
<p>/styles/…css<br/>
/manifest.asdlkdsd.js</p>
<p>They must point to your redash folder:</p>
<p>/redash/styles/…css<br/>
/redash/manifest…js</p>
<p>your images are loading ok though.</p>
<p>I think it’s because since v2 folders like /styles/ and /views/ don’t exist anymore. So my sub_filters don’t work anymore.</p>
<p>In my iis rules I take care of the following in outbound rules. Now I replace eveery tag that can have a root url:</p>
<pre><code>&lt;outboundRules&gt;
	&lt;clear /&gt;
	&lt;rule name="redirectLogin" preCondition="IsRedirect2" stopProcessing="true"&gt;
		&lt;match serverVariable="RESPONSE_Location" pattern="(^https?://)(.*)/(login)(.*)" /&gt;
		&lt;conditions logicalGrouping="MatchAll" trackAllCaptures="true" /&gt;
		&lt;action type="Rewrite" value="https://{R:2}/redash/login?next=https%3A%2F%2F{R:2}%2Fredash" /&gt;
	&lt;/rule&gt;
	&lt;rule name="linksabsolutos.v2" preCondition="ResponseIsHtml1"&gt;
		&lt;match filterByTags="A, Base, Form, Img, Link, Script" pattern="^/(.*)" /&gt;
		&lt;conditions logicalGrouping="MatchAll" trackAllCaptures="true" /&gt;
		&lt;action type="Rewrite" value="/redash{R:0}" /&gt;
	&lt;/rule&gt;
	&lt;rule name="Rewrite image URLs in CSS response" preCondition="IsCSS"&gt;
		&lt;match filterByTags="None" pattern="url\(/fonts/" /&gt;
		&lt;conditions logicalGrouping="MatchAll" trackAllCaptures="true" /&gt;
		&lt;action type="Rewrite" value="url(/redash/fonts/" /&gt;
	&lt;/rule&gt;
	&lt;rule name="linksabsolutos" preCondition="ResponseIsHtml1"&gt;
		&lt;match filterByTags="A, Base, Form, Img, Link, Script" pattern="^http(s)?://192.168.2.25:5000/(.*)" /&gt;
		&lt;conditions logicalGrouping="MatchAll" trackAllCaptures="true" /&gt;
		&lt;action type="Rewrite" value="http{R:1}://fqdn/redash/{R:2}" /&gt;
	&lt;/rule&gt;
	&lt;rule name="scripts url absolutos" preCondition="" enabled="false" patternSyntax="ECMAScript"&gt;
		&lt;match filterByTags="Link, Script" pattern="^/(styles|scripts|views)/(.*)" /&gt;
		&lt;conditions logicalGrouping="MatchAll" trackAllCaptures="true" /&gt;
		&lt;action type="Rewrite" value="/redash/{R:1}/{R:2}" /&gt;
	&lt;/rule&gt;
	&lt;rule name="url em scripts" preCondition="scripts e json"&gt;
		&lt;match filterByTags="None" pattern="&amp;quot;/(images|styles|scripts|views|api)/([^&amp;quot;]*)" /&gt;
		&lt;conditions logicalGrouping="MatchAll" trackAllCaptures="true" /&gt;
		&lt;action type="Rewrite" value="&amp;quot;/redash/{R:1}/{R:2}" /&gt;
	&lt;/rule&gt;
	
	&lt;preConditions&gt;
		&lt;preCondition name="ResponseIsHtml1"&gt;
			&lt;add input="{RESPONSE_CONTENT_TYPE}" pattern="^text/html" /&gt;
		&lt;/preCondition&gt;
		&lt;preCondition name="scripts e json" logicalGrouping="MatchAny"&gt;
			&lt;add input="{RESPONSE_CONTENT_TYPE}" pattern="(application|text)/(javascript|json|x-json|x-javascript|html)" /&gt;
		&lt;/preCondition&gt;
		&lt;preCondition name="IsCSS"&gt;
			&lt;add input="{RESPONSE_CONTENT_TYPE}" pattern="text/css" /&gt;
		&lt;/preCondition&gt;
		&lt;preCondition name="IsRedirection"&gt;
			&lt;add input="{RESPONSE_STATUS}" pattern="3\d\d" /&gt;
		&lt;/preCondition&gt;
		&lt;preCondition name="IsRedirect2"&gt;
			&lt;add input="{RESPONSE_STATUS}" pattern="3[0-9][0-9]" /&gt;
		&lt;/preCondition&gt;
	&lt;/preConditions&gt;
&lt;/outboundRules&gt;</code></pre>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_11" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/c.lazz.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/c.lazz_avatar.png" tabindex="-1" width="48"/><span itemprop="name">c.lazz</span></a>
</span>
<link href="https://discuss.redash.io/t/hosting-redash-not-under-root/135" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-01-29T12:32:39Z" itemprop="datePublished">
                    January 29, 2018, 12:32pm
                  </time>
<meta content="2018-01-29T12:51:41Z" itemprop="dateModified"/>
<span itemprop="position">11</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Ok i got it…</p>
<p>here´ s the nginx config…</p>
<pre><code>location /redash/ {
   sub_filter ="/ ="/redash/;
   sub_filter ="/manifest. ="/redash/manifest.;
   sub_filter ="/vendor. ="/redash/vendor.;
   sub_filter ="/app. ="/redash/app.;
   sub_filter ="/styles. ="/redash/sytles.;
   sub_filter ="/styles ="/redash/sytles;
   sub_filter ="/scripts. ="/redash/scripts.;
   sub_filter ="/images ="/redash/images;
   sub_filter ="/fonts ="/redash/fonts;
   sub_filter ="/views ="/redash/views;
   sub_filter ="/js ="/redash/js;
   sub_filter ="/forgot ="/redash/forgot;

   sub_filter ="/images/redash_icon_small.png  ="/redash/images/redash_icon_small.png;
   sub_filter_once off;
   sub_filter_types application/javascript text/html text/css text/xml text/css text/javascript application/json text/plain text/javascript";

    proxy_redirect ~*\/login /redash/login?next=/redash/;
    proxy_set_header Host $http_host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
    proxy_pass       http://redash_servers/;
}
</code></pre>
<p>It seems everything is working except the Icons for datasource, settings and search<br/>
I cannot find the location for this to remap</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="2" itemprop="userInteractionCount"/>
</div>
<div class="crawler-linkback-list" itemscope="" itemtype="http://schema.org/ItemList">
<div itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a href="http://discuss.redash.io/t/set-url-base-path/4709/2" itemprop="url">Set URL base path</a>
<meta content="1" itemprop="position"/>
</div>
</div>
</div>
<div class="topic-body crawler-post" id="post_12" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/c.lazz.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/c.lazz_avatar.png" tabindex="-1" width="48"/><span itemprop="name">c.lazz</span></a>
</span>
<link href="https://discuss.redash.io/t/hosting-redash-not-under-root/135" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-01-31T16:59:37Z" itemprop="datePublished">
                    January 31, 2018,  4:59pm
                  </time>
<meta content="2018-01-31T16:59:37Z" itemprop="dateModified"/>
<span itemprop="position">12</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Some links are broken… whet a new user enter his password… the next screen is / toplevel…<br/>
When the user is logged in, the symbols for settings and datasources and other are missing<br/>
The shortcut of the Icon from redash in the upper left side shows to toplevel ;-(</p>
<p>Anyone other use redash with nginx and host not under root / toplevel and can help?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_13" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/dncpax.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/dncpax_avatar.png" tabindex="-1" width="48"/><span itemprop="name">dncpax</span></a>
</span>
<link href="https://discuss.redash.io/t/hosting-redash-not-under-root/135" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-04-03T11:43:31Z" itemprop="datePublished">
                    April 3, 2018, 11:43am
                  </time>
<meta content="2018-04-03T11:43:31Z" itemprop="dateModified"/>
<span itemprop="position">13</span>
</span>
</div>
<div class="post" itemprop="text">
<p>So not to drop this going further. I really think this is a necessary capability.</p>
<p>I have everything working on v3 but using IIS as can be seen above.</p>
<p>Now on v4 redash added a new way of making life harder for us who need to proxy redash… on app.js we now have a calculated url:</p>
<blockquote>
<p>e.exports = n.p + “images/redash_icon_small.png”</p>
</blockquote>
<p>Why??? This evaluates to an absolute url!!! Geez…</p>
<p>Anyway, nothing I can think of to work around this… everything works <em>except</em> the small redash icon that appears as broken to the users…</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_15" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/fcordova.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/fcordova_avatar.png" tabindex="-1" width="48"/><span itemprop="name">fcordova</span></a>
</span>
<link href="https://discuss.redash.io/t/hosting-redash-not-under-root/135" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-05-08T17:17:44Z" itemprop="datePublished">
                    May 8, 2018,  5:17pm
                  </time>
<meta content="2018-05-08T17:17:44Z" itemprop="dateModified"/>
<span itemprop="position">15</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hi Guys…</p>
<p>I have the exact same need here… <img alt=":frowning:" class="emoji" src="assets/frowning.png" title=":frowning:"/><br/>
Does the configuration provided by <a class="mention" href="/u/c.lazz">@c.lazz</a> work on v4 or should it be adjusted somehow ?</p>
<p>I may have not configured it properly but any request I send to /redash/* return the login redirect (including the login page).</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_16" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/imbroglioj.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/imbroglioj_avatar.png" tabindex="-1" width="48"/><span itemprop="name">imbroglioj</span></a>
</span>
<link href="https://discuss.redash.io/t/hosting-redash-not-under-root/135" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-05-11T22:16:53Z" itemprop="datePublished">
                    May 11, 2018, 10:16pm
                  </time>
<meta content="2018-05-11T22:16:53Z" itemprop="dateModified"/>
<span itemprop="position">16</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Same need here.<br/>
Typical example is testing new versions without setting up a second machine. I spent several hours fiddling with get_login_url to get a proper login response with no luck until I found this forum item. I understand it may be a problem with code interaction with the underlying Flask platform.<br/>
The temporary solution I have used that will work with version 4 is to just create another “server” section in the nginx conf file and serve the second redash at another port. It’s not an elegant solution from a presentation point of view.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_17" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/Rex.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/Rex_avatar.png" tabindex="-1" width="48"/><span itemprop="name">Rex</span></a>
</span>
<link href="https://discuss.redash.io/t/hosting-redash-not-under-root/135" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-05-30T06:58:33Z" itemprop="datePublished">
                    May 30, 2018,  6:58am
                  </time>
<meta content="2018-05-30T06:58:33Z" itemprop="dateModified"/>
<span itemprop="position">17</span>
</span>
</div>
<div class="post" itemprop="text">
<p>In my situation, we use nginx + docker swarm.<br/>
The solution will be like create a service, list url/redash and route all the links from url/redash to redash url:port.<br/>
Current redash version: Redash 3.0.0+b3147<br/>
TS code:</p>
<pre><code>import { NextFunction, Request, Response, Router } from 'express';
import * as _ from 'lodash';
import * as request from 'request';
import { ExpressWrapper } from '../common-tools-ts/utils-api/express-wrapper';

export const getRouter = ExpressWrapper.createRouter();

getRouter.get('*', (req: Request, res: Response, next: NextFunction) =&gt; {
  let url = req.url.replace('/redash/', '/');
  url = url.replace('/redash', '/');

  const options = {
    headers: req.headers,
    url: 'http://192.168.56.111:5100' + url
  };

  request.get(options, (err, response) =&gt; {
    if (response.headers['content-type'] === 'image/png') {
      //
    } else if (response.headers['content-type'] === 'application/javascript') {
      if (url.includes('app')) {
        response.body = response.body.replace('a.get("/api/config")', 'a.get("/redash/api/config")');
      }
    } else {
      response.body = response.body.replace(/src=\"\//g, 'src="/redash/');
      response.body = response.body.replace(/href=\"\//g, 'href="/redash/');
    }

    if (!err &amp;&amp; response) {
      res
        .header(response.headers)
        .status(response.statusCode)
        .send(response.body);
      next();
    } else {
      next();
    }
  });
});</code></pre>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_18" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/gabrielfior.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/gabrielfior_avatar.png" tabindex="-1" width="48"/><span itemprop="name">gabrielfior</span></a>
</span>
<link href="https://discuss.redash.io/t/hosting-redash-not-under-root/135" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-04-03T21:12:48Z" itemprop="datePublished">
                    April 3, 2019,  9:12pm
                  </time>
<meta content="2019-04-03T21:12:48Z" itemprop="dateModified"/>
<span itemprop="position">18</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hi, is there any news in this topic?<br/>
I am also having trouble hosting redash under a different URL, say /redash.</p>
<p>Thanks,<br/>
Gabriel</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="2" itemprop="userInteractionCount"/>
<span class="post-likes">2 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_19" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/YakobovLior.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/YakobovLior_avatar.png" tabindex="-1" width="48"/><span itemprop="name">YakobovLior</span></a>
</span>
<link href="https://discuss.redash.io/t/hosting-redash-not-under-root/135" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-05-05T09:02:58Z" itemprop="datePublished">
                    May 5, 2019,  9:02am
                  </time>
<meta content="2019-05-05T09:02:58Z" itemprop="dateModified"/>
<span itemprop="position">19</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hello,<br/>
is there any progression on this request? maybe some supported configuration from redash rather than manual modifications to the NGINX configurations? this solution is problematic as it can left undone after software upgrades (since it’s not part of the default configurations).</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_20" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/YakobovLior.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/YakobovLior_avatar.png" tabindex="-1" width="48"/><span itemprop="name">YakobovLior</span></a>
</span>
<link href="https://discuss.redash.io/t/hosting-redash-not-under-root/135" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-05-13T13:59:59Z" itemprop="datePublished">
                    May 13, 2019,  1:59pm
                  </time>
<meta content="2019-05-13T13:59:59Z" itemprop="dateModified"/>
<span itemprop="position">20</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Any updates on this subject?<br/>
It will be very helpful to include a configuration option of serving redash under a relative path, rather than manual updates on NGINX container which can be vanished during upgrades.</p>
<p>Thanks</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="2" itemprop="userInteractionCount"/>
<span class="post-likes">2 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_21" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/sharad.agarwal.indb.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/sharad.agarwal.indb_avatar.png" tabindex="-1" width="48"/><span itemprop="name">sharad.agarwal.indb</span></a>
</span>
<link href="https://discuss.redash.io/t/hosting-redash-not-under-root/135" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-11-11T07:50:26Z" itemprop="datePublished">
                    November 11, 2019,  7:50am
                  </time>
<meta content="2019-11-11T07:50:26Z" itemprop="dateModified"/>
<span itemprop="position">21</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hi<br/>
i have used the same configuration but after login it shows the blank page.<br/>
it’s redirecting me on <a href="http://mydomain/redash/#/redash/redash/" rel="nofollow noopener">http://mydomain/redash/#/redash/redash/</a></p>
<p>my used configuration</p>
<p>location /redash/ {<br/>
sub_filter ="/ ="/redash/;<br/>
sub_filter ="/manifest. ="/redash/manifest.;<br/>
sub_filter ="/static. ="/redash/static.;<br/>
sub_filter ="/vendor. ="/redash/vendor.;<br/>
sub_filter ="/app. ="/redash/app.;<br/>
sub_filter ="/styles. ="/redash/sytles.;<br/>
sub_filter ="/styles ="/redash/sytles;<br/>
sub_filter ="/scripts. ="/redash/scripts.;<br/>
sub_filter ="/images ="/redash/images;<br/>
sub_filter ="/fonts ="/redash/fonts;<br/>
sub_filter ="/views ="/redash/views;<br/>
sub_filter ="/js ="/redash/js;<br/>
sub_filter ="/forgot ="/redash/forgot;</p>
<p>sub_filter ="/images/redash_icon_small.png  ="/redash/images/redash_icon_small.png;<br/>
sub_filter_once off;<br/>
sub_filter_types application/javascript text/html text/css text/xml text/css text/javascript application/json text/plain text/javascript";</p>
<pre><code>proxy_redirect ~*\/login /redash/login?next=/redash/;
proxy_set_header Host $http_host;
proxy_set_header X-Real-IP $remote_addr;
proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
proxy_set_header X-Forwarded-Proto $scheme;
proxy_pass       http://localhost:5000/;
</code></pre>
<p>}</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
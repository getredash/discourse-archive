<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>My hard disk space was suddenly full ( How redash is working )!</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/my-hard-disk-space-was-suddenly-full-how-redash-is-working/6344">My hard disk space was suddenly full ( How redash is working )!</a>
</h1>
<div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/6.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Support</span>
</span>
</a>
<meta content="1" itemprop="position"/>
</span>
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/support-self-hosted/9.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Self Hosted Redash Support</span>
</span>
</a>
<meta content="2" itemprop="position"/>
</span>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content="My hard disk space was suddenly full ( How redash is working )!" itemprop="headline"/>
<meta content="Self Hosted Redash Support" itemprop="articleSection"/>
<meta content="" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/saleh.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/saleh_avatar.png" tabindex="-1" width="48"/><span itemprop="name">saleh</span></a>
</span>
<link href="https://discuss.redash.io/t/my-hard-disk-space-was-suddenly-full-how-redash-is-working/6344" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-05-29T09:08:26Z" itemprop="datePublished">
                    May 29, 2020,  9:08am
                  </time>
<meta content="2020-06-15T14:00:11Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>I faced a production issue while using redash<br/>
it could be that I didn’t know all the information about how redash Is working<br/>
also I didn’t find a clear documentation for the tool</p>
<ul>
<li>Why redash is saving the data in Postgres data base if redash is just cashing the data</li>
<li>Why can’t I filter big amount of data in redash</li>
</ul>
<p>Thanks</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/saleh.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/saleh_avatar.png" tabindex="-1" width="48"/><span itemprop="name">saleh</span></a>
</span>
<link href="https://discuss.redash.io/t/my-hard-disk-space-was-suddenly-full-how-redash-is-working/6344" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-04T10:23:06Z" itemprop="datePublished">
                    June 4, 2020, 10:23am
                  </time>
<meta content="2020-06-04T10:23:06Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I am still waiting the answer <img alt=":frowning:" class="emoji" src="assets/frowning.png" title=":frowning:"/></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/mali.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/mali_avatar.png" tabindex="-1" width="48"/><span itemprop="name">mali</span></a>
</span>
<link href="https://discuss.redash.io/t/my-hard-disk-space-was-suddenly-full-how-redash-is-working/6344" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-04T11:48:54Z" itemprop="datePublished">
                    June 4, 2020, 11:48am
                  </time>
<meta content="2020-06-04T11:48:54Z" itemprop="dateModified"/>
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Can you provide some more information.</p>
<p>Redash stores query result but you can set after much much time data should be cleared.</p>
<p>On filter part, provide more details</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="https://discuss.redash.io/t/my-hard-disk-space-was-suddenly-full-how-redash-is-working/6344" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-04T13:39:48Z" itemprop="datePublished">
                    June 4, 2020,  1:39pm
                  </time>
<meta content="2020-06-04T13:39:48Z" itemprop="dateModified"/>
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<aside class="quote no-group" data-post="1" data-topic="6344" data-username="saleh">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="https://avatars.discourse-cdn.com/v4/letter/s/e79b87/40.png" width="20"/> saleh:</div>
<blockquote>
<p>Why redash is saving the data in Postgres data base if redash is just cashing the data</p>
</blockquote>
</aside>
<p>Redash caches your latest query result for each query. If you pull large datasets into Redash then its internal database will grow.</p>
<aside class="quote no-group" data-post="1" data-topic="6344" data-username="saleh">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="https://avatars.discourse-cdn.com/v4/letter/s/e79b87/40.png" width="20"/> saleh:</div>
<blockquote>
<p>Why can’t I filter big amount of data in redash</p>
</blockquote>
</aside>
<p>Redash is built to plot aggregated data sets. That means your query results should be ~20mb for optimal performance. As your query results grow the performance will deteriorate in two ways:</p>
<ol>
<li>Your query runners may not have sufficient resources to hold the query result in RAM before it is cached in the internal database.</li>
<li>Your browser can choke if you bring many megabytes of data at once.</li>
</ol>
<p>It’s not clear why your hard disk is full. Did you research what is taking the space?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
<div class="crawler-linkback-list" itemscope="" itemtype="http://schema.org/ItemList">
<div itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a href="http://discuss.redash.io/t/redash-crashes-when-i-want-to-do-vizualisation-on-a-dataset-of-21-804-rows/10818/4" itemprop="url">Redash crashes when i want to do vizualisation on a dataset of 21,804 rows</a>
<meta content="1" itemprop="position"/>
</div>
</div>
</div>
<div class="topic-body crawler-post" id="post_6" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/saleh.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/saleh_avatar.png" tabindex="-1" width="48"/><span itemprop="name">saleh</span></a>
</span>
<link href="https://discuss.redash.io/t/my-hard-disk-space-was-suddenly-full-how-redash-is-working/6344" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-09T14:31:55Z" itemprop="datePublished">
                    June 9, 2020,  2:31pm
                  </time>
<meta content="2020-06-09T14:31:55Z" itemprop="dateModified"/>
<span itemprop="position">6</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Yes our resources were not enough to run the queries<br/>
and that’s why we increase both the Memory and the hard disk</p>
<p>Is there any clear documentation for how redash is working but in more details ?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_7" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/saleh.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/saleh_avatar.png" tabindex="-1" width="48"/><span itemprop="name">saleh</span></a>
</span>
<link href="https://discuss.redash.io/t/my-hard-disk-space-was-suddenly-full-how-redash-is-working/6344" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-09T14:35:30Z" itemprop="datePublished">
                    June 9, 2020,  2:35pm
                  </time>
<meta content="2020-06-09T14:35:30Z" itemprop="dateModified"/>
<span itemprop="position">7</span>
</span>
</div>
<div class="post" itemprop="text">
<p>it was not clear for me when redash is storing the data itself not the query on the hard disk<br/>
as for me the hard disk was locked suddenly because of a huge query</p>
<p>on the filter part in redash documentation it’s mentioned that filters should be used for smaller data sets only</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_8" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="https://discuss.redash.io/t/my-hard-disk-space-was-suddenly-full-how-redash-is-working/6344" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-09T21:52:57Z" itemprop="datePublished">
                    June 9, 2020,  9:52pm
                  </time>
<meta content="2020-06-09T21:52:57Z" itemprop="dateModified"/>
<span itemprop="position">8</span>
</span>
</div>
<div class="post" itemprop="text">
<aside class="quote no-group" data-post="6" data-topic="6344" data-username="saleh">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="https://avatars.discourse-cdn.com/v4/letter/s/e79b87/40.png" width="20"/> saleh:</div>
<blockquote>
<p>Is there any clear documentation for how redash is working but in more details ?</p>
</blockquote>
</aside>
<p>What specifically do you want to know apart from what has already been written?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_9" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="https://discuss.redash.io/t/my-hard-disk-space-was-suddenly-full-how-redash-is-working/6344" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-09T21:56:48Z" itemprop="datePublished">
                    June 9, 2020,  9:56pm
                  </time>
<meta content="2020-06-09T21:56:48Z" itemprop="dateModified"/>
<span itemprop="position">9</span>
</span>
</div>
<div class="post" itemprop="text">
<aside class="quote no-group" data-post="7" data-topic="6344" data-username="saleh">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="https://avatars.discourse-cdn.com/v4/letter/s/e79b87/40.png" width="20"/> saleh:</div>
<blockquote>
<p>on the filter part in redash documentation</p>
</blockquote>
</aside>
<p>Seems like there’s a misunderstanding in this thread about what “filtering” means.</p>
<ul>
<li>Filtering in general is any SQL statement preceded by a WHERE clause. These are <em>required</em> when working with large data sets in Redash. You’ll crash the app if you <code>select * from</code> a large data set without any filtering applied.</li>
<li>Query Filters are a feature of Redash that require you to alias your columns with <code>::filter</code>. If you have a query that returns 3k results, a Query Filter will work fine. If you load a large data set (bigger than ~20mb) that includes a Query Filter then you will hit performance limits.</li>
</ul>
<p>Try running a query that includes <code>LIMIT 1000</code> at the end. If you still have performance issues then we have something to investigate. But if you are trying to load 100k rows at once then we fully would expect this to cripple your instance.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="2" itemprop="userInteractionCount"/>
<span class="post-likes">2 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_10" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/saleh.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/saleh_avatar.png" tabindex="-1" width="48"/><span itemprop="name">saleh</span></a>
</span>
<link href="https://discuss.redash.io/t/my-hard-disk-space-was-suddenly-full-how-redash-is-working/6344" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-11T07:45:07Z" itemprop="datePublished">
                    June 11, 2020,  7:45am
                  </time>
<meta content="2020-06-11T07:45:07Z" itemprop="dateModified"/>
<span itemprop="position">10</span>
</span>
</div>
<div class="post" itemprop="text">
<p>for example I didn’t know when redash is storing the data in the db<br/>
for how long does redash cache the data ?</p>
<p>These Env variables are not clear for me<br/>
and I am trying to find a documentation to understand how and when to use it</p>
<p>REDASH_CELERY_TASK_RESULT_EXPIRES	<br/>
REDASH_QUERY_RESULTS_CLEANUP_ENABLED		<br/>
REDASH_QUERY_RESULTS_CLEANUP_COUNT		<br/>
REDASH_QUERY_RESULTS_CLEANUP_MAX_AGE</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_11" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/zhongshaoming1.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/zhongshaoming1_avatar.png" tabindex="-1" width="48"/><span itemprop="name">zhongshaoming1</span></a>
</span>
<link href="https://discuss.redash.io/t/my-hard-disk-space-was-suddenly-full-how-redash-is-working/6344" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-15T04:49:54Z" itemprop="datePublished">
                    June 15, 2020,  4:49am
                  </time>
<meta content="2020-06-15T04:49:54Z" itemprop="dateModified"/>
<span itemprop="position">11</span>
</span>
</div>
<div class="post" itemprop="text">
<p>It’s hard for someone else to help you out without providing redash with a way to install it. In my experience, when disk space is full, there are two situations where the database log file is too large and the query_results table for redash’s PG database is too large. Let me guess the probability of the second one is higher. In this case, it is usually necessary to enlarge the partition where the pg database’s disk files are located. Because the redash database’s table design has a foreign key association, you cannot directly delete the query_results table’s data, which may result in a deletion if you force a deletion</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_12" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/saleh.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/saleh_avatar.png" tabindex="-1" width="48"/><span itemprop="name">saleh</span></a>
</span>
<link href="https://discuss.redash.io/t/my-hard-disk-space-was-suddenly-full-how-redash-is-working/6344" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-15T07:01:29Z" itemprop="datePublished">
                    June 15, 2020,  7:01am
                  </time>
<meta content="2020-06-15T07:01:29Z" itemprop="dateModified"/>
<span itemprop="position">12</span>
</span>
</div>
<div class="post" itemprop="text">
<p>waiting your answer</p>
<p>And thank you for your support <img alt=":slight_smile:" class="emoji" src="assets/slight_smile.png" title=":slight_smile:"/></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_13" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/saleh.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/saleh_avatar.png" tabindex="-1" width="48"/><span itemprop="name">saleh</span></a>
</span>
<link href="https://discuss.redash.io/t/my-hard-disk-space-was-suddenly-full-how-redash-is-working/6344" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-15T07:03:11Z" itemprop="datePublished">
                    June 15, 2020,  7:03am
                  </time>
<meta content="2020-06-15T07:03:11Z" itemprop="dateModified"/>
<span itemprop="position">13</span>
</span>
</div>
<div class="post" itemprop="text">
<p>That’s right<br/>
this is what Amazon suggested me to do</p>
<p>so I have extended the hard disk partition space and also the memory<br/>
but It was an issue in a production and we couldn’t access the server for some time<br/>
till knowing the problem</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_14" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="https://discuss.redash.io/t/my-hard-disk-space-was-suddenly-full-how-redash-is-working/6344" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-15T13:48:31Z" itemprop="datePublished">
                    June 15, 2020,  1:48pm
                  </time>
<meta content="2020-06-15T13:48:31Z" itemprop="dateModified"/>
<span itemprop="position">14</span>
</span>
</div>
<div class="post" itemprop="text">
<p>What answer are you waiting on? I don’t show any outstanding questions here <img alt=":smiley:" class="emoji" src="assets/smiley.png" title=":smiley:"/></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_17" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/saleh.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/saleh_avatar.png" tabindex="-1" width="48"/><span itemprop="name">saleh</span></a>
</span>
<link href="https://discuss.redash.io/t/my-hard-disk-space-was-suddenly-full-how-redash-is-working/6344" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-18T08:52:46Z" itemprop="datePublished">
                    June 18, 2020,  8:52am
                  </time>
<meta content="2020-06-18T08:52:46Z" itemprop="dateModified"/>
<span itemprop="position">17</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Can you see my questions now ?<br/>
as I wrote them two times</p>
<p>1- for how long time does redash cache the data ?<br/>
And how can I change that</p>
<p>2-<br/>
These evironment variables are not clear for me<br/>
and I am trying to find a documentation to understand the usage and the definition of them</p>
<p>REDASH_CELERY_TASK_RESULT_EXPIRES<br/>
REDASH_QUERY_RESULTS_CLEANUP_ENABLED<br/>
REDASH_QUERY_RESULTS_CLEANUP_COUNT<br/>
REDASH_QUERY_RESULTS_CLEANUP_MAX_AGE</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_19" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/griffinator76.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/griffinator76_avatar.png" tabindex="-1" width="48"/><span itemprop="name">griffinator76</span></a>
</span>
<link href="https://discuss.redash.io/t/my-hard-disk-space-was-suddenly-full-how-redash-is-working/6344" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-22T04:58:02Z" itemprop="datePublished">
                    June 22, 2020,  4:58am
                  </time>
<meta content="2020-06-22T04:58:02Z" itemprop="dateModified"/>
<span itemprop="position">19</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Have you looked at the documentation e.g. <a href="https://redash.io/help/open-source/admin-guide/env-vars-settings" rel="nofollow noopener">https://redash.io/help/open-source/admin-guide/env-vars-settings</a><br/>
This gives you the default settings for most env vars and some descriptions.</p>
<p>REDASH_CELERY_TASK_RESULT_EXPIRES is described as “How many seconds to keep Celery task results in cache (in seconds)” but note that from Redash 9 Celery has been replaced with RQ so there will probably be a different way to manage this in that version.</p>
<p>REDASH_QUERY_RESULTS_CLEANUP_ENABLED<br/>
REDASH_QUERY_RESULTS_CLEANUP_COUNT<br/>
REDASH_QUERY_RESULTS_CLEANUP_MAX_AGE<br/>
I think these are fairly self explanatory, the first one enables cleanup of query results, COUNT sets the max number of results to retain, MAX_AGE sets the retention period before they are aged out - the default setting is 7 so this is probably 7 days.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_20" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/saleh.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/saleh_avatar.png" tabindex="-1" width="48"/><span itemprop="name">saleh</span></a>
</span>
<link href="https://discuss.redash.io/t/my-hard-disk-space-was-suddenly-full-how-redash-is-working/6344" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-22T08:01:34Z" itemprop="datePublished">
                    June 22, 2020,  8:01am
                  </time>
<meta content="2020-06-22T08:01:34Z" itemprop="dateModified"/>
<span itemprop="position">20</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Thank you for your comment</p>
<p>yes I used this link to get actually these variables</p>
<ul>
<li>I faced a problem in a production that’s why I asking about the exact measure and meaning for each variable</li>
</ul>
<p>REDASH_QUERY_RESULTS_CLEANUP_MAX_AGE<br/>
is it days or queries ?</p>
<p>REDASH_QUERY_RESULTS_CLEANUP_COUNT<br/>
is it results or memory space ?</p>
<p>I want to make sure about the meaning and the measurments of each one<br/>
and the default time to keep the data into memory</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_21" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/griffinator76.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/griffinator76_avatar.png" tabindex="-1" width="48"/><span itemprop="name">griffinator76</span></a>
</span>
<link href="https://discuss.redash.io/t/my-hard-disk-space-was-suddenly-full-how-redash-is-working/6344" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-22T08:18:40Z" itemprop="datePublished">
                    June 22, 2020,  8:18am
                  </time>
<meta content="2020-06-22T08:18:40Z" itemprop="dateModified"/>
<span itemprop="position">21</span>
</span>
</div>
<div class="post" itemprop="text">
<p>For that level of detail I’d suggest having a scan of the Redash source code, which is <a href="https://github.com/getredash/redash" rel="nofollow noopener">publicly available on Github</a>.</p>
<p>For example searching for REDASH_QUERY_RESULTS_CLEANUP_MAX_AGE leads me to <a href="https://github.com/getredash/redash/blob/e23361184094c403b0e6f2ff4b868e08ad246721/redash/tasks/queries/maintenance.py" rel="nofollow noopener">this page</a>, which provides a bit more info about how these values are used in the <em>cleanup_query_results</em> function.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="2" itemprop="userInteractionCount"/>
<span class="post-likes">2 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
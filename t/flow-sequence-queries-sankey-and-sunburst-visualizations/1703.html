<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>Flow/Sequence Queries - Sankey and Sunburst Visualizations</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/flow-sequence-queries-sankey-and-sunburst-visualizations/1703">Flow/Sequence Queries - Sankey and Sunburst Visualizations</a>
</h1>
<div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
<meta content="1" itemprop="position"/>
</span>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content="Flow/Sequence Queries - Sankey and Sunburst Visualizations" itemprop="headline"/>
<meta content="Tips, Tricks &amp; Query Examples" itemprop="articleSection"/>
<meta content="" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/arikfr.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/arikfr_avatar.png" tabindex="-1" width="48"/><span itemprop="name">arikfr</span></a>
</span>
<link href="https://discuss.redash.io/t/flow-sequence-queries-sankey-and-sunburst-visualizations/1703" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-03-21T14:11:26Z" itemprop="datePublished">
                    March 21, 2018,  2:11pm
                  </time>
<meta content="2018-03-21T14:11:26Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>Sankey and Sunburst visualizations are awesome for understanding behavioral flows and sequences.</p>
<p>To create such a chain of events you’ll need to define the actions/event you want to examine, define how many events are in a sequence (max number of events) and assign chronological session numbers per user.</p>
<p>Here is a step by step example using the <code>WITH</code> clause in PostgreSQL.</p>
<blockquote>
<p>We used the <code>WITH</code> clause in this example - <code>WITH</code> clauses allow you to name a sub-query block, this way your query is modular (and sometimes runs faster), it can later be referred in the main query instead of making a large main query with many aliases, <code>JOIN</code>s or other complexities. You can have multiple sub-queries, just be sure to have a comma between them.</p>
</blockquote>
<ol>
<li>
<p>Define the actions or events you want to examine - in this case we took all events and converted them into a readable string, each database has its way of saving event types etc. We also removed ‘view’ and ‘execute’ events as we want to investigate interactions and not just passive presence of users.</p>
<pre><code>  WITH
  events AS (
    select user_id,
    action || ' ' || object_type as event_name,
    created_at as occurred_at
    from events
    where created_at &gt; current_date - 30
    and not ((action = 'view' and object_type='widget') or (action = 'view' and object_type='visualization')
    or (action = 'view' and object_type='query')
    or action = 'execute'
    or action ='execute_query')
),
</code></pre>
</li>
<li>
<p>Define how many events are in a sequence - each e stands for an event, in this case, a sequence is 5 events and we count how many users completed each step and continued to the next one.</p>
<pre><code>    sequences as (
SELECT e1,
       e2,
       e3,
       e4,
       e5,
       COUNT(*) AS value	
</code></pre>
</li>
<li>
<p>Assign event numbers inside each session, each event is e+it’s number.</p>
<pre><code> FROM (
SELECT user_id,
     session_number,
     MAX(CASE WHEN event_number = 1 THEN event_name ELSE NULL END) AS e1,
     MAX(CASE WHEN event_number = 2 THEN event_name ELSE NULL END) AS e2,
     MAX(CASE WHEN event_number = 3 THEN event_name ELSE NULL END) AS e3,
     MAX(CASE WHEN event_number = 4 THEN event_name ELSE NULL END) AS e4,
     MAX(CASE WHEN event_number = 5 THEN event_name ELSE NULL END) AS e5
</code></pre>
</li>
<li>
<p>Define event number within a session, chronologically.</p>
<pre><code> FROM (
SELECT e.user_id,
     e.occurred_at,
     s.session_number,
     e.event_name,
     ROW_NUMBER() OVER (PARTITION BY e.user_id, s.session_number ORDER BY e.occurred_at) AS event_number
</code></pre>
</li>
<li>
<p>Define a session start and end points and name a session as s.</p>
<pre><code>  FROM (
     SELECT user_id,
            occurred_at AS session_start,
            COALESCE(LEAD(occurred_at,1) OVER (PARTITION BY user_id ORDER BY occurred_at),'2020-01-01') AS session_end,
            ROW_NUMBER() OVER (PARTITION BY user_id ORDER BY occurred_at) AS session_number
       FROM (
            SELECT user_id,
                   occurred_at,
                   EXTRACT(
                    'EPOCH' FROM occurred_at - LAG(occurred_at,1) OVER (PARTITION BY user_id ORDER BY occurred_at)
                   )/60 AS time_to_last_event
              FROM events
            ) bounds
      WHERE time_to_last_event &gt; 30
         OR time_to_last_event IS NULL
     ) s
</code></pre>
</li>
<li>
<p>Join all the tables you need to join - in this case we join events with sequences (that we created so far) and group by events inside a session, order by creation date and limit it to keep things under speedy control.</p>
<pre><code> JOIN events e
  ON e.user_id = s.user_id
 AND e.occurred_at &gt;= s.session_start
 AND e.occurred_at &lt; s.session_end
     ) x
GROUP BY 1,2
     ) z
GROUP BY 1,2,3,4,5
ORDER BY 6 DESC
LIMIT 100
)
</code></pre>
</li>
<li>
<p><code>SELECT *</code> (sometimes it’s ok!) and you’re done.</p>
<pre><code> SELECT * FROM sequences
</code></pre>
</li>
</ol>
<p>Voila:</p>
<p><img alt="Sankey Visualization" height="429" src="assets/Sankey.png" width="690"/></p>
<p><img alt="Sunburst Visualization" height="359" src="assets/Sunburst.png" width="690"/></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="3" itemprop="userInteractionCount"/>
<span class="post-likes">3 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
<div class="crawler-linkback-list" itemscope="" itemtype="http://schema.org/ItemList">
<div itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a href="http://discuss.redash.io/t/sankey-visualization-error/484/6" itemprop="url">Sankey visualization error</a>
<meta content="1" itemprop="position"/>
</div>
<div itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a href="https://discuss.redash.io/t/sankey-diagram-from-table-containing-user-id-month-and-category/6487" itemprop="url">Sankey diagram from table containing user id, month and category</a>
<meta content="2" itemprop="position"/>
</div>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/ghostwhisper.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/ghostwhisper_avatar.png" tabindex="-1" width="48"/><span itemprop="name">ghostwhisper</span></a>
</span>
<link href="https://discuss.redash.io/t/flow-sequence-queries-sankey-and-sunburst-visualizations/1703" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-06-12T09:27:31Z" itemprop="datePublished">
                    June 12, 2018,  9:27am
                  </time>
<meta content="2018-06-12T09:27:31Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>could sankey show more than 5steps? like 10steps</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/arikfr.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/arikfr_avatar.png" tabindex="-1" width="48"/><span itemprop="name">arikfr</span></a>
</span>
<link href="https://discuss.redash.io/t/flow-sequence-queries-sankey-and-sunburst-visualizations/1703" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-07-02T19:11:25Z" itemprop="datePublished">
                    July 2, 2018,  7:11pm
                  </time>
<meta content="2018-07-02T19:11:25Z" itemprop="dateModified"/>
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p>It’s currently limited to 5 steps, but I don’t think there is a real reason for this. We’re open for a pull request updating this.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="3" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/ghostwhisper.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/ghostwhisper_avatar.png" tabindex="-1" width="48"/><span itemprop="name">ghostwhisper</span></a>
</span>
<link href="https://discuss.redash.io/t/flow-sequence-queries-sankey-and-sunburst-visualizations/1703" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-07-20T07:47:03Z" itemprop="datePublished">
                    July 20, 2018,  7:47am
                  </time>
<meta content="2018-07-20T07:47:03Z" itemprop="dateModified"/>
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Thx for response. I’m looking forward to your updating</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_5" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/Attar.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/Attar_avatar.png" tabindex="-1" width="48"/><span itemprop="name">Attar</span></a>
</span>
<link href="https://discuss.redash.io/t/flow-sequence-queries-sankey-and-sunburst-visualizations/1703" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-07-21T13:16:38Z" itemprop="datePublished">
                    July 21, 2018,  1:16pm
                  </time>
<meta content="2018-07-22T08:44:33Z" itemprop="dateModified"/>
<span itemprop="position">5</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I wonder if you put whole query here.<br/>
and also the result in the table.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_6" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/erwin.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/erwin_avatar.png" tabindex="-1" width="48"/><span itemprop="name">erwin</span></a>
</span>
<link href="https://discuss.redash.io/t/flow-sequence-queries-sankey-and-sunburst-visualizations/1703" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-08-02T16:08:29Z" itemprop="datePublished">
                    August 2, 2018,  4:08pm
                  </time>
<meta content="2018-08-02T16:08:29Z" itemprop="dateModified"/>
<span itemprop="position">6</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Especially the whole query would be useful, as it get’s a bit confusing at step 5. Because it says “s.session_number” in step 4, but this is defined in step 5, so an overview would be very useful.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_7" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/sambolina.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/sambolina_avatar.png" tabindex="-1" width="48"/><span itemprop="name">sambolina</span></a>
</span>
<link href="https://discuss.redash.io/t/flow-sequence-queries-sankey-and-sunburst-visualizations/1703" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-04-10T22:16:46Z" itemprop="datePublished">
                    April 10, 2019, 10:16pm
                  </time>
<meta content="2019-04-10T22:16:46Z" itemprop="dateModified"/>
<span itemprop="position">7</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Like others here, I’d love to see the whole query as well as the results posted here or added to the article.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_8" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jiaxiaoxian.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jiaxiaoxian_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jiaxiaoxian</span></a>
</span>
<link href="https://discuss.redash.io/t/flow-sequence-queries-sankey-and-sunburst-visualizations/1703" itemprop="mainEntityOfPage"/>
<link href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/f/ffd166aceae51d4afdf0c5b78cd350686f981e53.png" itemprop="image"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-04-11T06:31:54Z" itemprop="datePublished">
                    April 11, 2019,  6:31am
                  </time>
<meta content="2019-04-11T06:31:54Z" itemprop="dateModified"/>
<span itemprop="position">8</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Multilevel header table very good</p>
<p><div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/Av4otef44frBvWR3V2rqVaNIgmf.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/f/ffd166aceae51d4afdf0c5b78cd350686f981e53.png" rel="noopener nofollow ugc" title="image"><img alt="image" data-base62-sha1="Av4otef44frBvWR3V2rqVaNIgmf" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/f/ffd166aceae51d4afdf0c5b78cd350686f981e53_2_10x10.png" height="270" src="assets/ffd166aceae51d4afdf0c5b78cd350686f981e53_2_690x270.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/f/ffd166aceae51d4afdf0c5b78cd350686f981e53_2_690x270.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/f/ffd166aceae51d4afdf0c5b78cd350686f981e53_2_1035x405.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/f/ffd166aceae51d4afdf0c5b78cd350686f981e53_2_1380x540.png 2x" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">1592×623 47.8 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_9" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/arikfr.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/arikfr_avatar.png" tabindex="-1" width="48"/><span itemprop="name">arikfr</span></a>
</span>
<link href="https://discuss.redash.io/t/flow-sequence-queries-sankey-and-sunburst-visualizations/1703" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-04-14T08:27:04Z" itemprop="datePublished">
                    April 14, 2019,  8:27am
                  </time>
<meta content="2019-04-14T08:27:04Z" itemprop="dateModified"/>
<span itemprop="position">9</span>
</span>
</div>
<div class="post" itemprop="text">
<p>You can find the full query along with results and live demo here:<br/>
<a href="https://demo.redash.io/queries/2280/source#3113" rel="nofollow noopener">https://demo.redash.io/queries/2280/source#3113</a> (you can login with any Google account)</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="2" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_10" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/clay.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/clay_avatar.png" tabindex="-1" width="48"/><span itemprop="name">clay</span></a>
</span>
<link href="https://discuss.redash.io/t/flow-sequence-queries-sankey-and-sunburst-visualizations/1703" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-05-02T01:33:15Z" itemprop="datePublished">
                    May 2, 2019,  1:33am
                  </time>
<meta content="2019-05-02T01:33:15Z" itemprop="dateModified"/>
<span itemprop="position">10</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Thanks for the example…it’s super helpful.</p>
<p>Is it possible to define a session based on when a particular event is triggered instead of / in addition to occured_at?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_11" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/WyattQi.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/WyattQi_avatar.png" tabindex="-1" width="48"/><span itemprop="name">WyattQi</span></a>
</span>
<link href="https://discuss.redash.io/t/flow-sequence-queries-sankey-and-sunburst-visualizations/1703" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-04-07T09:44:47Z" itemprop="datePublished">
                    April 7, 2020,  9:44am
                  </time>
<meta content="2020-04-07T09:44:47Z" itemprop="dateModified"/>
<span itemprop="position">11</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hi Arikfr</p>
<p>i don’t know ，mysql  data how to use sankey and sunburst。PostgreSQL It’s too difficult for me，<a href="https://demo.redash.io/queries/2280/source#3113" rel="nofollow noopener">https://demo.redash.io/queries/2280/source#3113</a> 。</p>
<p>Thanks<br/>
Wenhao</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_12" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/domod.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/domod_avatar.png" tabindex="-1" width="48"/><span itemprop="name">domod</span></a>
</span>
<link href="https://discuss.redash.io/t/flow-sequence-queries-sankey-and-sunburst-visualizations/1703" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-30T14:33:08Z" itemprop="datePublished">
                    June 30, 2020,  2:33pm
                  </time>
<meta content="2020-06-30T14:33:08Z" itemprop="dateModified"/>
<span itemprop="position">12</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hi Arikfr,<br/>
Is there a possibility to order the buckets in a Sankey Plot according to the name of the bucket and not according to the size?</p>
<p>I thank you in advance.<br/>
Dom</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_13" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/emanuel_monday.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/emanuel_monday_avatar.png" tabindex="-1" width="48"/><span itemprop="name">emanuel_monday</span></a>
</span>
<link href="https://discuss.redash.io/t/flow-sequence-queries-sankey-and-sunburst-visualizations/1703" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-12-26T11:48:12Z" itemprop="datePublished">
                    December 26, 2020, 11:48am
                  </time>
<meta content="2020-12-26T11:48:12Z" itemprop="dateModified"/>
<span itemprop="position">13</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hi Arikfr, would be really great to have more than 5 steps <img alt=":slight_smile:" class="emoji" src="assets/slight_smile.png" title=":slight_smile:"/> . Is it planned to be added any time soon? Many many thanks!</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
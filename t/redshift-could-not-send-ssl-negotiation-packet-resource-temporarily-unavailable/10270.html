<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>Redshift could not send SSL negotiation packet: Resource temporarily unavailable</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/redshift-could-not-send-ssl-negotiation-packet-resource-temporarily-unavailable/10270">Redshift could not send SSL negotiation packet: Resource temporarily unavailable</a>
</h1>
<div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/6.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Support</span>
</span>
</a>
<meta content="1" itemprop="position"/>
</span>
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/support-self-hosted/9.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Self Hosted Redash Support</span>
</span>
</a>
<meta content="2" itemprop="position"/>
</span>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content="Redshift could not send SSL negotiation packet: Resource temporarily unavailable" itemprop="headline"/>
<meta content="Self Hosted Redash Support" itemprop="articleSection"/>
<meta content="" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/yawei.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/yawei_avatar.png" tabindex="-1" width="48"/><span itemprop="name">yawei</span></a>
</span>
<link href="assets/10270" itemprop="mainEntityOfPage"/>
<link href="assets/941d095c89445d76e68d234ad86c3e382d331861.png" itemprop="image"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-04-07T07:22:01Z" itemprop="datePublished">
                    April 7, 2022,  7:22am
                  </time>
<meta content="2022-04-07T07:22:01Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>Hi ,</p>
<h3>
<a class="anchor" href="#issue-summary-1" name="issue-summary-1"></a>Issue Summary</h3>
<p>I’m hosting the Redash in AWS EC2 private subnet, we had setup a connection to Redshift, it was working well, but suddenly it’s not working this week, we didn’t update anything, and the security group is setting up correctly(as redshift allowing Redash ec2 security group as in-bound rule, we didn’t update anything).</p>
<ul>
<li>
<p>The Redshift connection itself does not have any issue, as I can connect it from local through a bastion host.</p>
</li>
<li>
<p>There is no issue to connect to other resources like Postgresql DB in Redash</p>
</li>
</ul>
<h3>
<a class="anchor" href="#technical-details-2" name="technical-details-2"></a>Technical details:</h3>
<p>Here is the running docker images<br/>
<div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/l8gSk3Tybnc51aUDIU9RGA0bxMl.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/9/941d095c89445d76e68d234ad86c3e382d331861.png" rel="noopener nofollow ugc" title="image"><img alt="image" data-base62-sha1="l8gSk3Tybnc51aUDIU9RGA0bxMl" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/9/941d095c89445d76e68d234ad86c3e382d331861_2_10x10.png" height="80" src="assets/941d095c89445d76e68d234ad86c3e382d331861_2_690x80.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/9/941d095c89445d76e68d234ad86c3e382d331861_2_690x80.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/9/941d095c89445d76e68d234ad86c3e382d331861_2_1035x120.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/9/941d095c89445d76e68d234ad86c3e382d331861_2_1380x160.png 2x" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">2432×282 42.2 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p><div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/n2WivvYb2m4La33sTFMTBmOXkaE.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/a/a18716a803498446b789d22dcea2fb6fda9ede2c.png" rel="noopener nofollow ugc" title="image"><img alt="image" data-base62-sha1="n2WivvYb2m4La33sTFMTBmOXkaE" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/a/a18716a803498446b789d22dcea2fb6fda9ede2c_2_10x10.png" height="91" src="assets/a18716a803498446b789d22dcea2fb6fda9ede2c_2_690x91.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/a/a18716a803498446b789d22dcea2fb6fda9ede2c_2_690x91.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/a/a18716a803498446b789d22dcea2fb6fda9ede2c_2_1035x136.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/a/a18716a803498446b789d22dcea2fb6fda9ede2c.png 2x" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">1264×168 17.6 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<ul>
<li>How did you install Redash: As following here <a href="https://redash.io/help/open-source/setup#aws" rel="noopener nofollow ugc">https://redash.io/help/open-source/setup#aws</a>
</li>
</ul>
<p>Kindly help to give some ideas about where the issue could be?</p>
<p>Thanks and regards</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/10270" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-04-07T13:42:03Z" itemprop="datePublished">
                    April 7, 2022,  1:42pm
                  </time>
<meta content="2022-04-07T13:42:03Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Welcome to the forum!</p>
<p>I’ve seen this error message literally hundreds of times. It has <em>always</em> been a firewall issue. Traffic is not making it between your Redash query runners and the redshift instance.</p>
<p>It’s not really something we can debug for you on the forum. But the fact that you haven’t changed anything recently with your Redash configuration makes it more likely that something changed in your security groups.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/yawei.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/yawei_avatar.png" tabindex="-1" width="48"/><span itemprop="name">yawei</span></a>
</span>
<link href="assets/10270" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-04-13T02:30:18Z" itemprop="datePublished">
                    April 13, 2022,  2:30am
                  </time>
<meta content="2022-04-13T02:30:18Z" itemprop="dateModified"/>
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Thanks Jesse, yes, it was really due to firewall issue, for anyone facing similier issue, my case like this,</p>
<p>----------Infra--------------------------</p>
<ul>
<li>Redshift and Redash EC2 in the same VPC</li>
<li>Redshift in public subnet, EC2 in private subnet</li>
<li>Redshift has EC2 as inbound rule in security group</li>
</ul>
<hr/>
<p>I send a ticket to AWS support, they told me the Redash ec2 resolved the Redshift host as public IP, it requires to go from NAT gateway to access redshift, after I added the NAT gateway IP in the Redshift inbound rule, the issue was solved, I’m still checking with AWS team why the issue suddenly happen(seems due to a redshift patch).</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
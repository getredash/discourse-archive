<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>Self hosted redash 5.2 from source | centos 7</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/self-hosted-redash-5-2-from-source-centos-7/2675">Self hosted redash 5.2 from source | centos 7</a>
</h1>
<div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/6.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Support</span>
</span>
</a>
<meta content="1" itemprop="position"/>
</span>
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/support-self-hosted/9.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Self Hosted Redash Support</span>
</span>
</a>
<meta content="2" itemprop="position"/>
</span>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content="Self hosted redash 5.2 from source | centos 7" itemprop="headline"/>
<meta content="Self Hosted Redash Support" itemprop="articleSection"/>
<meta content="" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/whitehooder.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/whitehooder_avatar.png" tabindex="-1" width="48"/><span itemprop="name">whitehooder</span></a>
</span>
<link href="https://discuss.redash.io/t/self-hosted-redash-5-2-from-source-centos-7/2675" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2018-11-11T07:34:40Z" itemprop="datePublished">
                    November 11, 2018,  7:34am
                  </time>
<meta content="2018-11-11T07:40:34Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>System environment [ platform : CENTOS 7.0 | python : 2.7 ]</p>
<p>chown -r redash:redash /opt<br/>
redash location : /opt/redash</p>
<p>yum upgrade<br/>
sudo yum install epel-release<br/>
sudo yum install python-pip<br/>
sudo yum groupinstall ‘development tools’<br/>
sudo yum install gcc python-pip.noarch python-devel<br/>
sudo yum -y install python-setuptools python-pip</p>
<p>sudo yum install redis<br/>
sudo systemctl start redis<br/>
sudo systemctl enable redis</p>
<p>curl --silent --location <a href="https://rpm.nodesource.com/setup_8.x" rel="nofollow noopener">https://rpm.nodesource.com/setup_8.x</a> | sudo bash -<br/>
sudo yum install nodejs<br/>
sudo yum install gcc-c++ make</p>
<p>rpm -Uvh <a href="https://yum.postgresql.org/10/redhat/rhel-7-x86_64/pgdg-centos10-10-2.noarch.rpm" rel="nofollow noopener">https://yum.postgresql.org/10/redhat/rhel-7-x86_64/pgdg-centos10-10-2.noarch.rpm</a><br/>
yum install postgresql10-server postgresql10<br/>
/usr/pgsql-10/bin/postgresql-10-setup initdb<br/>
systemctl start postgresql-10.service<br/>
systemctl enable postgresql-10.service</p>
<p>su — postgres<br/>
psql<br/>
create user redash;<br/>
dont set the password for it neither you need to set any database or permission for it</p>
<p>easy_install supervisor<br/>
echo_supervisord_conf  &gt; /etc/supervisord.conf<br/>
vim /usr/lib/systemd/system/supervisord.service</p>
<p>[Unit]<br/>
Description=supervisord - Supervisor process control system for UNIX<br/>
Documentation=http://supervisord.org<br/>
After=network.target<br/>
[Service]<br/>
User=user1<br/>
Type=forking<br/>
ExecStart=/usr/bin/supervisord -c /etc/supervisord.conf<br/>
ExecReload=/usr/bin/supervisorctl reload<br/>
ExecStop=/usr/bin/supervisorctl shutdown<br/>
[Install]<br/>
WantedBy=multi-user.target</p>
<p>systemctl daemon-reload<br/>
systemctl enable supervisord<br/>
systemctl start supervisord.service</p>
<p>you will be needed oracle clinet software ,version 11.2 works for sure and you will need the basic,devel and sqlplus rpms for redash, so go ahead and download from oracle .simply a google search will lead you there and make sure to download the x64 edition .</p>
<p>yum install libaio<br/>
rpm -Uvh oracle-instantclient11.2-basic.x86_64.rpm<br/>
rpm -Uvh oracle-instantclient11.2-devel.x86_64.rpm<br/>
rpm -Uvh oracle-instantclient11.2-sqlplus.x86_64.rpm<br/>
echo “/usr/lib/oracle/11.2/client64/lib” &gt;/etc/ld.so.conf.d/oracle.conf<br/>
ldconfig<br/>
su — redash<br/>
cd /home/redash<br/>
vim .bashrc<br/>
enter the follwing entry<br/>
export ORACLE_HOME=/usr/lib/oracle/11.2/client64<br/>
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$ORACLE_HOME/lib<br/>
export PATH=$PATH:$ORACLE_HOME/bin<br/>
export REDASH_ADDITIONAL_QUERY_RUNNERS=redash.query_runner.oracle<br/>
source .bashrc<br/>
pip install cx_Oracle===5.2.1</p>
<p>sudo yum install git-core<br/>
sudo pip install -r requirements.txt -r requirements_dev.txt<br/>
npm install<br/>
npm run build</p>
<p>bin/run ./manage.py check_settings<br/>
bin/run ./manage.py database create_tables</p>
<p>bin/run ./manage.py runserver --debugger --reload --host=0.0.0.0<br/>
./bin/run celery worker --app=redash.worker --beat -Qscheduled_queries,queries,celery -c2<br/>
npm run start</p>
<p>you can run redash by executing the following script .<br/>
vim /opt/redash/nohup_redash.sh<br/>
chmod +x nohup_redash.sh<br/>
./opt/redash/nohup_redash.sh</p>
<pre><code>&gt; nohup bin/run ./manage.py runserver --debugger --reload --host=0.0.0.0 &amp;gt; redash-output.log 2&amp;gt;&amp;amp;1 &amp;amp;
&gt; 
&gt; nohup ./bin/run celery worker --app=redash.worker --beat -Qscheduled_queries,queries,celery -c2 &amp;gt; redash-output_celery.log 2&amp;gt;&amp;amp;1 &amp;amp;
&gt; 
&gt; nohup npm run start redash-output_npm.log 2&amp;gt;&amp;amp;1 &amp;amp;
</code></pre>
<p><img alt=":grinning:" class="emoji" src="assets/grinning.png" title=":grinning:"/></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
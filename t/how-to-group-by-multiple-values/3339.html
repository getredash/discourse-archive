<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>How to group by multiple values?</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/how-to-group-by-multiple-values/3339">How to group by multiple values?</a>
</h1>
<div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/6.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Support</span>
</span>
</a>
<meta content="1" itemprop="position"/>
</span>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content="How to group by multiple values?" itemprop="headline"/>
<meta content="Support" itemprop="articleSection"/>
<meta content="" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/M_Salenius.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/M_Salenius_avatar.png" tabindex="-1" width="48"/><span itemprop="name">M_Salenius</span></a>
</span>
<link href="https://discuss.redash.io/t/how-to-group-by-multiple-values/3339" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-03-05T08:10:32Z" itemprop="datePublished">
                    March 5, 2019,  8:10am
                  </time>
<meta content="2019-03-05T08:10:32Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>Hello, I’m quite new to Redash and I’ve been trying to find a way to visualize a query, where I use multiple group by’s e.g.</p>
<p>SELECT date, count(players)<br/>
FROM inapppurchase<br/>
WHERE date = ‘{{ date }}’<br/>
GROUP BY date, platform, gameversion, usertype</p>
<p>I would like the visualization to make separate lines for example based on both platform &amp; usertype so lines would be:</p>
<ul>
<li>Android guest,</li>
<li>Android registered,</li>
<li>iOS guest,</li>
<li>iOS registered.</li>
</ul>
<p>I can get it to work on the table, but not in a graph.</p>
<p>I would also like to know how to use parameters with 0, 1 or multiple values? Let’s say as an example I want to keep my query on default showing the sum of all platforms, but I would like to have a parameter where I can tell the query to show</p>
<ul>
<li>sum of all platforms (empty parameter)</li>
<li>only Android (parameter: Android)</li>
<li>both Android and iOS (parameter: Android, iOS)</li>
</ul>
<p>Are these things possible?<br/>
Thank you for your time</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/levko.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/levko_avatar.png" tabindex="-1" width="48"/><span itemprop="name">levko</span></a>
</span>
<link href="https://discuss.redash.io/t/how-to-group-by-multiple-values/3339" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-03-05T09:50:56Z" itemprop="datePublished">
                    March 5, 2019,  9:50am
                  </time>
<meta content="2019-03-05T13:01:58Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hi <a class="mention" href="/u/m_salenius">@M_Salenius</a>!</p>
<p>Hope I understood your questions correctly <img alt=":sweat_smile:" class="emoji" src="assets/sweat_smile.png" title=":sweat_smile:"/></p>
<p>Try these solutions (probably you’ll need to combine/modify them to fit your needs, it’s just an example):</p>
<ol>
<li>Modify your query to concat paltform and user type into single field - it should become something like (PostgreSQL syntax):</li>
</ol>
<pre><code class="lang-auto">SELECT date, platform || ' ' || usertype as "series", count(players)
FROM inapppurchase
WHERE date = ‘{{ date }}’
GROUP BY date, 2
</code></pre>
<p>Then use “Group By” chart option - select that concatenated value there; it will create series based on unique values from that field.</p>
<ol start="2">
<li>Use parameter with predefined set of values and <code>WHERE</code> clause.</li>
</ol>
<p>Parameter values:</p>
<pre><code class="lang-auto">'*'
'Android'
'Android', 'iOS'
</code></pre>
<p>In SQL:</p>
<pre><code class="lang-auto">SELECT *
FROM inapppurchase
WHERE 
  {param} = '*' -- TRUE if '*' selected - match all records
  OR platform IN ({param}) -- this will work if other value selected
  -- other WHERE statements
</code></pre>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="2" itemprop="userInteractionCount"/>
<span class="post-likes">2 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/M_Salenius.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/M_Salenius_avatar.png" tabindex="-1" width="48"/><span itemprop="name">M_Salenius</span></a>
</span>
<link href="https://discuss.redash.io/t/how-to-group-by-multiple-values/3339" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-03-06T09:00:13Z" itemprop="datePublished">
                    March 6, 2019,  9:00am
                  </time>
<meta content="2019-03-06T09:00:13Z" itemprop="dateModified"/>
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Thank you I got it working somewhat, the solution just seems unnecessary complex for something this simple. Is there a specific reason why it’s not allowed to group by multiple values in Redash by default?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/arikfr.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/arikfr_avatar.png" tabindex="-1" width="48"/><span itemprop="name">arikfr</span></a>
</span>
<link href="https://discuss.redash.io/t/how-to-group-by-multiple-values/3339" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-03-06T10:29:13Z" itemprop="datePublished">
                    March 6, 2019, 10:29am
                  </time>
<meta content="2019-03-06T10:29:13Z" itemprop="dateModified"/>
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<aside class="quote no-group" data-post="3" data-topic="3339">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="assets/931_2.png" width="20"/> M_Salenius:</div>
<blockquote>
<p>Is there a specific reason why it’s not allowed to group by multiple values in Redash by default?</p>
</blockquote>
</aside>
<p>At this point I’m not sure if it was some limitation of the charting library we were using or just an oversight when implementing. It’s a reasonable feature to have.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="2" itemprop="userInteractionCount"/>
<span class="post-likes">2 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_5" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/M_Salenius.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/M_Salenius_avatar.png" tabindex="-1" width="48"/><span itemprop="name">M_Salenius</span></a>
</span>
<link href="https://discuss.redash.io/t/how-to-group-by-multiple-values/3339" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-03-06T10:43:11Z" itemprop="datePublished">
                    March 6, 2019, 10:43am
                  </time>
<meta content="2019-03-06T10:43:11Z" itemprop="dateModified"/>
<span itemprop="position">5</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Yeah it feels like extremely important feature for proper analysis as I need to be able to combine different groupings flexibly while trying to look answers for specific issues or trends in the graph and this concate is really stiff for that work. I pretty much have to hard code all the combinations before starting my analysis. My measurements have on average ~10 different fields which I need to be able to combine on the fly. Hope you can do something about it soon <img alt=":slight_smile:" class="emoji" src="assets/slight_smile.png" title=":slight_smile:"/></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="2" itemprop="userInteractionCount"/>
<span class="post-likes">2 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_6" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/valerio93105.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/valerio93105_avatar.png" tabindex="-1" width="48"/><span itemprop="name">valerio93105</span></a>
</span>
<link href="https://discuss.redash.io/t/how-to-group-by-multiple-values/3339" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-01-09T05:06:26Z" itemprop="datePublished">
                    January 9, 2020,  5:06am
                  </time>
<meta content="2020-01-09T05:06:26Z" itemprop="dateModified"/>
<span itemprop="position">6</span>
</span>
</div>
<div class="post" itemprop="text">
<p>We are new to redash, and we have been trying to plot time series for any number of devices in one chart.</p>
<p>For each deviceID, we have up to 2 time series (call them feature1 and feature2), and we would like to use a multi-value parameter {{deviceID}} available on a dashboard, so users can select multiple DeviceIDs. Therefore, each plot will have 2 x the number of selected DeviceIDs.</p>
<p>We used the query format above to define a seriesA as:</p>
<p>deviceID || ’ ’ || feature = seriesA</p>
<p>The workaround allows us to then group by seriesA and correctly display the 2 x number of deviceIDs series on the Y left axis.</p>
<p>However, feature1 and feature2 have Y values that are different by orders of magnitude, and we would like to plot all the feature1 time series on the Y left axis and all the feature2 timeseries on the Y right axis, regardless of what DeviceIDs are passed as parameter.</p>
<p>We see that series selected when the query is saved can be manually assigned to the left or right Y axis, but we don’t see a way to assign series to the left or right Y axis dynamically based on the value of a field (in our case, we would use the feature field to show all the feature1 values on the left Y axis and all the feature2 values on the right Y axis.)</p>
<p>Is there a workaround?</p>
<p>Thank you for your help and I hope the question is clear enough.</p>
<p>Best,</p>
<p>Valerio</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
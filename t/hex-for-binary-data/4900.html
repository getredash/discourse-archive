<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>Hex for binary data</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/hex-for-binary-data/4900">Hex for binary data</a>
</h1>
<div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Feature Requests</span>
</span>
</a>
<meta content="1" itemprop="position"/>
</span>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content="Hex for binary data" itemprop="headline"/>
<meta content="Feature Requests" itemprop="articleSection"/>
<meta content="" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/webmake.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/webmake_avatar.png" tabindex="-1" width="48"/><span itemprop="name">webmake</span></a>
</span>
<link href="https://discuss.redash.io/t/hex-for-binary-data/4900" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-11-07T14:47:35Z" itemprop="datePublished">
                    November 7, 2019,  2:47pm
                  </time>
<meta content="2019-11-07T14:47:35Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>Hello,<br/>
we use mysql and for id’s we use binary format to store uuid, so executing query in redash we always see<br/>
Error running query:  <strong>‘utf8’ codec can’t decode byte 0xe8 in position 1: invalid continuation byte</strong></p>
<p>I like how HeidySQL behaves, it builds on top hex(id) and gives alias, also it can be toogled. So I would like to suggest also this feature.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/Jakdaw.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/Jakdaw_avatar.png" tabindex="-1" width="48"/><span itemprop="name">Jakdaw</span></a>
</span>
<link href="https://discuss.redash.io/t/hex-for-binary-data/4900" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-11-08T12:40:28Z" itemprop="datePublished">
                    November 8, 2019, 12:40pm
                  </time>
<meta content="2019-11-08T12:40:28Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>You’re storing binary data inside fields marked as text in mysql?</p>
<p>Can’t you fix this on the mysql side? Perhaps with a function that decodes the binary data back to the UUID? Tell us more about how it’s stored on the mysql side and I can probably suggest a function.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/webmake.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/webmake_avatar.png" tabindex="-1" width="48"/><span itemprop="name">webmake</span></a>
</span>
<link href="https://discuss.redash.io/t/hex-for-binary-data/4900" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-11-11T12:08:07Z" itemprop="datePublished">
                    November 11, 2019, 12:08pm
                  </time>
<meta content="2019-11-11T12:08:07Z" itemprop="dateModified"/>
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Just for information why: <a href="https://medium.com/@galopintitouan/auto-increment-is-the-devil-using-uuids-in-symfony-and-doctrine-71763721b9a9" rel="nofollow noopener">https://medium.com/@galopintitouan/auto-increment-is-the-devil-using-uuids-in-symfony-and-doctrine-71763721b9a9</a></p>
<p>I know function, but it is annoying every time seeing <strong>‘utf8’ codec can’t decode byte 0xe8 in position 1: invalid continuation byte</strong> search erroneous column and paste such peace of code:<br/>
<code>LOWER(CONCAT(SUBSTR(HEX(id), 9, 8),"-", SUBSTR(HEX(id), 5, 4),"-", SUBSTR(HEX(id), 1, 4),"-", SUBSTR(HEX(id), 17, 4),"-", SUBSTR(HEX(id), 21, 12))) as id</code></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/Jakdaw.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/Jakdaw_avatar.png" tabindex="-1" width="48"/><span itemprop="name">Jakdaw</span></a>
</span>
<link href="https://discuss.redash.io/t/hex-for-binary-data/4900" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-11-11T12:24:58Z" itemprop="datePublished">
                    November 11, 2019, 12:24pm
                  </time>
<meta content="2019-11-11T12:24:58Z" itemprop="dateModified"/>
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<p>What is the column type of id?</p>
<p>It this a problem with how the python library automatically picks the type based upon the content? I do mean to have a look at that as it really annoys me - particularly when wanting to use links in the Table viz - if I want to do something simple like date_format(date, “%Y-%m-%d”) in my query and then use it as a field in a link… it gets turned into a Python date and formatted into some huge string that’s not friendly to the URL I’m trying to point to.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_5" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="https://discuss.redash.io/t/hex-for-binary-data/4900" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-11-11T14:44:39Z" itemprop="datePublished">
                    November 11, 2019,  2:44pm
                  </time>
<meta content="2019-11-11T14:44:39Z" itemprop="dateModified"/>
<span itemprop="position">5</span>
</span>
</div>
<div class="post" itemprop="text">
<aside class="quote no-group" data-post="4" data-topic="4900">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="assets/1007_2.png" width="20"/> Jakdaw:</div>
<blockquote>
<p>if I want to do something simple like date_format(date, “%Y-%m-%d”) in my query and then use it as a field in a link… it gets turned into a Python date and formatted into some huge string that’s not friendly to the URL I’m trying to point to.</p>
</blockquote>
</aside>
<p>That sounds like a bug. Can you share an example of this?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_6" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/Jakdaw.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/Jakdaw_avatar.png" tabindex="-1" width="48"/><span itemprop="name">Jakdaw</span></a>
</span>
<link href="https://discuss.redash.io/t/hex-for-binary-data/4900" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-11-12T09:31:41Z" itemprop="datePublished">
                    November 12, 2019,  9:31am
                  </time>
<meta content="2019-11-12T09:31:41Z" itemprop="dateModified"/>
<span itemprop="position">6</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Easy:</p>
<pre><code>SELECT "2019-11-12";
</code></pre>
<p>Clearly returns a string from a SQL point of view. But it’s a date by the time it’s in Redash.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_7" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/Jakdaw.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/Jakdaw_avatar.png" tabindex="-1" width="48"/><span itemprop="name">Jakdaw</span></a>
</span>
<link href="https://discuss.redash.io/t/hex-for-binary-data/4900" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-11-12T11:36:47Z" itemprop="datePublished">
                    November 12, 2019, 11:36am
                  </time>
<meta content="2019-11-12T11:36:47Z" itemprop="dateModified"/>
<span itemprop="position">7</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Interesting… digging a bit deeper, seems the MySQL side of things within Redash looks good; when I look at the JSON within Redash’s internal DB, I see:</p>
<pre><code>redash=&gt; select query, data from query_results where id=8613073;
                        query                        |                                                                                                data                                                                                                 
-----------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 select "2019-01-01" string, date("2019-01-01") date | {"rows": [{"date": "2019-01-01", "string": "2019-01-01"}], "columns": [{"type": "string", "friendly_name": "string", "name": "string"}, {"type": "date", "friendly_name": "date", "name": "date"}]}
</code></pre>
<p>… so it’s something downstream that’s not rendering things correctly. Wonder whether this means it’s affecting all datasources?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_8" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="https://discuss.redash.io/t/hex-for-binary-data/4900" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-11-12T15:30:09Z" itemprop="datePublished">
                    November 12, 2019,  3:30pm
                  </time>
<meta content="2019-11-12T16:26:56Z" itemprop="dateModified"/>
<span itemprop="position">8</span>
</span>
</div>
<div class="post" itemprop="text">
<aside class="quote no-group" data-post="7" data-topic="4900">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="assets/1007_2.png" width="20"/> Jakdaw:</div>
<blockquote>
<p>so it’s something downstream that’s not rendering things correctly</p>
</blockquote>
</aside>
<p>Could it also be the cause of this bug?</p>
<aside class="onebox githubissue">
<header class="source">
<a href="https://github.com/getredash/redash/issues/3451" target="_blank">github.com/getredash/redash</a>
</header>
<article class="onebox-body">
<div class="github-row">
<div class="github-icon-container" title="Issue">
<svg aria-hidden="true" class="github-icon" height="60" viewbox="0 0 14 16" width="60"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
</div>
<div class="github-info-container">
<h4>
<a href="https://github.com/getredash/redash/issues/3451" target="_blank">Table visualization uses Unix time format instead of TO_CHAR if "Allow HTML Content" is checked</a>
</h4>
<div class="github-info">
<div class="date">
        opened <span class="discourse-local-date" data-date="2019-02-17" data-format="ll" data-time="15:30:07" data-timezone="UTC">03:30PM - 17 Feb 19 UTC</span>
</div>
<div class="user">
<a href="https://github.com/susodapop" target="_blank">
<img alt="susodapop" class="onebox-avatar-inline" height="20" src="assets/17067911" width="20"/>
          susodapop
        </a>
</div>
</div>
</div>
</div>
<div class="github-row">
<p class="github-content">Issue Summary
I'm using the TO_CHAR function in Postgres to format dates returned from my query. It works as intended if I...</p>
</div>
<div class="labels">
<span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">Bug</span>
<span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">Frontend</span>
<span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">Visualizations: Table</span>
</div>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_9" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/Jakdaw.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/Jakdaw_avatar.png" tabindex="-1" width="48"/><span itemprop="name">Jakdaw</span></a>
</span>
<link href="https://discuss.redash.io/t/hex-for-binary-data/4900" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-11-12T15:50:52Z" itemprop="datePublished">
                    November 12, 2019,  3:50pm
                  </time>
<meta content="2019-11-12T16:24:07Z" itemprop="dateModified"/>
<span itemprop="position">9</span>
</span>
</div>
<div class="post" itemprop="text">
<p>It’s here:</p>
<aside class="onebox githubblob">
<header class="source">
<a href="https://github.com/getredash/redash/blob/master/client/app/services/query-result.js#L91" rel="nofollow noopener" target="_blank">github.com</a>
</header>
<article class="onebox-body">
<h4><a href="https://github.com/getredash/redash/blob/master/client/app/services/query-result.js#L91" rel="nofollow noopener" target="_blank">getredash/redash/blob/master/client/app/services/query-result.js#L91</a></h4>
<pre class="onebox"><code class="lang-js"><ol class="start lines" start="81" style="counter-reset: li-counter 80 ;">
<li>}</li>
<li>
</li>
<li>update(props) {</li>
<li>  extend(this, props);</li>
<li>
</li>
<li>  if ('query_result' in props) {</li>
<li>    this.status = 'done';</li>
<li>
</li>
<li>    const columnTypes = {};</li>
<li>
</li>
<li class="selected">    // TODO: we should stop manipulating incoming data, and switch to relaying</li>
<li>    // on the column type set by the backend. This logic is prone to errors,</li>
<li>    // and better be removed. Kept for now, for backward compatability.</li>
<li>    each(this.query_result.data.rows, (row) =&gt; {</li>
<li>      forOwn(row, (v, k) =&gt; {</li>
<li>        let newType = null;</li>
<li>        if (isNumber(v)) {</li>
<li>          newType = 'float';</li>
<li>        } else if (isString(v) &amp;&amp; v.match(/^\d{4}-\d{2}-\d{2}T/)) {</li>
<li>          row[k] = moment.utc(v);</li>
<li>          newType = 'datetime';</li>
</ol></code></pre>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_10" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/Jakdaw.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/Jakdaw_avatar.png" tabindex="-1" width="48"/><span itemprop="name">Jakdaw</span></a>
</span>
<link href="https://discuss.redash.io/t/hex-for-binary-data/4900" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-11-12T15:55:04Z" itemprop="datePublished">
                    November 12, 2019,  3:55pm
                  </time>
<meta content="2019-11-12T15:55:04Z" itemprop="dateModified"/>
<span itemprop="position">10</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Given that with the move to Python 3 there’s already an effort to solicit lots of input as to whether anything has broken - this seems like a good opportunity to clear this up and figure out whether there are query runners that are not populating the type parameters correctly. <a class="mention" href="/u/arikfr">@arikfr</a> would you agree?</p>
<p>For my use-cases (mostly MySQL data-sources) removing the date/datetime overrides here seems straightforward, I’ve not looked at what situations the ‘object’ type is being used or when the number -&gt; float translation is taking place.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_11" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/Jakdaw.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/Jakdaw_avatar.png" tabindex="-1" width="48"/><span itemprop="name">Jakdaw</span></a>
</span>
<link href="https://discuss.redash.io/t/hex-for-binary-data/4900" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-11-12T16:20:36Z" itemprop="datePublished">
                    November 12, 2019,  4:20pm
                  </time>
<meta content="2019-11-13T16:24:33Z" itemprop="dateModified"/>
<span itemprop="position">11</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Interesting…</p>
<p>When I remove those two translations I get a bigger change than I was expecting. Before when I had a MySQL query:</p>
<pre><code>select "2019-01-01", date("2019-01-01");
</code></pre>
<p>I got rendered two columns each td class=“display-as-datetime” showing “01/01/19”.</p>
<p>Now I get first a td class=“display-as-string” showing “2019-01-01” (so that’s <em>good</em>!) followed by a td class=“display-as-datetime” (… still <em>good</em>…) but with the value “2019-01-01”.  So for some reason the date formatting isn’t happening. I’m out of my depth in JS-land…</p>
<p><strong>UPDATE</strong> because this lame forum won’t allow my to reply to my own replies more than 3 times (grr):-</p>
<p>That JS code is horrible. I’ll publish a PR later… think I’ve cleaned it up (with the caveat - I don’t do JS!).</p>
<p>This still doesn’t address the problem that <a class="mention" href="/u/webmake">@webmake</a> was reporting - which I think can be most simply reproduced with:</p>
<pre><code>SELECT unhex("ffff");
</code></pre>
<p>In this case we need to make a change to the MySQL query runner to extract the flag that says this field is a <em>binary</em> FIELD_TYPE_VAR_STRING and map it appropriately.</p>
<p><strong>FURTHER UPDATE:</strong></p>
<aside class="onebox githubpullrequest">
<header class="source">
<a href="https://github.com/getredash/redash/pull/4352" rel="nofollow noopener" target="_blank">github.com/getredash/redash</a>
</header>
<article class="onebox-body">
<div class="github-row">
<div class="github-icon-container" title="Pull Request">
<svg aria-hidden="true" class="github-icon" height="60" viewbox="0 0 12 16" width="60"><path d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
</div>
<div class="github-info-container">
<h4>
<a href="https://github.com/getredash/redash/pull/4352" rel="nofollow noopener" target="_blank">Use column types provided by server rather than trying to derive them from the values</a>
</h4>
<div class="branches">
<code>getredash:master</code> ← <code>Jakdaw:have-client-use-types-from-api</code>
</div>
<div class="github-info">
<div class="date">
        opened <span class="discourse-local-date" data-date="2019-11-13" data-format="ll" data-time="16:22:25" data-timezone="UTC">04:22PM - 13 Nov 19 UTC</span>
</div>
<div class="user">
<a href="https://github.com/Jakdaw" rel="nofollow noopener" target="_blank">
<img alt="Jakdaw" class="onebox-avatar-inline" height="20" src="assets/8522133" width="20"/>
          Jakdaw
        </a>
</div>
<div class="lines" title="1 commits changed 1 files with 7 additions and 33 deletions">
<a href="https://github.com/getredash/redash/pull/4352/files" rel="nofollow noopener" target="_blank">
<span class="added">+7</span>
<span class="removed">-33</span>
</a>
</div>
</div>
</div>
</div>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_12" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/arikfr.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/arikfr_avatar.png" tabindex="-1" width="48"/><span itemprop="name">arikfr</span></a>
</span>
<link href="https://discuss.redash.io/t/hex-for-binary-data/4900" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-11-14T14:25:36Z" itemprop="datePublished">
                    November 14, 2019,  2:25pm
                  </time>
<meta content="2019-11-14T14:25:36Z" itemprop="dateModified"/>
<span itemprop="position">12</span>
</span>
</div>
<div class="post" itemprop="text">
<aside class="quote no-group" data-post="10" data-topic="4900">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="assets/1007_2.png" width="20"/> Jakdaw:</div>
<blockquote>
<p>Given that with the move to Python 3 there’s already an effort to solicit lots of input as to whether anything has broken - this seems like a good opportunity to clear this up and figure out whether there are query runners that are not populating the type parameters correctly. <a class="mention" href="/u/arikfr">@arikfr</a> would you agree?</p>
</blockquote>
</aside>
<p>I’m not sure about this. There is already as it is quite a lot to test and maybe it will be better to leave such change to another time, maybe after we have some integration tests for the data sources? I doubt the test will be rigorous enough to cover such changes across <em>all query runners</em>.</p>
<aside class="quote no-group" data-post="11" data-topic="4900">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="assets/1007_2.png" width="20"/> Jakdaw:</div>
<blockquote>
<p>That JS code is horrible.</p>
</blockquote>
</aside>
<p>Yeah the logic there and the one in query results fetching survived all the refactors and probably one of the longest living pieces of code in Redash <img alt=":grimacing:" class="emoji" src="assets/grimacing.png" title=":grimacing:"/></p>
<aside class="quote no-group" data-post="11" data-topic="4900">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="assets/1007_2.png" width="20"/> Jakdaw:</div>
<blockquote>
<p>So for some reason the date formatting isn’t happening. I’m out of my depth in JS-land…</p>
</blockquote>
</aside>
<p>Did you figure out why is this happening?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_13" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/Jakdaw.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/Jakdaw_avatar.png" tabindex="-1" width="48"/><span itemprop="name">Jakdaw</span></a>
</span>
<link href="https://discuss.redash.io/t/hex-for-binary-data/4900" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-11-14T15:20:43Z" itemprop="datePublished">
                    November 14, 2019,  3:20pm
                  </time>
<meta content="2019-11-14T15:20:43Z" itemprop="dateModified"/>
<span itemprop="position">13</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Yes did figure out what was happening with the date formatting - the date/datetime strings in the rowdata are parsed into moment objects by that code; so if you look at my PR that’s basically all it’s left doing.</p>
<p>That PR does break a couple of tests (I’ve not yet figured out where those tests are defined) but that’s because the tests are looking for incorrect behaviour!</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
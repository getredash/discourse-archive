<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>Replace "http" to "https" in Example API Calls</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/replace-http-to-https-in-example-api-calls/10359">Replace "http" to "https" in Example API Calls</a>
</h1>
<div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/6.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Support</span>
</span>
</a>
<meta content="1" itemprop="position"/>
</span>
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/support-usage/10.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Usage Support</span>
</span>
</a>
<meta content="2" itemprop="position"/>
</span>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content='Replace "http" to "https" in Example API Calls' itemprop="headline"/>
<meta content="Usage Support" itemprop="articleSection"/>
<meta content="" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/piyoketa.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/piyoketa_avatar.png" tabindex="-1" width="48"/><span itemprop="name">piyoketa</span></a>
</span>
<link href="assets/10359" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-04-21T08:24:48Z" itemprop="datePublished">
                    April 21, 2022,  8:24am
                  </time>
<meta content="2022-04-21T08:24:48Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>I created a self-hosted redash instance on AWS and enabled SSL.<br/>
I can already connect the instance via https.<br/>
However, the URLs displayed in the example API call section begin with “http://” instead of “https://”.</p>
<p>how can I replace “http” to “https” in Example API Calls?<br/>
I want to prevent non-technical staff from making mistakes.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/10359" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-04-21T22:14:37Z" itemprop="datePublished">
                    April 21, 2022, 10:14pm
                  </time>
<meta content="2022-04-21T22:14:37Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Welcome to the forum! This ought to happen automatically, since the API call URL’s on the query screen are generated using Flask’s built-in <code>url_for</code> function. How did you enable SSL?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/piyoketa.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/piyoketa_avatar.png" tabindex="-1" width="48"/><span itemprop="name">piyoketa</span></a>
</span>
<link href="assets/10359" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-04-22T03:18:38Z" itemprop="datePublished">
                    April 22, 2022,  3:18am
                  </time>
<meta content="2022-04-22T03:18:38Z" itemprop="dateModified"/>
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Thanks for your reply!</p>
<p>【The steps I enabled SSL】<br/>
After creating an instance using the official AMI(<a href="https://console.aws.amazon.com/ec2/home?region=ap-northeast-1#LaunchInstanceWizard:ami=ami-060741a96307668be" rel="noopener nofollow ugc">ami-060741a96307668be</a>), I ran the following article.</p><aside class="onebox githubgist" data-onebox-src="https://gist.github.com/arikfr/64c9ff8d2f2b703d4e44fe9e45a7730e">
<header class="source">
<a href="https://gist.github.com/arikfr/64c9ff8d2f2b703d4e44fe9e45a7730e" rel="noopener nofollow ugc" target="_blank">gist.github.com</a>
</header>
<article class="onebox-body">
<h4><a href="https://gist.github.com/arikfr/64c9ff8d2f2b703d4e44fe9e45a7730e" rel="noopener nofollow ugc" target="_blank">https://gist.github.com/arikfr/64c9ff8d2f2b703d4e44fe9e45a7730e</a></h4>
<h5>README.md</h5>
<pre><code class="Markdown">1. Make sure the domain you picked points at the IP of your Redash server.
2. Switch to the `root` user (`sudo su`).
3. Create a folder named `nginx` in `/opt/redash`.
4. Create in the nginx folder two additional folders: `certs` and `certs-data`.
5. Create the file `/opt/redash/nginx/nginx.conf` and place the following in it: (replace `example.redashapp.com` with your domain name)
   ```
   upstream redash {
       server redash:5000;
   }
</code></pre>
    This file has been truncated. <a href="https://gist.github.com/arikfr/64c9ff8d2f2b703d4e44fe9e45a7730e" rel="noopener nofollow ugc" target="_blank">show original</a>
<p>
</p>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
<p>In brief, There are follows three steps.<br/>
step1. Create <code>nginx.conf</code><br/>
step2. Change nginx image configuration in <code>docker-compose.yml</code> to use nginx.conf of step1<br/>
step3. Run the <code>certbot</code> command</p>
<p>Is there some environment variable that you forgot to change?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/10359" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-04-22T15:58:27Z" itemprop="datePublished">
                    April 22, 2022,  3:58pm
                  </time>
<meta content="2022-04-22T15:58:27Z" itemprop="dateModified"/>
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Got it thanks. When you see the <code>http</code> example calls on the query screen, are you visiting with <code>https</code>? Flask should automatically pick up the protocol scheme from the browser request. So if you visit <code>https</code> then all its URLs will be <code>https</code> also. But if you visit from <code>http</code> they will be <code>http</code>.</p>
<p>Typically you’ll enforce an nginx rule that redirects all <code>http</code> traffic to <code>https</code>.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_5" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/piyoketa.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/piyoketa_avatar.png" tabindex="-1" width="48"/><span itemprop="name">piyoketa</span></a>
</span>
<link href="assets/10359" itemprop="mainEntityOfPage"/>
<link href="assets/bbb0985c8a1ec8c974ea36360202472e009505ef.png" itemprop="image"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-04-23T07:48:30Z" itemprop="datePublished">
                    April 23, 2022,  7:48am
                  </time>
<meta content="2022-04-23T07:50:20Z" itemprop="dateModified"/>
<span itemprop="position">5</span>
</span>
</div>
<div class="post" itemprop="text">
<blockquote>
<p>When you see the <code>http</code> example calls on the query screen, are you visiting with <code>https</code> ?</p>
</blockquote>
<p>Yes, I am visiting via https. I have attached a screenshot.<br/>
<div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/qMnDHyBb7GHcqD5eXav0n6rMslV.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/b/bbb0985c8a1ec8c974ea36360202472e009505ef.png" rel="noopener nofollow ugc" title="特集ページ一覧（外部公開用）-2-2"><img alt="特集ページ一覧（外部公開用）-2-2" data-base62-sha1="qMnDHyBb7GHcqD5eXav0n6rMslV" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/b/bbb0985c8a1ec8c974ea36360202472e009505ef_2_10x10.png" height="220" src="assets/bbb0985c8a1ec8c974ea36360202472e009505ef_2_690x220.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/b/bbb0985c8a1ec8c974ea36360202472e009505ef_2_690x220.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/b/bbb0985c8a1ec8c974ea36360202472e009505ef_2_1035x330.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/b/bbb0985c8a1ec8c974ea36360202472e009505ef_2_1380x440.png 2x" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">特集ページ一覧（外部公開用）-2-2</span><span class="informations">1908×611 61.6 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<blockquote>
<p>Typically you’ll enforce an nginx rule that redirects all <code>http</code> traffic to <code>https</code> .</p>
</blockquote>
<p>Already set up.Some of the specifications in nginx.conf are as follows.</p>
<pre><code class="lang-auto">server {
    listen      80;
    listen [::]:80;
    server_name redash.my.domain;

    location / {
        rewrite ^ https://$host$request_uri? permanent;
    }

}
</code></pre>
<p>By the way, the version of redash is v8.0.0, as the AMI provided by AWS is still v8.</p><aside class="onebox allowlistedgeneric" data-onebox-src="https://redash.io/help/open-source/setup/">
<header class="source">
<img class="site-icon" height="16" src="assets/favicon.ico" width="16"/>
<a href="https://redash.io/help/open-source/setup/" rel="noopener nofollow ugc" target="_blank">redash.io</a>
</header>
<article class="onebox-body">
<div class="aspect-image" style="--aspect-ratio:690/362;"><img class="thumbnail" height="362" src="assets/social-facebook-1200x630.png" width="690"/></div>
<h3><a href="https://redash.io/help/open-source/setup/" rel="noopener nofollow ugc" target="_blank">Setting up a Redash Instance</a></h3>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_6" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/10359" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-04-23T15:58:31Z" itemprop="datePublished">
                    April 23, 2022,  3:58pm
                  </time>
<meta content="2022-04-23T15:58:31Z" itemprop="dateModified"/>
<span itemprop="position">6</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Regarding V8: you can upgrade your existing installation to V10 quite easily. We strongly recommend this as V8 is no longer supported and there are CVE’s which have been patched already in V10.</p>
<div class="youtube-onebox lazy-video-container" data-provider-name="youtube" data-video-id="PoOAra588dA" data-video-title="Upgrade from V8 to V10 Walkthrough">
<a href="https://www.youtube.com/watch?v=PoOAra588dA" rel="noopener" target="_blank">
<img class="youtube-thumbnail" height="" src="assets/maxresdefault.jpg" title="Upgrade from V8 to V10 Walkthrough" width=""/>
</a>
</div>
<hr/>
<p>After that, I wonder if modifying <a href="https://github.com/getredash/redash/blob/e6ebef1e5ab866ce1e706eaee6260edaffdc2bd7/redash/app.py#L20">this line</a> to include <code>x_proto=1</code> will fix the issue. I’m getting that by looking at the <a href="https://werkzeug.palletsprojects.com/en/2.1.x/middleware/proxy_fix/">Werkzeug documentation for ProxyFix</a>. By default, it won’t honour the <code>protocol</code> setting passed in from <code>nginx</code> which may be the root cause of the issue. Although it’s strange we haven’t seen this issue crop up in the past.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_7" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/piyoketa.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/piyoketa_avatar.png" tabindex="-1" width="48"/><span itemprop="name">piyoketa</span></a>
</span>
<link href="assets/10359" itemprop="mainEntityOfPage"/>
<link href="assets/5522671623fcd6fa3d70e9dea766e22f27c69b5d.png" itemprop="image"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-04-24T14:02:44Z" itemprop="datePublished">
                    April 24, 2022,  2:02pm
                  </time>
<meta content="2022-04-24T14:02:44Z" itemprop="dateModified"/>
<span itemprop="position">7</span>
</span>
</div>
<div class="post" itemprop="text">
<blockquote>
<p>Regarding V8: you can upgrade your existing installation to V10 quite easily. We strongly recommend this as V8 is no longer supported and there are CVE’s which have been patched already in V10.</p>
</blockquote>
<p>Thank you, I have updated to v10.1.0.<br/>
I had just built the environment and forgot to update.</p>
<blockquote>
<p>After that, I wonder if modifying <a href="https://github.com/getredash/redash/blob/e6ebef1e5ab866ce1e706eaee6260edaffdc2bd7/redash/app.py#L20" rel="noopener nofollow ugc">this line 2</a> to include x_proto=1 will fix the issue.</p>
</blockquote>
<p>I have tried adding it, but the result seems to be the same.<br/>
I will post a screenshot.</p>
<p><div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/c98i7Xz9LrEJ0XzNANtc17hlEcd.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/5/5522671623fcd6fa3d70e9dea766e22f27c69b5d.png" rel="noopener nofollow ugc" title="特集ページ一覧（外部公開用）"><img alt="特集ページ一覧（外部公開用）" data-base62-sha1="c98i7Xz9LrEJ0XzNANtc17hlEcd" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/5522671623fcd6fa3d70e9dea766e22f27c69b5d_2_10x10.png" height="220" src="assets/5522671623fcd6fa3d70e9dea766e22f27c69b5d_2_690x220.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/5522671623fcd6fa3d70e9dea766e22f27c69b5d_2_690x220.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/5522671623fcd6fa3d70e9dea766e22f27c69b5d_2_1035x330.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/5522671623fcd6fa3d70e9dea766e22f27c69b5d_2_1380x440.png 2x" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">特集ページ一覧（外部公開用）</span><span class="informations">3570×1142 175 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>Reading the <a href="https://werkzeug.palletsprojects.com/en/2.1.x/middleware/proxy_fix/" rel="noopener nofollow ugc">Werkzeug documentation for ProxyFix</a>, the default value of <code>x_proto</code> is 1.<br/>
I guess the behavior is the same without specifying it.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_8" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/10359" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-04-27T15:53:33Z" itemprop="datePublished">
                    April 27, 2022,  3:53pm
                  </time>
<meta content="2022-04-27T15:53:33Z" itemprop="dateModified"/>
<span itemprop="position">8</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Thanks. Can you try setting the <code>REDASH_HOST</code> environment variable to the base url for your instance?</p>
<p>Something like:</p>
<pre><code class="lang-bash">export REDASH_HOST=https://redash.some-domain.tld
</code></pre>
<p>You’ll need to restart your containers for this change to take effect.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_9" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/piyoketa.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/piyoketa_avatar.png" tabindex="-1" width="48"/><span itemprop="name">piyoketa</span></a>
</span>
<link href="assets/10359" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-04-30T09:46:02Z" itemprop="datePublished">
                    April 30, 2022,  9:46am
                  </time>
<meta content="2022-04-30T09:46:02Z" itemprop="dateModified"/>
<span itemprop="position">9</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I restarted the redash server after putting <code>REDASH_HOST</code> in the <code>/opt/redash/env</code>,<br/>
but there was no change in the display.</p>
<p>It seems certain that the environment variable is reflected.</p>
<pre><code class="lang-auto">/opt/redash$ sudo docker-compose exec server /bin/bash
redash@xxxxx:/app$ echo $REDASH_HOST
https://redash.my.domain
</code></pre>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
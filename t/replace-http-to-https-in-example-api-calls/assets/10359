<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Replace &quot;http&quot; to &quot;https&quot; in Example API Calls - Usage Support - Redash Discourse</title>
    <meta name="description" content="I created a self-hosted redash instance on AWS and enabled SSL. 
I can already connect the instance via https. 
However, the URLs displayed in the example API call section begin with ‚Äúhttp://‚Äù instead of ‚Äúhttps://‚Äù. 
how&amp;hellip;">
    <meta name="generator" content="Discourse 3.2.0.beta2-dev - https://github.com/discourse/discourse version 83621ccbe797223b48b624b00ef04f24672e1f03">
<link rel="icon" type="image/png" href="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/1X/01e20869afc0877e3e5aee0f94419b9e9bffa961_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/1X/e1838a8a0c506503a22e0c60e2334374b2895c87_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="https://discuss.redash.io/t/replace-http-to-https-in-example-api-calls/10359" />

<link rel="search" type="application/opensearchdescription+xml" href="https://discuss.redash.io/opensearch.xml" title="Redash Discourse Search">

    <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="checklist"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-adplugin"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-akismet"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-cakeday"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-chat-integration"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-footnote"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-narrative-bot_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-presence_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-solved_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-solved"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/discourse-spoiler-alert_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="discourse-spoiler-alert"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/hosted-site_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="hosted-site"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/poll_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/poll_desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://sjc6.discourse-cdn.com/standard17/stylesheets/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css?__ws=discuss.redash.io" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    <meta id="data-ga-universal-analytics" data-tracking-code="UA-47088186-6" data-json="{&quot;cookieDomain&quot;:&quot;auto&quot;}" data-auto-link-domains="">

  <link rel="preload" href="https://global.discourse-cdn.com/standard17/assets/google-universal-analytics-v3-08add7ec997ab472fcd9f821d32ff7caf4b8b9a5de2ec18ca723a040be07a098.gz.js" as="script">
<script defer src="https://global.discourse-cdn.com/standard17/assets/google-universal-analytics-v3-08add7ec997ab472fcd9f821d32ff7caf4b8b9a5de2ec18ca723a040be07a098.gz.js"></script>


        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Replace &quot;http&quot; to &quot;https&quot; in Example API Calls&#39;" href="https://discuss.redash.io/t/replace-http-to-https-in-example-api-calls/10359.rss" />
    <meta property="og:site_name" content="Redash Discourse" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/e1838a8a0c506503a22e0c60e2334374b2895c87.png" />
<meta property="og:image" content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/e1838a8a0c506503a22e0c60e2334374b2895c87.png" />
<meta property="og:url" content="https://discuss.redash.io/t/replace-http-to-https-in-example-api-calls/10359" />
<meta name="twitter:url" content="https://discuss.redash.io/t/replace-http-to-https-in-example-api-calls/10359" />
<meta property="og:title" content="Replace &quot;http&quot; to &quot;https&quot; in Example API Calls" />
<meta name="twitter:title" content="Replace &quot;http&quot; to &quot;https&quot; in Example API Calls" />
<meta property="og:description" content="I created a self-hosted redash instance on AWS and enabled SSL.  I can already connect the instance via https.  However, the URLs displayed in the example API call section begin with ‚Äúhttp://‚Äù instead of ‚Äúhttps://‚Äù.  how can I replace ‚Äúhttp‚Äù to ‚Äúhttps‚Äù in Example API Calls?  I want to prevent non-technical staff from making mistakes." />
<meta name="twitter:description" content="I created a self-hosted redash instance on AWS and enabled SSL.  I can already connect the instance via https.  However, the URLs displayed in the example API call section begin with ‚Äúhttp://‚Äù instead of ‚Äúhttps://‚Äù.  how can I replace ‚Äúhttp‚Äù to ‚Äúhttps‚Äù in Example API Calls?  I want to prevent non-technical staff from making mistakes." />
<meta property="og:article:section" content="Support" />
<meta property="og:article:section:color" content="BF1E2E" />
<meta property="og:article:section" content="Usage Support" />
<meta property="og:article:section:color" content="AB9364" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 ‚ù§" />
<meta property="article:published_time" content="2022-04-21T08:24:48+00:00" />
<meta property="og:ignore_canonical" content="true" />


    <script type="application/ld+json">{"@context":"http://schema.org","@type":"QAPage","name":"Replace \"http\" to \"https\" in Example API Calls","mainEntity":{"@type":"Question","name":"Replace \"http\" to \"https\" in Example API Calls","text":"I created a self-hosted redash instance on AWS and enabled SSL.\n\nI can already connect the instance via https.\n\nHowever, the URLs displayed in the example API call section begin with ‚Äúhttp://‚Äù instead of ‚Äúhttps://‚Äù.\n\nhow can I replace ‚Äúhttp‚Äù to ‚Äúhttps‚Äù in Example API Calls?\n\nI want to prevent non-te&hellip;","upvoteCount":1,"answerCount":0,"dateCreated":"2022-04-21T08:24:48.659Z","author":{"@type":"Person","name":"Kazuki Chiba"}}}</script>
  </head>
  <body class="crawler ">
    
    <header>
  <a href="/">
    Redash Discourse
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="/t/replace-http-to-https-in-example-api-calls/10359">Replace &quot;http&quot; to &quot;https&quot; in Example API Calls</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://discuss.redash.io/c/support/6" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #BF1E2E'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Support</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://discuss.redash.io/c/support/support-usage/10" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #AB9364'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Usage Support</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Replace &quot;http&quot; to &quot;https&quot; in Example API Calls'>
        <meta itemprop='articleSection' content='Usage Support'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='Redash Discourse'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png'>
          </div>
      </div>

          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/piyoketa'><span itemprop='name'>piyoketa</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/replace-http-to-https-in-example-api-calls/10359">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-04-21T08:24:48Z' class='post-time'>
                    April 21, 2022,  8:24am
                  </time>
                  <meta itemprop='dateModified' content='2022-04-21T08:24:48Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='articleBody'>
              <p>I created a self-hosted redash instance on AWS and enabled SSL.<br>
I can already connect the instance via https.<br>
However, the URLs displayed in the example API call section begin with ‚Äúhttp://‚Äù instead of ‚Äúhttps://‚Äù.</p>
<p>how can I replace ‚Äúhttp‚Äù to ‚Äúhttps‚Äù in Example API Calls?<br>
I want to prevent non-technical staff from making mistakes.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/jesse'><span itemprop='name'>jesse</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/replace-http-to-https-in-example-api-calls/10359">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-04-21T22:14:37Z' class='post-time'>
                    April 21, 2022, 10:14pm
                  </time>
                  <meta itemprop='dateModified' content='2022-04-21T22:14:37Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Welcome to the forum! This ought to happen automatically, since the API call URL‚Äôs on the query screen are generated using Flask‚Äôs built-in <code>url_for</code> function. How did you enable SSL?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/piyoketa'><span itemprop='name'>piyoketa</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/replace-http-to-https-in-example-api-calls/10359">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-04-22T03:18:38Z' class='post-time'>
                    April 22, 2022,  3:18am
                  </time>
                  <meta itemprop='dateModified' content='2022-04-22T03:18:38Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Thanks for your reply!</p>
<p>„ÄêThe steps I enabled SSL„Äë<br>
After creating an instance using the official AMI(<a href="https://console.aws.amazon.com/ec2/home?region=ap-northeast-1#LaunchInstanceWizard:ami=ami-060741a96307668be" rel="noopener nofollow ugc">ami-060741a96307668be</a>), I ran the following article.</p><aside class="onebox githubgist" data-onebox-src="https://gist.github.com/arikfr/64c9ff8d2f2b703d4e44fe9e45a7730e">
  <header class="source">

      <a href="https://gist.github.com/arikfr/64c9ff8d2f2b703d4e44fe9e45a7730e" target="_blank" rel="noopener nofollow ugc">gist.github.com</a>
  </header>

  <article class="onebox-body">
    <h4><a href="https://gist.github.com/arikfr/64c9ff8d2f2b703d4e44fe9e45a7730e" target="_blank" rel="noopener nofollow ugc">https://gist.github.com/arikfr/64c9ff8d2f2b703d4e44fe9e45a7730e</a></h4>

  <h5>README.md</h5>
  <pre><code class="Markdown">1. Make sure the domain you picked points at the IP of your Redash server.
2. Switch to the `root` user (`sudo su`).
3. Create a folder named `nginx` in `/opt/redash`.
4. Create in the nginx folder two additional folders: `certs` and `certs-data`.
5. Create the file `/opt/redash/nginx/nginx.conf` and place the following in it: (replace `example.redashapp.com` with your domain name)
   ```
   upstream redash {
       server redash:5000;
   }
</code></pre>
    This file has been truncated. <a href="https://gist.github.com/arikfr/64c9ff8d2f2b703d4e44fe9e45a7730e" target="_blank" rel="noopener nofollow ugc">show original</a>

<p>
</p>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>In brief, There are follows three steps.<br>
step1. Create <code>nginx.conf</code><br>
step2. Change nginx image configuration in <code>docker-compose.yml</code> to use nginx.conf of step1<br>
step3. Run the <code>certbot</code> command</p>
<p>Is there some environment variable that you forgot to change?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/jesse'><span itemprop='name'>jesse</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/replace-http-to-https-in-example-api-calls/10359">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-04-22T15:58:27Z' class='post-time'>
                    April 22, 2022,  3:58pm
                  </time>
                  <meta itemprop='dateModified' content='2022-04-22T15:58:27Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Got it thanks. When you see the <code>http</code> example calls on the query screen, are you visiting with <code>https</code>? Flask should automatically pick up the protocol scheme from the browser request. So if you visit <code>https</code> then all its URLs will be <code>https</code> also. But if you visit from <code>http</code> they will be <code>http</code>.</p>
<p>Typically you‚Äôll enforce an nginx rule that redirects all <code>http</code> traffic to <code>https</code>.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/piyoketa'><span itemprop='name'>piyoketa</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/replace-http-to-https-in-example-api-calls/10359">

                <link itemprop="image" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/b/bbb0985c8a1ec8c974ea36360202472e009505ef.png">

              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-04-23T07:48:30Z' class='post-time'>
                    April 23, 2022,  7:48am
                  </time>
                  <meta itemprop='dateModified' content='2022-04-23T07:50:20Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <blockquote>
<p>When you see the <code>http</code> example calls on the query screen, are you visiting with <code>https</code> ?</p>
</blockquote>
<p>Yes, I am visiting via https. I have attached a screenshot.<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/b/bbb0985c8a1ec8c974ea36360202472e009505ef.png" data-download-href="/uploads/short-url/qMnDHyBb7GHcqD5eXav0n6rMslV.png?dl=1" title="ÁâπÈõÜ„Éò„Çö„Éº„Ç∑„Çô‰∏ÄË¶ßÔºàÂ§ñÈÉ®ÂÖ¨ÈñãÁî®Ôºâ-2-2" rel="noopener nofollow ugc"><img src="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/b/bbb0985c8a1ec8c974ea36360202472e009505ef_2_690x220.png" alt="ÁâπÈõÜ„Éò„Çö„Éº„Ç∑„Çô‰∏ÄË¶ßÔºàÂ§ñÈÉ®ÂÖ¨ÈñãÁî®Ôºâ-2-2" data-base62-sha1="qMnDHyBb7GHcqD5eXav0n6rMslV" width="690" height="220" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/b/bbb0985c8a1ec8c974ea36360202472e009505ef_2_690x220.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/b/bbb0985c8a1ec8c974ea36360202472e009505ef_2_1035x330.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/b/bbb0985c8a1ec8c974ea36360202472e009505ef_2_1380x440.png 2x" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/b/bbb0985c8a1ec8c974ea36360202472e009505ef_2_10x10.png"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">ÁâπÈõÜ„Éò„Çö„Éº„Ç∑„Çô‰∏ÄË¶ßÔºàÂ§ñÈÉ®ÂÖ¨ÈñãÁî®Ôºâ-2-2</span><span class="informations">1908√ó611 61.6 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<blockquote>
<p>Typically you‚Äôll enforce an nginx rule that redirects all <code>http</code> traffic to <code>https</code> .</p>
</blockquote>
<p>Already set up.Some of the specifications in nginx.conf are as follows.</p>
<pre><code class="lang-auto">server {
    listen      80;
    listen [::]:80;
    server_name redash.my.domain;

    location / {
        rewrite ^ https://$host$request_uri? permanent;
    }

}
</code></pre>
<p>By the way, the version of redash is v8.0.0, as the AMI provided by AWS is still v8.</p><aside class="onebox allowlistedgeneric" data-onebox-src="https://redash.io/help/open-source/setup/">
  <header class="source">
      <img src="https://redash.io/assets/images/favicon.ico" class="site-icon" width="16" height="16">

      <a href="https://redash.io/help/open-source/setup/" target="_blank" rel="noopener nofollow ugc">redash.io</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/362;"><img src="https://redash.io/assets/images/social-facebook-1200x630.png" class="thumbnail" width="690" height="362"></div>

<h3><a href="https://redash.io/help/open-source/setup/" target="_blank" rel="noopener nofollow ugc">Setting up a Redash Instance</a></h3>



  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/jesse'><span itemprop='name'>jesse</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/replace-http-to-https-in-example-api-calls/10359">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-04-23T15:58:31Z' class='post-time'>
                    April 23, 2022,  3:58pm
                  </time>
                  <meta itemprop='dateModified' content='2022-04-23T15:58:31Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Regarding V8: you can upgrade your existing installation to V10 quite easily. We strongly recommend this as V8 is no longer supported and there are CVE‚Äôs which have been patched already in V10.</p>
<div class="youtube-onebox lazy-video-container" data-video-id="PoOAra588dA" data-video-title="Upgrade from V8 to V10 Walkthrough" data-provider-name="youtube">
  <a href="https://www.youtube.com/watch?v=PoOAra588dA" target="_blank" rel="noopener">
    <img class="youtube-thumbnail" src="https://img.youtube.com/vi/PoOAra588dA/maxresdefault.jpg" title="Upgrade from V8 to V10 Walkthrough" width="" height="">
  </a>
</div>

<hr>
<p>After that, I wonder if modifying <a href="https://github.com/getredash/redash/blob/e6ebef1e5ab866ce1e706eaee6260edaffdc2bd7/redash/app.py#L20">this line</a> to include <code>x_proto=1</code> will fix the issue. I‚Äôm getting that by looking at the <a href="https://werkzeug.palletsprojects.com/en/2.1.x/middleware/proxy_fix/">Werkzeug documentation for ProxyFix</a>. By default, it won‚Äôt honour the <code>protocol</code> setting passed in from <code>nginx</code> which may be the root cause of the issue. Although it‚Äôs strange we haven‚Äôt seen this issue crop up in the past.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_7' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/piyoketa'><span itemprop='name'>piyoketa</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/replace-http-to-https-in-example-api-calls/10359">

                <link itemprop="image" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/5/5522671623fcd6fa3d70e9dea766e22f27c69b5d.png">

              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-04-24T14:02:44Z' class='post-time'>
                    April 24, 2022,  2:02pm
                  </time>
                  <meta itemprop='dateModified' content='2022-04-24T14:02:44Z'>
              <span itemprop='position'>7</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <blockquote>
<p>Regarding V8: you can upgrade your existing installation to V10 quite easily. We strongly recommend this as V8 is no longer supported and there are CVE‚Äôs which have been patched already in V10.</p>
</blockquote>
<p>Thank you, I have updated to v10.1.0.<br>
I had just built the environment and forgot to update.</p>
<blockquote>
<p>After that, I wonder if modifying <a href="https://github.com/getredash/redash/blob/e6ebef1e5ab866ce1e706eaee6260edaffdc2bd7/redash/app.py#L20" rel="noopener nofollow ugc">this line 2</a> to include x_proto=1 will fix the issue.</p>
</blockquote>
<p>I have tried adding it, but the result seems to be the same.<br>
I will post a screenshot.</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/5/5522671623fcd6fa3d70e9dea766e22f27c69b5d.png" data-download-href="/uploads/short-url/c98i7Xz9LrEJ0XzNANtc17hlEcd.png?dl=1" title="ÁâπÈõÜ„Éò„Çö„Éº„Ç∑„Çô‰∏ÄË¶ßÔºàÂ§ñÈÉ®ÂÖ¨ÈñãÁî®Ôºâ" rel="noopener nofollow ugc"><img src="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/5522671623fcd6fa3d70e9dea766e22f27c69b5d_2_690x220.png" alt="ÁâπÈõÜ„Éò„Çö„Éº„Ç∑„Çô‰∏ÄË¶ßÔºàÂ§ñÈÉ®ÂÖ¨ÈñãÁî®Ôºâ" data-base62-sha1="c98i7Xz9LrEJ0XzNANtc17hlEcd" width="690" height="220" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/5522671623fcd6fa3d70e9dea766e22f27c69b5d_2_690x220.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/5522671623fcd6fa3d70e9dea766e22f27c69b5d_2_1035x330.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/5522671623fcd6fa3d70e9dea766e22f27c69b5d_2_1380x440.png 2x" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/5522671623fcd6fa3d70e9dea766e22f27c69b5d_2_10x10.png"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">ÁâπÈõÜ„Éò„Çö„Éº„Ç∑„Çô‰∏ÄË¶ßÔºàÂ§ñÈÉ®ÂÖ¨ÈñãÁî®Ôºâ</span><span class="informations">3570√ó1142 175 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>Reading the <a href="https://werkzeug.palletsprojects.com/en/2.1.x/middleware/proxy_fix/" rel="noopener nofollow ugc">Werkzeug documentation for ProxyFix</a>, the default value of <code>x_proto</code> is 1.<br>
I guess the behavior is the same without specifying it.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_8' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/jesse'><span itemprop='name'>jesse</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/replace-http-to-https-in-example-api-calls/10359">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-04-27T15:53:33Z' class='post-time'>
                    April 27, 2022,  3:53pm
                  </time>
                  <meta itemprop='dateModified' content='2022-04-27T15:53:33Z'>
              <span itemprop='position'>8</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Thanks. Can you try setting the <code>REDASH_HOST</code> environment variable to the base url for your instance?</p>
<p>Something like:</p>
<pre><code class="lang-bash">export REDASH_HOST=https://redash.some-domain.tld
</code></pre>
<p>You‚Äôll need to restart your containers for this change to take effect.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_9' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://discuss.redash.io/u/piyoketa'><span itemprop='name'>piyoketa</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://discuss.redash.io/t/replace-http-to-https-in-example-api-calls/10359">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-04-30T09:46:02Z' class='post-time'>
                    April 30, 2022,  9:46am
                  </time>
                  <meta itemprop='dateModified' content='2022-04-30T09:46:02Z'>
              <span itemprop='position'>9</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>I restarted the redash server after putting <code>REDASH_HOST</code> in the <code>/opt/redash/env</code>,<br>
but there was no change in the display.</p>
<p>It seems certain that the environment variable is reflected.</p>
<pre><code class="lang-auto">/opt/redash$ sudo docker-compose exec server /bin/bash
redash@xxxxx:/app$ echo $REDASH_HOST
https://redash.my.domain
</code></pre>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
    </div>






    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='/guidelines' itemprop="url">FAQ/Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='http://redash.io/terms.html' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='http://redash.io/privacy.html' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>

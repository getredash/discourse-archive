<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Scheduled workers in self-hosted Redash is not working</title>
    <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612</link>
    <description>### Issue Summary

We have a Redash instance in AWS that is spun up by using one of the pre-baked ami, that Redash provided us. Migration was okay but the scheduled queries doesn&#39;t seem to execute. Was wondering how I can address that issue. 

### Technical details:

* Redash Version: V8
* Browser/OS: Google Chrome
* How did you install Redash: Using pre-baked AMI</description>
    
    <lastBuildDate>Thu, 09 Dec 2021 17:43:04 +0000</lastBuildDate>
    <category>Self Hosted Redash Support</category>
    <atom:link href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[jesse]]></dc:creator>
        <description><![CDATA[
            <p>Keep an eye on it and post back here if the issue reocurrs.</p>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/37">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/37</link>
        <pubDate>Thu, 09 Dec 2021 17:43:04 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-37</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[michael26]]></dc:creator>
        <description><![CDATA[
            <p>Scheduled queries seems to be running now! After rebooting everything</p>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/36">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/36</link>
        <pubDate>Thu, 09 Dec 2021 14:53:34 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-36</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[michael26]]></dc:creator>
        <description><![CDATA[
            <p>Yeah sorry I thought there would commands to address the scheduled query issue but that doesn’t seem to be the case here and it was just configuring the docker yaml file</p>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/35">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/35</link>
        <pubDate>Wed, 08 Dec 2021 22:22:41 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-35</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[jesse]]></dc:creator>
        <description><![CDATA[
            <p>Yes, if you run <code>docker-compose up</code> it attaches to Docker’s log standard out. If you don’t want to see the messages you can <code>CTRL + C</code> (which will stop the services) and then run <code>docker-compose up -d</code> (the <code>-d</code> means you will be detached from standard out).</p>
<aside class="quote no-group" data-username="michael26" data-post="33" data-topic="9612">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://avatars.discourse-cdn.com/v4/letter/m/c5a1d2/40.png" class="avatar"> michael26:</div>
<blockquote>
<p>There wasn’t anymore commands to be ran</p>
</blockquote>
</aside>
<p>Can you clarify what this means?</p>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/34">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/34</link>
        <pubDate>Wed, 08 Dec 2021 22:17:55 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-34</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[michael26]]></dc:creator>
        <description><![CDATA[
            <p>Yes I seen that the schedulers state are all UP and the scheduler_worker logs were present. There wasn’t anymore commands to be ran and also when I ran this command: <code>docker-compose up --force-recreate --build</code> after making the docker file change, it seems to be stuck on logs being displayed on the console. Is that what is expected ?</p>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/33">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/33</link>
        <pubDate>Wed, 08 Dec 2021 21:49:45 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-33</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[jesse]]></dc:creator>
        <description><![CDATA[
            <p>Have you followed <a href="http://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/10">these debugging steps</a>?</p>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/32">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/32</link>
        <pubDate>Wed, 08 Dec 2021 21:30:36 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-32</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[michael26]]></dc:creator>
        <description><![CDATA[
            <p>Ah yes, it’s more clear now. Here is a screenshot in my case:<br>
</p><div class="lightbox-wrapper"><a class="lightbox" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/a/a49888ae6e98d0331e706658eebc95a38079cc75.png" data-download-href="/uploads/short-url/nu56FqFVdqt4EiegPzaWypAbrw1.png?dl=1" title="image" rel="noopener nofollow ugc"><img src="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/a/a49888ae6e98d0331e706658eebc95a38079cc75_2_690x274.png" alt="image" data-base62-sha1="nu56FqFVdqt4EiegPzaWypAbrw1" width="690" height="274" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/a/a49888ae6e98d0331e706658eebc95a38079cc75_2_690x274.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/a/a49888ae6e98d0331e706658eebc95a38079cc75_2_1035x411.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/a/a49888ae6e98d0331e706658eebc95a38079cc75_2_1380x548.png 2x" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/a/a49888ae6e98d0331e706658eebc95a38079cc75_2_10x10.png"></a></div><br>
I can’t clarify whether the scheduled queries actually run on their set intervals.<p></p>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/31">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/31</link>
        <pubDate>Wed, 08 Dec 2021 20:44:45 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-31</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[jesse]]></dc:creator>
        <description><![CDATA[
            <p>Yeah it can be confusing. Here’s an example that hopefully helps:</p>
<p>In my docker-compose.yml file I defined these three worker services: <code>general_worker</code>, <code>adhoc_worker</code>, and <code>scheduled_worker</code>. The first does not specify any queues to monitor so the default is used (all queues). The second only monitors the <code>queries</code> queue. The third only monitors the <code>scheduled_queries</code> and <code>schemas</code> queues.</p>
<pre data-code-wrap="yml"><code class="lang-nohighlight">  general_worker:
    &lt;&lt;: *redash-service
    command: dev_worker
    depends_on:
      - server
    environment:
      &lt;&lt;: *redash-environment
      PYTHONUNBUFFERED: 0
  adhoc_worker:
    &lt;&lt;: *redash-service
    command: dev_worker
    depends_on:
      - server
    environment:
      &lt;&lt;: *redash-environment
      PYTHONUNBUFFERED: 0
      QUEUES: "queries"
  scheduled_worker:
      &lt;&lt;: *redash-service
      command: dev_worker
      depends_on:
        - server
      environment:
        &lt;&lt;: *redash-environment
        QUEUES: "scheduled_queries,schemas"
</code></pre>
<p>After restarting docker-compose I see the following workers in my Redash admin panel. Observe that the different workers monitor different queues, which match what was defined in docker-compose:</p>
<p></p><div class="lightbox-wrapper"><a class="lightbox" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/4/4b56236bf7e3b3c02f4be1810dafc75d88b80821.jpeg" data-download-href="/uploads/short-url/aKsmnek1uIPR8YbRvkheVEntdpn.jpeg?dl=1" title="CleanShot 2021-12-08 at 13.52.25@2x"><img src="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/4/4b56236bf7e3b3c02f4be1810dafc75d88b80821_2_675x500.jpeg" alt="CleanShot 2021-12-08 at 13.52.25@2x" data-base62-sha1="aKsmnek1uIPR8YbRvkheVEntdpn" width="675" height="500" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/4/4b56236bf7e3b3c02f4be1810dafc75d88b80821_2_675x500.jpeg, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/4/4b56236bf7e3b3c02f4be1810dafc75d88b80821_2_1012x750.jpeg 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/4/4b56236bf7e3b3c02f4be1810dafc75d88b80821_2_1350x1000.jpeg 2x" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/4/4b56236bf7e3b3c02f4be1810dafc75d88b80821_2_10x10.png"></a></div><p></p>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/30">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/30</link>
        <pubDate>Wed, 08 Dec 2021 19:55:35 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-30</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[michael26]]></dc:creator>
        <description><![CDATA[
            <p>Oh okay just got confused when it was still showing in the screenshot… But I’ve made the adjustments and forced restart everything</p>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/29">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/29</link>
        <pubDate>Wed, 08 Dec 2021 19:05:31 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-29</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[jesse]]></dc:creator>
        <description><![CDATA[
            <p>No you should remove it. From the same releases page:</p>
<p>                    <a href="https://user-images.githubusercontent.com/17067911/142930681-49606421-c644-4007-a650-34b6366bc161.png" target="_blank" rel="noopener" class="onebox">
            <img src="https://user-images.githubusercontent.com/17067911/142930681-49606421-c644-4007-a650-34b6366bc161.png" width="598" height="182">
          </a>

</p>
<p>The instruction is to delete the lines in red.</p>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/28">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/28</link>
        <pubDate>Wed, 08 Dec 2021 19:01:45 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-28</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[michael26]]></dc:creator>
        <description><![CDATA[
            <p>I see, okay. Do I need this in my docker file ?<br>
</p><div class="lightbox-wrapper"><a class="lightbox" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/5/53a96fe71731f1bc8e57e297acb23773cd3c736d.jpeg" data-download-href="/uploads/short-url/bW6E8C8n5aKewbzQ5PYzWyLhbpb.jpeg?dl=1" title="image" rel="noopener nofollow ugc"><img src="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/53a96fe71731f1bc8e57e297acb23773cd3c736d_2_379x500.jpeg" alt="image" data-base62-sha1="bW6E8C8n5aKewbzQ5PYzWyLhbpb" width="379" height="500" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/53a96fe71731f1bc8e57e297acb23773cd3c736d_2_379x500.jpeg, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/53a96fe71731f1bc8e57e297acb23773cd3c736d_2_568x750.jpeg 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/53a96fe71731f1bc8e57e297acb23773cd3c736d_2_758x1000.jpeg 2x" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/5/53a96fe71731f1bc8e57e297acb23773cd3c736d_2_10x10.png"></a></div><p></p>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/27">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/27</link>
        <pubDate>Wed, 08 Dec 2021 18:53:54 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-27</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[jesse]]></dc:creator>
        <description><![CDATA[
            <p>Those instructions don’t mention removing the QUEUES for the <code>scheduled_worker</code> but for the <code>scheduler</code>.</p>
<p>[edit] FWIW these same instructions are duplicated on the <a href="https://github.com/getredash/redash/releases/tag/v10.0.0">github release page</a> with screenshots showing exactly what to add and remove <img src="https://emoji.discourse-cdn.com/twitter/100.png?v=10" title=":100:" class="emoji" alt=":100:"></p>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/26">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/26</link>
        <pubDate>Wed, 08 Dec 2021 18:49:51 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-26</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[michael26]]></dc:creator>
        <description><![CDATA[
            <p><a href="http://discuss.redash.io/t/v10-beta-is-ready/8633#:~:text=Under%20services/scheduler/environment%20%2C%20omit%20QUEUES%20and%20WORKERS_COUNT%20(and%20omit%20environment%20altogether%20if%20it%20is%20empty).">Found it here</a></p>
<p>Could be wrong</p>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/25">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/25</link>
        <pubDate>Wed, 08 Dec 2021 18:48:08 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-25</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[jesse]]></dc:creator>
        <description><![CDATA[
            <blockquote>
<p>I thought for V10 we didn’t need to use that ?</p>
</blockquote>
<p>Did you find this somewhere in the docs?</p>
<p>The default guidance is to include it. If you don’t, your <code>scheduled_worker</code> is not actually restricted to scheduled tasks. It will pick up adhoc executions too. Which is fine if that’s what you want, but it’s not obvious.</p>
<p>The reason for the default is to separate the performance of scheduled executions from adhoc executions. So that if your adhoc queue grows it won’t affect scheduled executions or vice versa.</p>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/24">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/24</link>
        <pubDate>Wed, 08 Dec 2021 18:37:36 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-24</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[michael26]]></dc:creator>
        <description><![CDATA[
            <p>I thought for V10 we didn’t need to use that ? When I commented that out I was looking in the scheduler_worker logs and it seemed to be allocating jobs for the threads to execute. Shall I put it back in ?</p>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/23">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/23</link>
        <pubDate>Wed, 08 Dec 2021 18:27:26 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-23</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[jesse]]></dc:creator>
        <description><![CDATA[
            <blockquote>
<p>Is this necessary to in my dockerfile ?</p>
</blockquote>
<p>Aye, it’s in the instructions because without it the general jobs, such as cleaning up old query results, will never run.</p>
<p>Also <img src="https://emoji.discourse-cdn.com/twitter/eyes.png?v=10" title=":eyes:" class="emoji" alt=":eyes:"> You commented out the QUEUES and WORKER COUNT for the scheduled worker. This means your scheduled queries may not execute as expected.</p>
<p>I’d strongly recommend using the default docker-compose.yml file unless you have a strong reason to alter it.</p>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/22">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/22</link>
        <pubDate>Wed, 08 Dec 2021 17:57:44 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-22</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[michael26]]></dc:creator>
        <description><![CDATA[
            <p></p><div class="lightbox-wrapper"><a class="lightbox" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/4/44782c56f42eafe22847d66615bb3352811d3f9a.png" data-download-href="/uploads/short-url/9LHW9eXRePFjsEAGn9UUtXKMViq.png?dl=1" title="image" rel="noopener nofollow ugc"><img src="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/4/44782c56f42eafe22847d66615bb3352811d3f9a_2_690x141.png" alt="image" data-base62-sha1="9LHW9eXRePFjsEAGn9UUtXKMViq" width="690" height="141" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/4/44782c56f42eafe22847d66615bb3352811d3f9a_2_690x141.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/4/44782c56f42eafe22847d66615bb3352811d3f9a_2_1035x211.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/4/44782c56f42eafe22847d66615bb3352811d3f9a.png 2x" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/4/44782c56f42eafe22847d66615bb3352811d3f9a_2_10x10.png"></a></div><br>
Is this necessary to in my dockerfile ? The contents of the docker file is as follows:<p></p>
<pre><code class="lang-auto">version: "2"
x-redash-service: &amp;redash-service
  image: redash/redash:10.1.0.b50633
  depends_on:
    - postgres
    - redis
  env_file: /opt/redash/env
  restart: always
services:
  server:
    &lt;&lt;: *redash-service
    command: server
    ports:
      - "5000:5000"
    environment:
      REDASH_WEB_WORKERS: 4
  scheduler:
    &lt;&lt;: *redash-service
    command: scheduler
  scheduled_worker:
    &lt;&lt;: *redash-service
    command: worker
  #  environment:
  #    QUEUES: "scheduled_queries,schemas"
  #    WORKERS_COUNT: 2
  adhoc_worker:
    &lt;&lt;: *redash-service
    command: worker
    environment:
      QUEUES: "queries"
      WORKERS_COUNT: 2
  redis:
    image: redis:5.0-alpine
    restart: always
  postgres:
    image: postgres:9.6-alpine
    env_file: /opt/redash/env
    volumes:
      - /opt/redash/postgres-data:/var/lib/postgresql/data
    restart: always
  nginx:
    image: redash/nginx:latest
    ports:
      - "80:80"
    depends_on:
      - server
    links:
      - server:redash
    restart: always

</code></pre>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/21">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/21</link>
        <pubDate>Wed, 08 Dec 2021 16:59:11 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-21</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[jesse]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="michael26" data-post="19" data-topic="9612">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://avatars.discourse-cdn.com/v4/letter/m/c5a1d2/40.png" class="avatar"> michael26:</div>
<blockquote>
<pre><code class="lang-auto">  &lt;&lt;: *redash-service
    command: scheduler
</code></pre>
</blockquote>
</aside>
<p>That’s right. With the move to RQ we didn’t need the <code>QUEUES</code> or <code>WORKERS_COUNT</code> environment variables. This service just runs the <code>scheduler</code> command in a loop <img src="https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=10" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/20">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/20</link>
        <pubDate>Wed, 08 Dec 2021 16:45:07 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-20</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[michael26]]></dc:creator>
        <description><![CDATA[
            <p>Yes. I got rid of celery and removed:</p>
<pre><code class="lang-auto"> #  environment:
  #    QUEUES: "scheduled_queries,schemas"
  #    WORKERS_COUNT: 2
</code></pre>
<p>That seemed to have decreased the amount of queues that was in the queued jobs in Redash. My question is do I have to add in the RQ scheduler ? I know there was a user that showed his docker file and under <code>scheduler</code> he only had:</p>
<pre><code class="lang-auto">  &lt;&lt;: *redash-service
    command: scheduler
</code></pre>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/19">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/19</link>
        <pubDate>Wed, 08 Dec 2021 15:59:05 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-19</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[jesse]]></dc:creator>
        <description><![CDATA[
            <p>Did you follow the upgrade instructions on the releases page? It should cover the changes to make to your docker-compose.yml file.</p>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/18">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/18</link>
        <pubDate>Wed, 08 Dec 2021 15:46:58 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-18</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[jesse]]></dc:creator>
        <description><![CDATA[
            <p>My mistake: I put the CLI commands in the wrong order. I’ve updated the post above. The <code>-f --tail 100</code> must go directly after the <code>logs</code> command. The name of the service comes last.</p>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/17">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/17</link>
        <pubDate>Wed, 08 Dec 2021 15:45:51 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-17</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[michael26]]></dc:creator>
        <description><![CDATA[
            <p>After doing some other research I noticed that we don’t need that celery queue. How can I replace it with RQ ?</p>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/16">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/16</link>
        <pubDate>Wed, 08 Dec 2021 15:34:48 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-16</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[michael26]]></dc:creator>
        <description><![CDATA[
            <p><img src="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/1/1ce6055c796193eac9c7e77e77f474f8b68987e0.png" alt="image" data-base62-sha1="47EbzWboqYLhJh1qSSRJXaqbgm4" width="678" height="453"><br>
Not sure if celery id suppose to be there ? Isn’t it RQ now ?</p>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/14">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/14</link>
        <pubDate>Wed, 08 Dec 2021 14:51:01 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-14</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[michael26]]></dc:creator>
        <description><![CDATA[
            <p></p><div class="lightbox-wrapper"><a class="lightbox" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/4/4b518eecf18d581ac911b12285f126347b136cc7.png" data-download-href="/uploads/short-url/aKixZ3z5OXrLB35bp4GvNpvHmSz.png?dl=1" title="image" rel="noopener nofollow ugc"><img src="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/4/4b518eecf18d581ac911b12285f126347b136cc7.png" alt="image" data-base62-sha1="aKixZ3z5OXrLB35bp4GvNpvHmSz" width="690" height="32" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/4/4b518eecf18d581ac911b12285f126347b136cc7_2_10x10.png"></a></div><br>
Can’t seem to execute this command<p></p>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/13">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/13</link>
        <pubDate>Wed, 08 Dec 2021 14:21:21 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-13</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
      <item>
        <title>Scheduled workers in self-hosted Redash is not working</title>
        <dc:creator><![CDATA[michael26]]></dc:creator>
        <description><![CDATA[
            <p>How do I check Redis to see of there’s a new job there, like what are the commands to address that ?</p>
          <p><a href="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/12">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612/12</link>
        <pubDate>Wed, 08 Dec 2021 14:18:39 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9612-12</guid>
        <source url="https://discuss.redash.io/t/scheduled-workers-in-self-hosted-redash-is-not-working/9612.rss">Scheduled workers in self-hosted Redash is not working</source>
      </item>
  </channel>
</rss>

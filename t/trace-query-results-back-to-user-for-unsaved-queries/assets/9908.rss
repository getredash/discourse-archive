<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Trace Query Results Back to User for Unsaved Queries</title>
    <link>https://discuss.redash.io/t/trace-query-results-back-to-user-for-unsaved-queries/9908</link>
    <description>Hello, I am looking to trace all query results back to the user who ran the query. 

For saved queries, I can do this by taking the **id** or the **query_hash** field in the `query_results` table and matching it to the **latest_query_data_id** or **query_hash** field in the `queries` table.

However, for unsaved queries, I haven&#39;t found a similar solution. The `events` table holds the **execute_query** actions, but it does not record a **query_hash** or a **latest_query_by_id** field.

Currently, the best solution I have found is searching the `events` table for any **execute_query** actions with the same **query** and a similar **created_at** value to the query result in the `query_results` table.

Is there a better way to trace query results from unsaved queries back to their user? Possibly a way to find the **query_hash** for unsaved queries? Thank you!</description>
    
    <lastBuildDate>Tue, 25 Jan 2022 15:55:51 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="https://discuss.redash.io/t/trace-query-results-back-to-user-for-unsaved-queries/9908.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Trace Query Results Back to User for Unsaved Queries</title>
        <dc:creator><![CDATA[mains]]></dc:creator>
        <description><![CDATA[
            <p>Hello, I am looking to trace all query results back to the user who ran the query.</p>
<p>For saved queries, I can do this by taking the <strong>id</strong> or the <strong>query_hash</strong> field in the <code>query_results</code> table and matching it to the <strong>latest_query_data_id</strong> or <strong>query_hash</strong> field in the <code>queries</code> table.</p>
<p>However, for unsaved queries, I havenâ€™t found a similar solution. The <code>events</code> table holds the <strong>execute_query</strong> actions, but it does not record a <strong>query_hash</strong> or a <strong>latest_query_by_id</strong> field.</p>
<p>Currently, the best solution I have found is searching the <code>events</code> table for any <strong>execute_query</strong> actions with the same <strong>query</strong> and a similar <strong>created_at</strong> value to the query result in the <code>query_results</code> table.</p>
<p>Is there a better way to trace query results from unsaved queries back to their user? Possibly a way to find the <strong>query_hash</strong> for unsaved queries? Thank you!</p>
          <p><a href="https://discuss.redash.io/t/trace-query-results-back-to-user-for-unsaved-queries/9908/1">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/trace-query-results-back-to-user-for-unsaved-queries/9908/1</link>
        <pubDate>Tue, 25 Jan 2022 15:55:51 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9908-1</guid>
        <source url="https://discuss.redash.io/t/trace-query-results-back-to-user-for-unsaved-queries/9908.rss">Trace Query Results Back to User for Unsaved Queries</source>
      </item>
  </channel>
</rss>

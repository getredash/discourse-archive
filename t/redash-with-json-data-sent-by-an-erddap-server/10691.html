<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>Redash with JSON data sent by an Erddap server</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/redash-with-json-data-sent-by-an-erddap-server/10691">Redash with JSON data sent by an Erddap server</a>
</h1>
<div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/6.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Support</span>
</span>
</a>
<meta content="1" itemprop="position"/>
</span>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content="Redash with JSON data sent by an Erddap server" itemprop="headline"/>
<meta content="Support" itemprop="articleSection"/>
<meta content="" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/libes.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/libes_avatar.png" tabindex="-1" width="48"/><span itemprop="name">libes</span></a>
</span>
<link href="assets/10691" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-06-29T14:16:35Z" itemprop="datePublished">
                    June 29, 2022,  2:16pm
                  </time>
<meta content="2022-07-02T19:18:42Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>hello  I am new to redash and I dont succeed to manage a Json flow sent by an erddap data server</p>
<p>for instance this json URL</p>
<p>url: <a href="https://erddap.osupytheas.fr/erddap/tabledap/meteo_toulon_2ce5.json?time,Temperature&amp;time%3E=2022-06-25T00%3A00%3A00Z&amp;time%3C2022-06-27T00%3A00%3A00Z&amp;.draw=linesAndMarkers&amp;.marker=3%7C5&amp;.color=0x000000&amp;.colorBar=%7C%7C%7C%7C%7C&amp;.bgColor=0xffccccff" rel="noopener nofollow ugc">https://erddap.osupytheas.fr/erddap/tabledap/meteo_toulon_2ce5.json?time,Temperature&amp;time&gt;=2022-06-25T00%3A00%3A00Z&amp;time&lt;2022-06-27T00%3A00%3A00Z&amp;.draw=linesAndMarkers&amp;.marker=3|5&amp;.color=0x000000&amp;.colorBar=|||||&amp;.bgColor=0xffccccff</a></p>
<p>returns this json flow</p>
<pre><code class="lang-json">{
  "table": {
    "columnNames": ["time", "Temperature"],
    "columnTypes": ["String", "float"],
    "columnUnits": ["UTC", null],
    "rows": [
      ["2022-06-25T00:00:00Z", 21.8],
      ["2022-06-25T00:06:00Z", 21.5],
      ["2022-06-25T00:12:00Z", 21.2],
      ["2022-06-25T00:18:00Z", 21],
      ["2022-06-25T00:24:00Z", 20.8],
      ["2022-06-25T00:30:00Z", 20.6],
</code></pre>
<p>and I dont succeed to graph Temperature over DateTime<br/>
I get “rows” as a list of list</p>
<p>is this Json flow compliant with redash requirement,?<br/>
and how can I do to get Datetime as X columns and Temperature as Y</p>
<p>thanks for your help</p>
<p>Maurice</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/10691" itemprop="mainEntityOfPage"/>
<link href="assets/d11bbf2311cd471b3dde90779abc91fc93475691.jpeg" itemprop="image"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-07-02T21:06:37Z" itemprop="datePublished">
                    July 2, 2022,  9:06pm
                  </time>
<meta content="2022-07-02T21:06:37Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Welcome to the forum! That API endpoint doesn’t return data in <a href="https://redash.io/help/data-sources/querying/json-api#Required-Data-Structure">the format Redash understands</a>.</p>
<p>One option you can use is the <a href="https://redash.io/help/data-sources/querying/python">Python query runner</a>, which will let you reformat this data as needed. Or, if you find yourself working with data from this source very often, you could write a custom query runner to do it.</p>
<p>Here’s the python query I used to make it work:</p>
<pre><code class="lang-python">import requests

url = "https://erddap.osupytheas.fr/erddap/tabledap/meteo_toulon_2ce5.json?time,Temperature&amp;time&gt;=2022-06-25T00%3A00%3A00Z&amp;time&lt;2022-06-27T00%3A00%3A00Z&amp;.draw=linesAndMarkers&amp;.marker=3|5&amp;.color=0x000000&amp;.colorBar=|||||&amp;.bgColor=0xffccccff"

data = requests.get(url).json()

result["columns"] = [{"name": name, "type":"string"} for name in data["table"]["columnNames"]]

for row in data["table"]["rows"]:
    this_row = {}
    for colname, value in zip(data["table"]["columnNames"], row):
        this_row = {**this_row, **{colname: value}}
    result["rows"].append(this_row)
</code></pre>
<p><div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/tPReLEdkTc0DpbiJnclNDgB8AvL.jpeg?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/d/d11bbf2311cd471b3dde90779abc91fc93475691.jpeg" title="CleanShot 2022-07-02 at 16.06.21@2x"><img alt="CleanShot 2022-07-02 at 16.06.21@2x" data-base62-sha1="tPReLEdkTc0DpbiJnclNDgB8AvL" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/d/d11bbf2311cd471b3dde90779abc91fc93475691_2_10x10.png" height="500" src="assets/d11bbf2311cd471b3dde90779abc91fc93475691_2_618x500.jpeg" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/d/d11bbf2311cd471b3dde90779abc91fc93475691_2_618x500.jpeg, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/d/d11bbf2311cd471b3dde90779abc91fc93475691_2_927x750.jpeg 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/d/d11bbf2311cd471b3dde90779abc91fc93475691_2_1236x1000.jpeg 2x" width="618"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">CleanShot 2022-07-02 at 16.06.21@2x</span><span class="informations">3236×2618 542 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/libes.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/libes_avatar.png" tabindex="-1" width="48"/><span itemprop="name">libes</span></a>
</span>
<link href="assets/10691" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-07-06T11:06:32Z" itemprop="datePublished">
                    July 6, 2022, 11:06am
                  </time>
<meta content="2022-07-06T11:06:32Z" itemprop="dateModified"/>
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<p>thanks for your answer and solution</p>
<p>I have enabled :</p>
<pre><code class="lang-auto">REDASH_ADDITIONAL_QUERY_RUNNERS: "redash.query_runner.python"
</code></pre>
<p>in the docker-compose.yml file, &amp;&amp;  restarted the docker container (docker-compose stop &amp;&amp;  docker-compose up -d)</p>
<ul>
<li>created a new python-json query with the python code you gave me</li>
</ul>
<p>but when I run the code I get this error</p>
<blockquote>
<p>Error running query: <strong>‘NoneType’ object has no attribute ‘annotate_query’</strong></p>
</blockquote>
<p>what have I omitted?</p>
<p>thanks for your help</p>
<p>Maurice</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_5" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/libes.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/libes_avatar.png" tabindex="-1" width="48"/><span itemprop="name">libes</span></a>
</span>
<link href="assets/10691" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-07-06T11:32:44Z" itemprop="datePublished">
                    July 6, 2022, 11:32am
                  </time>
<meta content="2022-07-06T11:32:44Z" itemprop="dateModified"/>
<span itemprop="position">5</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I have found what seems to be the solution of the error above… It is that we have to include also<br/>
REDASH_ADDITIONAL_QUERY_RUNNERS=redash.query_runner.python<br/>
in the /opt/redash/env file</p>
<p>So now, the python script can run, but with a new syntax error</p>
<blockquote>
<p>Error running query: <strong>&lt;type ‘exceptions.SyntaxError’&gt; invalid syntax (, line 12)</strong></p>
</blockquote>
<p>line12 is:         this_row = {**this_row, **{colname: value}}</p>
<p>do you know where the error comes from? since I have textually copied the code you gave me</p>
<p>In a first step I would want to make your code work, before understanding how it works<br/>
thanks for your help</p>
<p>Maurice</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_6" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/10691" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-07-06T11:48:57Z" itemprop="datePublished">
                    July 6, 2022, 11:48am
                  </time>
<meta content="2022-07-06T12:32:24Z" itemprop="dateModified"/>
<span itemprop="position">6</span>
</span>
</div>
<div class="post" itemprop="text">
<p>What version of Redash do you use? My example assumes you are on Redash V10, which uses Python 3. The syntax error could be because you are on an older version of Redash that uses Python 2.</p>
<p>If that’s the case you can change the code to:</p>
<pre><code class="lang-python"># python2 version
import requests

url = "https://erddap.osupytheas.fr/erddap/tabledap/meteo_toulon_2ce5.json?time,Temperature&amp;time&gt;=2022-06-25T00%3A00%3A00Z&amp;time&lt;2022-06-27T00%3A00%3A00Z&amp;.draw=linesAndMarkers&amp;.marker=3|5&amp;.color=0x000000&amp;.colorBar=|||||&amp;.bgColor=0xffccccff"

data = requests.get(url).json()

result["columns"] = [{"name": name, "type":"string"} for name in data["table"]["columnNames"]]

for row in data["table"]["rows"]:
    this_row = {}
    for colname, value in zip(data["table"]["columnNames"], row):
        this_row = this_row.update({colname: value})
    result["rows"].append(this_row)
</code></pre>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_7" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/libes.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/libes_avatar.png" tabindex="-1" width="48"/><span itemprop="name">libes</span></a>
</span>
<link href="assets/10691" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-07-06T15:50:57Z" itemprop="datePublished">
                    July 6, 2022,  3:50pm
                  </time>
<meta content="2022-07-06T15:50:57Z" itemprop="dateModified"/>
<span itemprop="position">7</span>
</span>
</div>
<div class="post" itemprop="text">
<p>hello<br/>
I got the setup.sh script from here <a class="inline-onebox" href="https://github.com/getredash/setup" rel="noopener nofollow ugc">GitHub - getredash/setup: Setup scripts for Redash Cloud Images</a></p>
<p>so indeed , it seems that from the system status, the version is a v8 ?</p>
<ul>
<li>Version 8.0.0+b32245</li>
</ul>
<p>I dont know which version of python is ran in the container ?</p>
<p>anyway I change the python code from the last you gave me, and now I have this error</p>
<p>Error running query: <strong>&lt;type ‘exceptions.AttributeError’&gt; ‘NoneType’ object has no attribute ‘update’</strong><br/>
from the line</p>
<pre><code class="lang-auto"> this_row = this_row.update({colname: value})
</code></pre>
<p>so maybe I can try to reinstall a last version of redash , if you tell me where to get the last version to get the version 10 ?</p>
<p>thanks</p>
<p>Maurice</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_8" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/libes.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/libes_avatar.png" tabindex="-1" width="48"/><span itemprop="name">libes</span></a>
</span>
<link href="assets/10691" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-07-06T17:52:04Z" itemprop="datePublished">
                    July 6, 2022,  5:52pm
                  </time>
<meta content="2022-07-06T17:54:52Z" itemprop="dateModified"/>
<span itemprop="position">8</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I dont know why the this_row.update({colname: value}) doesn’t work in redash?<br/>
since I tested the same successfully  in a python2 and python3 console</p>
<p>Error running query: <strong>&lt;type ‘exceptions.AttributeError’&gt; ‘NoneType’ object has no attribute ‘update’</strong></p>
<p>So I replaced the .update function, by something equivalent  this_row[colname]=value<br/>
and it seems to work…</p>
<p>I get now my 2 columns “time” and “Temperature” and I can graph temperature over time from an erddap json flow</p>
<p>for row in data[“table”][“rows”]:<br/>
this_row = {}<br/>
for colname, value in zip(data[“table”][“columnNames”], row):<br/>
<span class="hashtag">#this_row</span> = this_row.update({colname: value})<br/>
this_row[colname]=value<br/>
result[“rows”].append(this_row)</p>
<p>In conclusion, if you can tell me how and where to get the redash v10 version? because I think I use the v8 from <a class="inline-onebox" href="https://github.com/getredash/setup" rel="noopener nofollow ugc">GitHub - getredash/setup: Setup scripts for Redash Cloud Images</a><br/>
other question, how can I know the python version which run into the docker redash contianer?</p>
<p>thanks for all<br/>
I begin to better understand</p>
<p>Maurice</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_9" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/10691" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-07-06T18:55:45Z" itemprop="datePublished">
                    July 6, 2022,  6:55pm
                  </time>
<meta content="2022-07-06T18:55:45Z" itemprop="dateModified"/>
<span itemprop="position">9</span>
</span>
</div>
<div class="post" itemprop="text">
<p>For experimentation, I’d recommend following our devloop instructions here: <a href="https://redash.io/help/open-source/dev-guide/docker">https://redash.io/help/open-source/dev-guide/docker</a></p>
<p>You could also just follow the instructions to upgrade your V8 instance to V10: <a class="inline-onebox" href="https://www.youtube.com/watch?v=PoOAra588dA">Upgrade from V8 to V10 Walkthrough - YouTube</a>. Upgrading your V8 instance only takes a few minutes, especially if you used the setup script.</p>
<p>Note that the setup script has not been updated for V10 (yet). So the Docker instructions, or the upgrade path are the only way to install V10 without manually modifying the setup script.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_10" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/libes.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/libes_avatar.png" tabindex="-1" width="48"/><span itemprop="name">libes</span></a>
</span>
<link href="assets/10691" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-07-08T06:58:29Z" itemprop="datePublished">
                    July 8, 2022,  6:58am
                  </time>
<meta content="2022-07-08T06:58:29Z" itemprop="dateModified"/>
<span itemprop="position">10</span>
</span>
</div>
<div class="post" itemprop="text">
<p>many thanks I have updated in redash 10… it works<br/>
thanks for you help on this thread</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="2" itemprop="userInteractionCount"/>
<span class="post-likes">2 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
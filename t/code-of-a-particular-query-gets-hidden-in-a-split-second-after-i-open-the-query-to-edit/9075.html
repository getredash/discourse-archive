<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>Code of a particular query gets hidden in a split second after i open the query to edit</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/code-of-a-particular-query-gets-hidden-in-a-split-second-after-i-open-the-query-to-edit/9075">Code of a particular query gets hidden in a split second after i open the query to edit</a>
</h1>
<div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/6.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Support</span>
</span>
</a>
<meta content="1" itemprop="position"/>
</span>
</div>
<div class="topic-category">
<div class="discourse-tags list-tags">
<a class="discourse-tag" href="https://discuss.redash.io/query_results" rel="tag">query_results</a>
</div>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content="Code of a particular query gets hidden in a split second after i open the query to edit" itemprop="headline"/>
<meta content="Support" itemprop="articleSection"/>
<meta content="query_results" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/Sharath.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/Sharath_avatar.png" tabindex="-1" width="48"/><span itemprop="name">Sharath</span></a>
</span>
<link href="assets/9075" itemprop="mainEntityOfPage"/>
<link href="assets/ce80cc8370ea74db461f85caf5fc74dc0c40106a.png" itemprop="image"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2021-09-13T12:07:16Z" itemprop="datePublished">
                    September 13, 2021, 12:07pm
                  </time>
<meta content="2021-09-13T12:07:16Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>Hi,</p>
<p>I have written a query which is close to 200 lines and added some visualizations. The query and the visualization works fine. But i recently realized that when i try to edit the query, the code gets hidden in a split of a second. The issue is with only this particular query, other queries are accessible &amp; editable.</p>
<p>I have tried checking all options like unpublish, fork etc., but cant unhide the code.</p>
<p><div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/tsOjaIVCHj6VFtCP06ZrCKW00mS.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/c/ce80cc8370ea74db461f85caf5fc74dc0c40106a.png" rel="noopener nofollow ugc" title="Query 1"><img alt="Query 1" data-base62-sha1="tsOjaIVCHj6VFtCP06ZrCKW00mS" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/c/ce80cc8370ea74db461f85caf5fc74dc0c40106a_2_10x10.png" height="153" src="assets/ce80cc8370ea74db461f85caf5fc74dc0c40106a_2_690x153.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/c/ce80cc8370ea74db461f85caf5fc74dc0c40106a_2_690x153.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/c/ce80cc8370ea74db461f85caf5fc74dc0c40106a_2_1035x229.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/c/ce80cc8370ea74db461f85caf5fc74dc0c40106a_2_1380x306.png 2x" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">Query 1</span><span class="informations">1914×426 37.1 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p><div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/fv9nXS2eVAapXBxXS9pY8mrtbDb.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/6/6ca613e130ca689261414b0fd52777ebd2251eb1.png" rel="noopener nofollow ugc" title="Query"><img alt="Query" data-base62-sha1="fv9nXS2eVAapXBxXS9pY8mrtbDb" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/6/6ca613e130ca689261414b0fd52777ebd2251eb1_2_10x10.png" height="324" src="assets/6ca613e130ca689261414b0fd52777ebd2251eb1_2_690x324.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/6/6ca613e130ca689261414b0fd52777ebd2251eb1_2_690x324.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/6/6ca613e130ca689261414b0fd52777ebd2251eb1_2_1035x486.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/6/6ca613e130ca689261414b0fd52777ebd2251eb1_2_1380x648.png 2x" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">Query</span><span class="informations">1908×898 77.1 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/9075" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2021-09-13T17:10:59Z" itemprop="datePublished">
                    September 13, 2021,  5:10pm
                  </time>
<meta content="2021-09-13T17:10:59Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Do you see any errors in your browser console?</p>
<p>Which version of Redash are you using?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/Sharath.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/Sharath_avatar.png" tabindex="-1" width="48"/><span itemprop="name">Sharath</span></a>
</span>
<link href="assets/9075" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2021-09-13T17:53:30Z" itemprop="datePublished">
                    September 13, 2021,  5:53pm
                  </time>
<meta content="2021-09-13T17:53:30Z" itemprop="dateModified"/>
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hi Jesse,</p>
<p>I don’t see any errors. Except the code of this query, all others are completely visible, accessible &amp; editable.</p>
<p>Version : 8.0.0+b32245 (a16f551e)</p>
<p>Regards.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/wyatt.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/wyatt_avatar.png" tabindex="-1" width="48"/><span itemprop="name">wyatt</span></a>
</span>
<link href="assets/9075" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-04-25T15:25:59Z" itemprop="datePublished">
                    April 25, 2022,  3:25pm
                  </time>
<meta content="2022-04-25T15:25:59Z" itemprop="dateModified"/>
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hi <a class="mention" href="/u/jesse">@jesse</a>,</p>
<p>I am seeing the same behavior on some of my team’s queries.</p>
<p>I checked the console log and React appears to be throwing the following error:<br/>
<code>Maximum update depth exceeded. This can happen when a component  repeatedly calls setState inside componentWillUpdate or  componentDidUpdate. React limits the number of nested updates to prevent  infinite loops.</code></p>
<p>Thanks,<br/>
Wyatt</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_5" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/9075" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-04-25T15:27:51Z" itemprop="datePublished">
                    April 25, 2022,  3:27pm
                  </time>
<meta content="2022-04-25T15:27:51Z" itemprop="dateModified"/>
<span itemprop="position">5</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hi <a class="mention" href="/u/wyatt">@wyatt</a> welcome to the forum!</p>
<p>Which version of Redash are you running?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_6" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/wyatt.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/wyatt_avatar.png" tabindex="-1" width="48"/><span itemprop="name">wyatt</span></a>
</span>
<link href="assets/9075" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-04-25T15:36:26Z" itemprop="datePublished">
                    April 25, 2022,  3:36pm
                  </time>
<meta content="2022-04-25T15:36:26Z" itemprop="dateModified"/>
<span itemprop="position">6</span>
</span>
</div>
<div class="post" itemprop="text">
<p><a class="mention" href="/u/jesse">@jesse</a> Thanks for the lightning quick reply!</p>
<p>We are running Redash v8.0.0.</p>
<p>Is this an issue that is solved with an upgrade?<br/>
Besides upgrading, is there a known fix to solve on v8.0? This appears to only affect a couple of queries, but I have yet to investigate the root cause.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_7" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/9075" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-04-25T15:53:43Z" itemprop="datePublished">
                    April 25, 2022,  3:53pm
                  </time>
<meta content="2022-04-25T15:53:43Z" itemprop="dateModified"/>
<span itemprop="position">7</span>
</span>
</div>
<div class="post" itemprop="text">
<p>We don’t have any steps to reproduce this error. So it’s not clear whether upgrading to V10 will fix it or not. I’d encourage anyone to upgrade from V8, though, since it’s no longer supported and is vulnerable to a few CVE’s which are patched in the latest release.</p>
<p>If the issue is limited to a specific group of queries it seems likely that something about the query text causes a crash. There’s just not enough information to say for sure.</p>
<p>Some debug steps you can try:</p>
<ul>
<li>Copy the text of the queries from Redash’s metadata database. Is there anything in common between the two queries that fail? If you don’t have access to the metadata database directly you can also extract the query text from your browser’s network inspector when the query screen loads.</li>
<li>If you paste the text of one of these queries into a brand new query window, does it also crash the query editor?</li>
</ul>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
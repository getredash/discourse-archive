<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>Login with google return 400 error</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/login-with-google-return-400-error/5169">Login with google return 400 error</a>
</h1>
<div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/6.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Support</span>
</span>
</a>
<meta content="1" itemprop="position"/>
</span>
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/support-self-hosted/9.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Self Hosted Redash Support</span>
</span>
</a>
<meta content="2" itemprop="position"/>
</span>
</div>
<div class="topic-category">
<div class="discourse-tags list-tags">
<a class="discourse-tag" href="https://discuss.redash.io/in-progress" rel="tag">in-progress</a>
</div>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content="Login with google return 400 error" itemprop="headline"/>
<meta content="Self Hosted Redash Support" itemprop="articleSection"/>
<meta content="in-progress" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/zhongshaoming1.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/zhongshaoming1_avatar.png" tabindex="-1" width="48"/><span itemprop="name">zhongshaoming1</span></a>
</span>
<link href="https://discuss.redash.io/t/login-with-google-return-400-error/5169" itemprop="mainEntityOfPage"/>
<link href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/9/9f95222054a6c1a69cc11d70afe48137e827003a.png" itemprop="image"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-12-12T03:59:32Z" itemprop="datePublished">
                    December 12, 2019,  3:59am
                  </time>
<meta content="2019-12-12T04:08:35Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<h3>
<a class="anchor" href="#issue-summary-1" name="issue-summary-1"></a>Issue Summary</h3>
<p>When I login with google failed with 400 error.<br/>
<strong>400.</strong> <ins>That’s an error.</ins></p>
<p><strong>Error: invalid_request</strong></p>
<p>device_id and device_name are required for private IP: <a href="http://10.12.5.54:5000/oauth/google_callback" rel="noopener nofollow ugc">http://10.12.5.54:5000/oauth/google_callback</a></p>
<p><div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/mLJqVY9ugrSukHNDi8O7nQdog8W.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/9/9f95222054a6c1a69cc11d70afe48137e827003a.png" rel="noopener nofollow ugc" title="image"><img alt="image" data-base62-sha1="mLJqVY9ugrSukHNDi8O7nQdog8W" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/9/9f95222054a6c1a69cc11d70afe48137e827003a_2_10x10.png" height="500" src="assets/9f95222054a6c1a69cc11d70afe48137e827003a_2_558x500.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/9/9f95222054a6c1a69cc11d70afe48137e827003a_2_558x500.png, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/9/9f95222054a6c1a69cc11d70afe48137e827003a.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/9/9f95222054a6c1a69cc11d70afe48137e827003a.png 2x" width="558"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">586×525 28 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div><br/>
<div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/mTj6aafjrrdNS0qH9NLKWhQCQnP.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/a/a070590c56df248bd83f6fa622a6c542cc84a905.png" rel="noopener nofollow ugc" title="image"><img alt="image" data-base62-sha1="mTj6aafjrrdNS0qH9NLKWhQCQnP" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/a/a070590c56df248bd83f6fa622a6c542cc84a905_2_10x10.png" height="500" src="assets/a070590c56df248bd83f6fa622a6c542cc84a905_2_612x500.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/a/a070590c56df248bd83f6fa622a6c542cc84a905_2_612x500.png, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/a/a070590c56df248bd83f6fa622a6c542cc84a905.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/a/a070590c56df248bd83f6fa622a6c542cc84a905.png 2x" width="612"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">624×509 46 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div><br/>
Is it the setting error of the google credentials? Is the ip addr must be Public IP？<br/>
Thanks a lot!</p>
<h3>
<a class="anchor" href="#technical-details-2" name="technical-details-2"></a>Technical details:</h3>
<ul>
<li>Redash Version: V8.0.0</li>
<li>Browser/OS: Chrome/Ubuntu</li>
<li>How did you install Redash: Docker</li>
</ul>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="https://discuss.redash.io/t/login-with-google-return-400-error/5169" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-12-12T05:57:49Z" itemprop="datePublished">
                    December 12, 2019,  5:57am
                  </time>
<meta content="2019-12-12T05:57:49Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>You can’t use 127.0.0.1 in your Google settings. This would point back to <em>the server in Google’s data center</em>. If you are running Redash on your local machine then you won’t be able to login with Google without some dubious middleware like ngrok or similar.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="2" itemprop="userInteractionCount"/>
<span class="post-likes">2 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/griffinator76.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/griffinator76_avatar.png" tabindex="-1" width="48"/><span itemprop="name">griffinator76</span></a>
</span>
<link href="https://discuss.redash.io/t/login-with-google-return-400-error/5169" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-12-17T21:51:20Z" itemprop="datePublished">
                    December 17, 2019,  9:51pm
                  </time>
<meta content="2019-12-17T21:51:20Z" itemprop="dateModified"/>
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Just to add to susodapop’s answer:</p>
<p>The address 127.0.0.1 is translated by computers as <strong>localhost</strong> <a href="https://en.wikipedia.org/wiki/Localhost" rel="nofollow noopener">https://en.wikipedia.org/wiki/Localhost</a><br/>
Hence if you put this in as the redirect address in the OAuth settings in your Google project, you’re telling the Google server  to redirect users back to itself, when what you want to it to do it redirect users to the server actually running Redash. Therefore you need to have Redash running on an address (ideally with a DNS name like <code>https://redash.acme.com</code>) that your browser is going to be able to resolve to correctly connect to Redash after authenticating with Google.</p>
<p>See <a href="https://redash.io/help/open-source/setup" rel="nofollow noopener">https://redash.io/help/open-source/setup</a> and also <a href="https://redash.io/help/open-source/admin-guide/google-developer-account-setup" rel="nofollow noopener">https://redash.io/help/open-source/admin-guide/google-developer-account-setup</a></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>Configure Oracle in Redash - Help!</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/configure-oracle-in-redash-help/663">Configure Oracle in Redash - Help!</a>
</h1>
<div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/6.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Support</span>
</span>
</a>
<meta content="1" itemprop="position"/>
</span>
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/support-self-hosted/9.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Self Hosted Redash Support</span>
</span>
</a>
<meta content="2" itemprop="position"/>
</span>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content="Configure Oracle in Redash - Help!" itemprop="headline"/>
<meta content="Self Hosted Redash Support" itemprop="articleSection"/>
<meta content="" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/fayol.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/fayol_avatar.png" tabindex="-1" width="48"/><span itemprop="name">fayol</span></a>
</span>
<link href="https://discuss.redash.io/t/configure-oracle-in-redash-help/663" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2017-05-17T20:05:28Z" itemprop="datePublished">
                    May 17, 2017,  8:05pm
                  </time>
<meta content="2017-05-17T20:05:28Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>Hi all,<br/>
i’m new here and very excited to begin exploring Redash. My main datasource is an Oracle database 12c. I’m not very experienced with linux so i had choosed Linux Mint 64, ubuntu based with i’m more familiar, and installed Redash, made the update to 1.0.3, and Oracle instant client.<br/>
Acessing with sqlplus everything ok, no problems.<br/>
Installed the cx_Oracle python package and from that point i’m trying everything, but oracle never become available as datatype source.<br/>
Also tryed on .env to add:<br/>
export REDASH_ADDITIONAL_QUERY_RUNNERS=redash.query_runner.oracle<br/>
and restart the services, with no success either…<br/>
Am I missing some documentation? I’m not lazy to read manuals, but i can’t find any more information.<br/>
Hopping anyone can help me…<br/>
Regrets,<br/>
Fayol</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
<div class="crawler-linkback-list" itemscope="" itemtype="http://schema.org/ItemList">
<div itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a href="http://discuss.redash.io/t/oracle-query-is-waiting-and-isnt-providing-result/2213" itemprop="url">Oracle query is waiting and isn't providing result</a>
<meta content="1" itemprop="position"/>
</div>
<div itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a href="http://discuss.redash.io/t/installed-redash-on-centos-but-found-no-oracle-data-source-connection-is-the-installation-version-of-redash-wrong/4157/2" itemprop="url">Installed redash on centos, but found no oracle data source connection.Is the installation version of redash wrong?</a>
<meta content="2" itemprop="position"/>
</div>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/arikfr.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/arikfr_avatar.png" tabindex="-1" width="48"/><span itemprop="name">arikfr</span></a>
</span>
<link href="https://discuss.redash.io/t/configure-oracle-in-redash-help/663" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2017-05-17T20:18:15Z" itemprop="datePublished">
                    May 17, 2017,  8:18pm
                  </time>
<meta content="2017-05-17T20:18:15Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Assuming you installed it using our script, run <code>sudo -u redash bin/run ./manage.py shell</code> from <code>/opt/redash/current</code>. In the shell that will open, try running <code>import cx_Oracle</code>.</p>
<p>I assume this will end up with an error, and it should help you understand why Oracle doesn’t show up in the menu.</p>
<p>If this doesn’t end up with an error, then make sure you restarted the web server after changing the <code>.env</code> file.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/mat.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/mat_avatar.png" tabindex="-1" width="48"/><span itemprop="name">mat</span></a>
</span>
<link href="https://discuss.redash.io/t/configure-oracle-in-redash-help/663" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2017-05-22T11:52:18Z" itemprop="datePublished">
                    May 22, 2017, 11:52am
                  </time>
<meta content="2017-05-22T11:52:18Z" itemprop="dateModified"/>
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<aside class="quote no-group" data-post="1" data-topic="663" data-username="fayol">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="https://avatars.discourse-cdn.com/v4/letter/f/9d8465/40.png" width="20"/> fayol:</div>
<blockquote>
<p>sqlplus</p>
</blockquote>
</aside>
<p>Hi fayol,</p>
<p>Make sure you have the Instant client basic AND the SDK installed. It needs both packages.<br/>
Also, have you properly declared the path? It should be something similar to this:<br/>
export LD_LIBRARY_PATH=/usr/lib/oracle/12.1/client/lib:$LD_LIBRARY_PATH (make sure to adjust it to your version of the client and your proper path)</p>
<p>Also, in your .env file, in case you have multiple additional runners, they should be separated by a “,”, in my example, I have Python as anoter runner:<br/>
export REDASH_ADDITIONAL_QUERY_RUNNERS=redash.query_runner.oracle,redash.query_runner.python</p>
<p>Hope it helps!</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
<div class="crawler-linkback-list" itemscope="" itemtype="http://schema.org/ItemList">
<div itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a href="http://discuss.redash.io/t/add-oracle-as-data-source-to-self-hosted-version-of-redash/6509/2" itemprop="url">Add Oracle as Data Source to Self hosted version of Redash</a>
<meta content="1" itemprop="position"/>
</div>
</div>
</div>
<div class="topic-body crawler-post" id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/fayol.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/fayol_avatar.png" tabindex="-1" width="48"/><span itemprop="name">fayol</span></a>
</span>
<link href="https://discuss.redash.io/t/configure-oracle-in-redash-help/663" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2017-05-22T20:25:57Z" itemprop="datePublished">
                    May 22, 2017,  8:25pm
                  </time>
<meta content="2017-05-22T20:25:57Z" itemprop="dateModified"/>
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Thank you Mat and thank you Arik!</p>
<p><span class="mention">@Arik</span>, of course i used your scripts!</p>
<p>Your assumption is correct. It ended with an error.</p>
<blockquote>
<blockquote>
<blockquote>
<p>import cx_Oracle<br/>
Traceback (most recent call last):<br/>
File “”, line 1, in <br/>
File “build/bdist.linux-x86_64/egg/cx_Oracle.py”, line 7, in <br/>
File “build/bdist.linux-x86_64/egg/cx_Oracle.py”, line 6, in <strong>bootstrap</strong><br/>
DatabaseError: DPI-1047: Oracle Client library cannot be loaded: libclntsh.so: cannot open shared object file: No such file or directory. See <a href="https://oracle.github.io/odpi/doc/installation.html" rel="nofollow noopener">https://oracle.github.io/odpi/doc/installation.html</a> for help</p>
</blockquote>
</blockquote>
</blockquote>
<p>but i’m stuck in here…</p>
<p>I’d installed this Oracle packages:<br/>
oracle-instantclient12.2-devel-12.2.0.1.0-1.x86_64.rpm<br/>
oracle-instantclient12.2-sqlplus-12.2.0.1.0-1.x86_64.rpm<br/>
oracle-instantclient12.2-basic-12.2.0.1.0-1.x86_64.rpm</p>
<p>and added this lines to my environment file /etc/bash.bashrc</p>
<h1>set PATH so it includes user’s private bin directories</h1>
<p>PATH="$HOME/bin:$HOME/.local/bin:$PATH"<br/>
export ORACLE_HOME=/usr/lib/oracle/12.2/client64<br/>
export LD_LIBRARY_PATH=/usr/lib/oracle/12.2/client64/lib/:$LD_LIBRARY_PATH<br/>
export PATH=$PATH:$ORACLE_HOME/bin</p>
<p>this note seems important:<br/>
when i add the line:<br/>
export REDASH_ADDITIONAL_QUERY_RUNNERS=redash.query_runner.oracle<br/>
to .env<br/>
and restart the services, i’m getting 502 Bad Gateway nginx<br/>
commenting the line, redash starts ok.</p>
<p>my full .env is:<br/>
export REDASH_LOG_LEVEL=“INFO”<br/>
export REDASH_REDIS_URL=redis://localhost:6379/0<br/>
export REDASH_DATABASE_URL=“postgresql:///redash”<br/>
export REDASH_COOKIE_SECRET=dfLEvzLiLtDOLh1OuzJOfV5wvmOv8U8D<br/>
<span class="hashtag">#export</span> REDASH_ADDITIONAL_QUERY_RUNNERS=redash.query_runner.oracle</p>
<p>thanks for your support.</p>
<p>best regards,<br/>
fayol</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_5" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/mat.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/mat_avatar.png" tabindex="-1" width="48"/><span itemprop="name">mat</span></a>
</span>
<link href="https://discuss.redash.io/t/configure-oracle-in-redash-help/663" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2017-06-23T08:18:30Z" itemprop="datePublished">
                    June 23, 2017,  8:18am
                  </time>
<meta content="2017-06-23T08:18:30Z" itemprop="dateModified"/>
<span itemprop="position">5</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hi Fayol,<br/>
It seems that your cx_oracle is not properly installed.<br/>
Just to be sure, at this stage, I would test my oracle client, see if it’s properly installed, and even go further by testing a query with the sqlplus client, but that’s another challenge by itself, as you will have to create a DB connection.<br/>
Then find a way to validate the proper environment path for the Oracle client. This is a very tricky part, user and OS dependent.<br/>
Finally, re-install cx_Oracle or find alternate ways to manually install it.<br/>
Good luck!</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_6" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/mehanizm.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/mehanizm_avatar.png" tabindex="-1" width="48"/><span itemprop="name">mehanizm</span></a>
</span>
<link href="https://discuss.redash.io/t/configure-oracle-in-redash-help/663" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2017-07-10T10:17:58Z" itemprop="datePublished">
                    July 10, 2017, 10:17am
                  </time>
<meta content="2017-07-10T10:17:58Z" itemprop="dateModified"/>
<span itemprop="position">6</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hi fayol,<br/>
have you solved the problem?</p>
<p>I have the same. If I try to import cx_Oracle from the basic system Python interpreter – it is fine.<br/>
But in case of the redash shell it cause the same mistake as you described.</p>
<p>If you have any idea how to solve that, please, give some advice.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_7" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/doddjc.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/doddjc_avatar.png" tabindex="-1" width="48"/><span itemprop="name">doddjc</span></a>
</span>
<link href="https://discuss.redash.io/t/configure-oracle-in-redash-help/663" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2017-08-25T21:50:58Z" itemprop="datePublished">
                    August 25, 2017,  9:50pm
                  </time>
<meta content="2017-08-25T21:50:58Z" itemprop="dateModified"/>
<span itemprop="position">7</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hey fayol and others who have stumbled upon this thread trying to configure Oracle for Redash but not having any luck.  After using this post as a guideline and doing some troubleshooting I finally got redash working with oracle! Here is what I did below so that you can replicate it/use it to get Oracle working with Redash yourself.</p>
<p>I’m going to make some general assumptions that you are using a redash AMI and that you have properly installed the oracle client on the AMI (I personally recommend using the rpm, but the zip file works as well as long as you reference the correct path).  For my case, I installed oracle client 11.2.0.4 with the basic, SDK, and SQL plus packages.</p>
<p>Here’s where it can get tricky, as of my post now, Redash uses the cx_Oracle module 5.2 which if you run the command “<em>import</em> cx_Oracle” after using “python pip -m install cx_Oracle” you will get the latest version which is cx_Oracle 6.0. Personally, I could not get this version to work with my environment and got the error “DPI-1054: connection cannot be closed when open statements or LOBs exist” which is specific to cx_Oracle release 6.0. The workaround is to download cx_oracle version 5.2 from the link I provide here: <a href="https://pypi.python.org/packages/46/a3/59c2510c3c3440db528b74887ed869b557fb6e17a8398ca4e5caee64f377/cx_Oracle-5.2.tar.gz#md5=6a49e1aa0e5b48589f8edfe5884ff5a5" rel="nofollow noopener">https://pypi.python.org/packages/46/a3/59c2510c3c3440db528b74887ed869b557fb6e17a8398ca4e5caee64f377/cx_Oracle-5.2.tar.gz#md5=6a49e1aa0e5b48589f8edfe5884ff5a5</a></p>
<p>Then once downloaded, use the command <strong>tar -zxvf cx_Oracle-5.2.tar.gz</strong> to access the cx_Oracle repository.</p>
<p>cd to cx_Oracle-5.2/ and run the command <strong>sudo python setup.py build &amp;&amp; sudo python setup.py install</strong> (Ignore any warning messages or other messages generated here). Also, note that if you have already installed the cx_Oracle package it will give you an error when trying to install the new package on top.  My advice is to uninstall cx_Oracle and reinstall with 5.2.</p>
<p>Another interesting thing to note is that building the cx_Oracle 5.2 version will require the use of a python egg cache folder for redash to use to store metadata.  I created one in the /tmp/ directory using <strong>sudo mkdir python-eggs</strong>. NOTE* You must also give this directory the correct permissions for redash to have write permissions.  Use chmod for this.</p>
<p>Now you are almost finished configuring your environment to use Oracle! cd to the <strong>/opt/redash</strong> directory and use <strong>sudo nano .env</strong> to edit the environment variables.  You will need to export the LD_LIBRARY_PATH, PYTHON_EGG_CACHE directory and the REDASH_ADDITIONAL_QUERY_RUNNERS.  Below is what I added in my <strong>.env</strong> file.</p>
<p>export LD_LIBRARY_PATH=/usr/lib/oracle/11.2/client64/lib/<br/>
export PYTHON_EGG_CACHE=/tmp/python-eggs<br/>
export REDASH_ADDITIONAL_QUERY_RUNNERS=redash.query_runner.oracle</p>
<p>Now simply restart the service using <strong>sudo supervisorctl restart all</strong> and log into your redash AMI. Put in the correct database information for your Oracle database and viola! You should now be able to test connection, and it should be successful!</p>
<p>If it is not successful, or if you are getting a 502 bad gateway error, check the log files using <strong>sudo tail -F /var/log/supervisor/*.log</strong> for further info.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
<div class="crawler-linkback-list" itemscope="" itemtype="http://schema.org/ItemList">
<div itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a href="http://discuss.redash.io/t/centos-7-enabled-setup-sh/3048/7" itemprop="url">CentOS 7 enabled setup.sh</a>
<meta content="2" itemprop="position"/>
</div>
</div>
</div>
<div class="topic-body crawler-post" id="post_8" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/ivorstar.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/ivorstar_avatar.png" tabindex="-1" width="48"/><span itemprop="name">ivorstar</span></a>
</span>
<link href="https://discuss.redash.io/t/configure-oracle-in-redash-help/663" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2017-09-01T02:28:42Z" itemprop="datePublished">
                    September 1, 2017,  2:28am
                  </time>
<meta content="2017-09-01T02:28:42Z" itemprop="dateModified"/>
<span itemprop="position">8</span>
</span>
</div>
<div class="post" itemprop="text">
<p>thanks to all above.</p>
<p>I have solved my “import cx_Oracle” problem inspired by this post.</p>
<ol>
<li>
<p>run<br/>
<code>pip install cx_Oracle==5.2.1</code><br/>
to install an older version of cx_Oracle.</p>
</li>
<li>
<p>LD_LIBRARY_PATH doesn’t work on my ubuntu server unreasonably, so I run<br/>
<code>echo /usr/lib/oracle/12.2/client64/lib &gt; /etc/ld.so.conf.d/oracle.conf</code><br/>
(adjust the path to your environment)</p>
</li>
</ol>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_9" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/AmiraShaker.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/AmiraShaker_avatar.png" tabindex="-1" width="48"/><span itemprop="name">AmiraShaker</span></a>
</span>
<link href="https://discuss.redash.io/t/configure-oracle-in-redash-help/663" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-05-29T08:14:38Z" itemprop="datePublished">
                    May 29, 2019,  8:14am
                  </time>
<meta content="2019-05-29T08:14:38Z" itemprop="dateModified"/>
<span itemprop="position">9</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I add python as data source in redash<br/>
i add this line at the end of env file<br/>
export REDASH_ADDITIONAL_QUERY_RUNNERS=redash.query_runner.python<br/>
and add this in docker-compose.yml file in the environment of sevices<br/>
REDASH_ADDITIONAL_QUERY_RUNNERS: “redash.query_runner.python”<br/>
then python viewed as data source but the problem that how to import python library such as “mysql.connector” to connect to mysql using python code<br/>
thanks <a class="mention" href="/u/mat">@mat</a></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_10" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/mat.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/mat_avatar.png" tabindex="-1" width="48"/><span itemprop="name">mat</span></a>
</span>
<link href="https://discuss.redash.io/t/configure-oracle-in-redash-help/663" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-05-29T08:37:29Z" itemprop="datePublished">
                    May 29, 2019,  8:37am
                  </time>
<meta content="2019-05-29T08:37:29Z" itemprop="dateModified"/>
<span itemprop="position">10</span>
</span>
</div>
<div class="post" itemprop="text">
<aside class="quote no-group" data-post="9" data-topic="663" data-username="AmiraShaker">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="https://avatars.discourse-cdn.com/v4/letter/a/c2a13f/40.png" width="20"/> AmiraShaker:</div>
<blockquote>
<p>ine at the end of</p>
</blockquote>
</aside>
<p>Not quite sure what your question exactly is and how I can help here? The original threat was about a connection to an Oracle database. Can you elaborate?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_11" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/AmiraShaker.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/AmiraShaker_avatar.png" tabindex="-1" width="48"/><span itemprop="name">AmiraShaker</span></a>
</span>
<link href="https://discuss.redash.io/t/configure-oracle-in-redash-help/663" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-05-29T08:43:07Z" itemprop="datePublished">
                    May 29, 2019,  8:43am
                  </time>
<meta content="2019-05-29T08:43:07Z" itemprop="dateModified"/>
<span itemprop="position">11</span>
</span>
</div>
<div class="post" itemprop="text">
<p>i add python as data source in redash with no error<br/>
but when i wrote code there is a problem in importing python library<br/>
this is my code<br/>
def fun():<br/>
import mysql.connector<br/>
mydb = mysql.connector.connect(<br/>
host=“localhost”,<br/>
user=“root”,<br/>
passwd=“123speakol”,<br/>
database=“testing”   )<br/>
mycursor = mydb.cursor()<br/>
mycursor.execute(“select hour,sum(temperature) as temperature ,sum(wind_speed) as wind_speed from weatherdaat group by hour”)<br/>
myresult = mycursor.fetchall()<br/>
for x in myresult:<br/>
print(x[0],x[1],x[2])<br/>
fun()</p>
<p>this get an error says:<br/>
Error running query: <strong>&lt;type ‘exceptions.AttributeError’&gt; ‘module’ object has no attribute 'connector’</strong><br/>
<a class="mention" href="/u/mat">@mat</a></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_12" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/mat.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/mat_avatar.png" tabindex="-1" width="48"/><span itemprop="name">mat</span></a>
</span>
<link href="https://discuss.redash.io/t/configure-oracle-in-redash-help/663" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2019-05-29T09:08:58Z" itemprop="datePublished">
                    May 29, 2019,  9:08am
                  </time>
<meta content="2019-05-29T09:08:58Z" itemprop="dateModified"/>
<span itemprop="position">12</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Make sure to read the documentation first and I would advise to post your question in the proper thread. Someone has written a good starting point on using python in redash here <a href="https://www.ehfeng.com/redash-python-functions/" rel="nofollow noopener">https://www.ehfeng.com/redash-python-functions/</a><br/>
That’s all I can do for you, sorry!</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
<div class="crawler-linkback-list" itemscope="" itemtype="http://schema.org/ItemList">
<div itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a href="http://discuss.redash.io/t/need-to-install-oracle-driver-in-redash-for-oracle-database/9496" itemprop="url">Need to install Oracle Driver in Redash for Oracle database</a>
<meta content="2" itemprop="position"/>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>An error occurs Redash Docker on startup</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/an-error-occurs-redash-docker-on-startup/10608">An error occurs Redash Docker on startup</a>
</h1>
<div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/6.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Support</span>
</span>
</a>
<meta content="1" itemprop="position"/>
</span>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content="An error occurs Redash Docker on startup" itemprop="headline"/>
<meta content="Support" itemprop="articleSection"/>
<meta content="" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/Tony.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/Tony_avatar.png" tabindex="-1" width="48"/><span itemprop="name">Tony</span></a>
</span>
<link href="assets/10608" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-06-10T07:37:47Z" itemprop="datePublished">
                    June 10, 2022,  7:37am
                  </time>
<meta content="2022-06-14T17:29:52Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>Hi,</p>
<p>When I started Redash docker-compose up:</p>
<pre><code class="lang-bash">PostgreSQL Database directory appears to contain a database; Skipping initialization
redash-master-postgres-1   | 
redash-master-postgres-1   | LOG:  database system was shut down at 2022-06-09 14:29:51 UTC
redash-master-postgres-1   | LOG:  MultiXact member wraparound protections are now enabled
redash-master-postgres-1   | LOG:  database system is ready to accept connections
redash-master-postgres-1   | LOG:  autovacuum launcher started
redash-master-email-1      | MailDev webapp running at http://0.0.0.0:80
redash-master-email-1      | MailDev SMTP Server running at 0.0.0.0:25
redash-master-worker-1     | Starting dev RQ worker...
redash-master-scheduler-1  | Starting dev RQ scheduler...
redash-master-server-1     | Traceback (most recent call last):
redash-master-server-1     |   File "/app/manage.py", line 6, in &lt;module&gt;
redash-master-server-1     |     from redash.cli import manager
redash-master-server-1     |   File "/app/redash/__init__.py", line 56, in &lt;module&gt;
redash-master-server-1     |     import_query_runners(settings.QUERY_RUNNERS)
redash-master-server-1     |   File "/app/redash/query_runner/__init__.py", line 438, in import_query_runners
redash-master-server-1     |     __import__(runner_import)
redash-master-server-1     |   File "/app/redash/query_runner/big_query.py", line 17, in &lt;module&gt;
redash-master-server-1     |     import apiclient.errors
redash-master-server-1     |   File "/usr/local/lib/python3.7/site-packages/apiclient/__init__.py", line 8, in &lt;module&gt;
redash-master-server-1     |     from googleapiclient import discovery
redash-master-server-1     |   File "/usr/local/lib/python3.7/site-packages/googleapiclient/discovery.py", line 56, in &lt;module&gt;
redash-master-server-1     |     from googleapiclient import _auth
redash-master-server-1     |   File "/usr/local/lib/python3.7/site-packages/googleapiclient/_auth.py", line 33, in &lt;module&gt;
redash-master-server-1     |     import oauth2client.client
redash-master-server-1     |   File "/usr/local/lib/python3.7/site-packages/oauth2client/client.py", line 45, in &lt;module&gt;
redash-master-server-1     |     from oauth2client import crypt
redash-master-server-1     |   File "/usr/local/lib/python3.7/site-packages/oauth2client/crypt.py", line 55, in &lt;module&gt;
redash-master-server-1     |     from oauth2client import _pycrypto_crypt
redash-master-server-1     |   File "/usr/local/lib/python3.7/site-packages/oauth2client/_pycrypto_crypt.py", line 17, in &lt;module&gt;
redash-master-server-1     |     from Crypto.PublicKey import RSA
redash-master-server-1     |   File "/usr/local/lib/python3.7/site-packages/Crypto/PublicKey/RSA.py", line 585
redash-master-server-1     |     except ValueError, IndexError:
redash-master-server-1     |                      ^
redash-master-server-1     | SyntaxError: invalid syntax
redash-master-server-1 exited with code 1
</code></pre>
<p>Please help!!!</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/10608" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-06-14T17:30:40Z" itemprop="datePublished">
                    June 14, 2022,  5:30pm
                  </time>
<meta content="2022-06-14T17:30:40Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>How did you set up Redash? This looks like a Python version mis-match. Which should not happen if you’ve followed the instructions in our documentation.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/dishka_krauch.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/dishka_krauch_avatar.png" tabindex="-1" width="48"/><span itemprop="name">dishka_krauch</span></a>
</span>
<link href="assets/10608" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-06-16T12:51:35Z" itemprop="datePublished">
                    June 16, 2022, 12:51pm
                  </time>
<meta content="2022-06-16T12:51:35Z" itemprop="dateModified"/>
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hey, jesse.<br/>
We installed python in Dockerfile with this command:</p>
<p>FROM --platform=linux/amd64 python:3.7-slim-buster</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/10608" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-06-16T12:52:41Z" itemprop="datePublished">
                    June 16, 2022, 12:52pm
                  </time>
<meta content="2022-06-16T12:52:41Z" itemprop="dateModified"/>
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Redash generally runs with docker compose. Which compose file did you use?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_5" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/dishka_krauch.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/dishka_krauch_avatar.png" tabindex="-1" width="48"/><span itemprop="name">dishka_krauch</span></a>
</span>
<link href="assets/10608" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-06-16T12:53:57Z" itemprop="datePublished">
                    June 16, 2022, 12:53pm
                  </time>
<meta content="2022-06-16T12:53:57Z" itemprop="dateModified"/>
<span itemprop="position">5</span>
</span>
</div>
<div class="post" itemprop="text">
<p>We used docker-compose file from your github page - <a class="inline-onebox" href="https://github.com/getredash/redash/blob/master/docker-compose.yml" rel="noopener nofollow ugc">redash/docker-compose.yml at master · getredash/redash · GitHub</a></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_6" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/10608" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-06-16T12:55:04Z" itemprop="datePublished">
                    June 16, 2022, 12:55pm
                  </time>
<meta content="2022-06-16T12:55:04Z" itemprop="dateModified"/>
<span itemprop="position">6</span>
</span>
</div>
<div class="post" itemprop="text">
<p>On what target system does this run? A windows machine? macos?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_7" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/dishka_krauch.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/dishka_krauch_avatar.png" tabindex="-1" width="48"/><span itemprop="name">dishka_krauch</span></a>
</span>
<link href="assets/10608" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-06-16T12:57:13Z" itemprop="datePublished">
                    June 16, 2022, 12:57pm
                  </time>
<meta content="2022-06-16T12:57:13Z" itemprop="dateModified"/>
<span itemprop="position">7</span>
</span>
</div>
<div class="post" itemprop="text">
<p>No, it’s CentOS7. Follwing your guide here <a href="https://redash.io/help/open-source/dev-guide/docker" rel="noopener nofollow ugc">https://redash.io/help/open-source/dev-guide/docker</a> we faced this pycrypto problem after docker-compose up command.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_8" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/10608" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-06-16T13:01:54Z" itemprop="datePublished">
                    June 16, 2022,  1:01pm
                  </time>
<meta content="2022-06-16T13:01:54Z" itemprop="dateModified"/>
<span itemprop="position">8</span>
</span>
</div>
<div class="post" itemprop="text">
<p>This looks like an incompatibility between a pinned query runner dependency and your centos installation. Do you know which target databases you hope to query? Such as postgres, mysql etc? If so, I would specify these directly using the enabled_query_runners environment variable. This will prevent Redash trying to load dependencies for query runners you don’t intend to use.</p>
<p>Otherwise you can search here on the forum for centos user posts. There are some eccentricities to centos that have been covered in the past.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_9" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/dishka_krauch.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/dishka_krauch_avatar.png" tabindex="-1" width="48"/><span itemprop="name">dishka_krauch</span></a>
</span>
<link href="assets/10608" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-06-16T13:15:54Z" itemprop="datePublished">
                    June 16, 2022,  1:15pm
                  </time>
<meta content="2022-06-16T13:15:54Z" itemprop="dateModified"/>
<span itemprop="position">9</span>
</span>
</div>
<div class="post" itemprop="text">
<p>We use postgres. Do you mean switch redash to on-prem postgres instead of docker container?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_10" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/10608" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-06-16T13:39:06Z" itemprop="datePublished">
                    June 16, 2022,  1:39pm
                  </time>
<meta content="2022-06-16T13:39:06Z" itemprop="dateModified"/>
<span itemprop="position">10</span>
</span>
</div>
<div class="post" itemprop="text">
<p>No no no no no. No not at all.</p>
<p>I’ll try to explain:</p>
<p>As Redash starts, it looks at a setting to know which query runners to enable. Then it loops through the enabled runners and loads their Python dependencies. If a Python <code>ImportError</code> is raised while dependencies are loaded, that query runner is skipped and a log message is emitted. But the process <em>won’t crash</em>, it just skips that query runner and moves along.</p>
<p>However, if a different exception is raised than <code>ImportError</code> this may signal bigger issues with the environment, so non-<code>ImportError</code> exceptions are not explicitly caught and will cause the startup to fail.</p>
<p>Your log messages indicate that startup fails during execution of the line:</p>
<pre data-code-wrap="python3"><code class="lang-nohighlight">import_query_runners(settings.QUERY_RUNNERS)
</code></pre>
<p>And specifically it fails to load dependencies for <code>big_query</code>. The specific dependency that fails is <code>pycrypto</code>. Because of this there are a few ways to debug / correct:</p>
<h3>
<a class="anchor" href="#preferred-option-figure-out-why-pycrypto-wont-load-1" name="preferred-option-figure-out-why-pycrypto-wont-load-1"></a>[Preferred Option] Figure out why <code>pycrypto</code> won’t load.</h3>
<p>I’m guessing this is a CentOS specific issue (<a href="https://amalgjose.com/2017/11/15/common-dependencies-to-install-pycrypto-package-in-centos-rhel/">context</a>).Once you fix <code>pycrypto</code> for centos then try starting Redash again. This is the preferred option since <code>pycrypto</code> is very widely used across Redash. I believe it is required for the postgres query runner as well, although I’m not sure. I’m away from my system presently so it’s not something I can check.</p>
<h3>
<a class="anchor" href="#workaround-1-explicitly-stop-redash-from-trying-to-load-dependencies-for-big-query-bq-using-environment-variableshttpsredashiohelpopen-sourceadmin-guideenv-vars-settings-2" name="workaround-1-explicitly-stop-redash-from-trying-to-load-dependencies-for-big-query-bq-using-environment-variableshttpsredashiohelpopen-sourceadmin-guideenv-vars-settings-2"></a>[Workaround 1] Explicitly stop Redash from trying to load dependencies for big query (BQ) using <a href="https://redash.io/help/open-source/admin-guide/env-vars-settings">environment variables</a>.</h3>
<p>The one you’d use to disable big query alone is</p>
<pre><code class="lang-bash">export REDASH_DISABLED_QUERY_RUNNERS="query_runner.big_query"
</code></pre>
<h3>
<a class="anchor" href="#workaround-2-tell-redash-to-only-load-dependencies-for-data-sources-you-know-youll-use-3" name="workaround-2-tell-redash-to-only-load-dependencies-for-data-sources-you-know-youll-use-3"></a>[Workaround 2] Tell Redash to only load dependencies for data sources you know you’ll use</h3>
<p>If you’re only going to connect with postgres then you can use</p>
<pre><code class="lang-bash">export REDASH_ENABLED_QUERY_RUNNERS="query_runner.pg"
</code></pre>
<hr/>
<p>Note that neither workaround will fix this problem if the postgres query runner or one of its dependencies relies on <code>pycrypto</code>. Given there are references in google and stack overflow to special setup instructions with <code>pycrypto</code> on centos, I’d advise fixing the root of the issue.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="3" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_11" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/dishka_krauch.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/dishka_krauch_avatar.png" tabindex="-1" width="48"/><span itemprop="name">dishka_krauch</span></a>
</span>
<link href="assets/10608" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-06-16T14:22:13Z" itemprop="datePublished">
                    June 16, 2022,  2:22pm
                  </time>
<meta content="2022-06-16T14:22:13Z" itemprop="dateModified"/>
<span itemprop="position">11</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Got it. Give me some time to check it out.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_12" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/dishka_krauch.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/dishka_krauch_avatar.png" tabindex="-1" width="48"/><span itemprop="name">dishka_krauch</span></a>
</span>
<link href="assets/10608" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-06-16T14:53:07Z" itemprop="datePublished">
                    June 16, 2022,  2:53pm
                  </time>
<meta content="2022-06-16T14:53:07Z" itemprop="dateModified"/>
<span itemprop="position">12</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I’ve restarted everything from the scratch and error dessapeared as it always happens… Right now can’t reach redash master web pache after port changing from 5000 to 8088.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_13" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/dishka_krauch.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/dishka_krauch_avatar.png" tabindex="-1" width="48"/><span itemprop="name">dishka_krauch</span></a>
</span>
<link href="assets/10608" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-06-16T14:54:59Z" itemprop="datePublished">
                    June 16, 2022,  2:54pm
                  </time>
<meta content="2022-06-16T14:54:59Z" itemprop="dateModified"/>
<span itemprop="position">13</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Here is new error after docker-compose up command:</p>
<pre><code class="lang-auto">redash-master-postgres-1   | ERROR:  relation "query_results" does not exist at character 13
redash-master-postgres-1   | STATEMENT:  DELETE FROM query_results WHERE query_results.id IN (SELECT query_results.id
redash-master-postgres-1   |    FROM query_results LEFT OUTER JOIN queries ON query_results.id = queries.latest_query_data_id
redash-master-postgres-1   |    WHERE queries.id IS NULL AND query_results.retrieved_at &lt; '2022-06-09T14:53:40.363540'::timestamp
redash-master-postgres-1   |     LIMIT 100)
redash-master-worker-1     | [2022-06-16 14:53:40,399][PID:54][ERROR][rq.worker] sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "query_results" does not exist
redash-master-worker-1     | LINE 1: DELETE FROM query_results WHERE query_results.id IN (SELECT ...
redash-master-worker-1     |                     ^
redash-master-worker-1     |
redash-master-worker-1     | [SQL: DELETE FROM query_results WHERE query_results.id IN (SELECT query_results.id
redash-master-worker-1     | FROM query_results LEFT OUTER JOIN queries ON query_results.id = queries.latest_query_data_id
redash-master-worker-1     | WHERE queries.id IS NULL AND query_results.retrieved_at &lt; %(retrieved_at_1)s
redash-master-worker-1     |  LIMIT %(param_1)s)]
redash-master-worker-1     | [parameters: {'retrieved_at_1': datetime.datetime(2022, 6, 9, 14, 53, 40, 363540), 'param_1': 100}]
redash-master-worker-1     | (Background on this error at: http://sqlalche.me/e/f405)
redash-master-worker-1     | Traceback (most recent call last):
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1249, in _execute_context
redash-master-worker-1     |     cursor, statement, parameters, context
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 580, in do_execute
redash-master-worker-1     |     cursor.execute(statement, parameters)
redash-master-worker-1     | psycopg2.errors.UndefinedTable: relation "query_results" does not exist
redash-master-worker-1     | LINE 1: DELETE FROM query_results WHERE query_results.id IN (SELECT ...
redash-master-worker-1     |                     ^
redash-master-worker-1     |
redash-master-worker-1     |
redash-master-worker-1     | The above exception was the direct cause of the following exception:
redash-master-worker-1     |
redash-master-worker-1     | Traceback (most recent call last):
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/rq/worker.py", line 934, in perform_job
redash-master-worker-1     |     rv = job.perform()
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/rq/job.py", line 686, in perform
redash-master-worker-1     |     self._result = self._execute()
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/rq/job.py", line 692, in _execute
redash-master-worker-1     |     return self.func(*self.args, **self.kwargs)
redash-master-worker-1     |   File "/app/redash/tasks/queries/maintenance.py", line 142, in cleanup_query_results
redash-master-worker-1     |     ).delete(synchronize_session=False)
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3727, in delete
redash-master-worker-1     |     delete_op.exec_()
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py", line 1693, in exec_
redash-master-worker-1     |     self._do_exec()
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py", line 1921, in _do_exec
redash-master-worker-1     |     self._execute_stmt(delete_stmt)
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py", line 1698, in _execute_stmt
redash-master-worker-1     |     self.result = self.query._execute_crud(stmt, self.mapper)
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/orm/query.py", line 3375, in _execute_crud
redash-master-worker-1     |     return conn.execute(stmt, self._params)
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 988, in execute
redash-master-worker-1     |     return meth(self, multiparams, params)
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/sql/elements.py", line 287, in _execute_on_connection
redash-master-worker-1     |     return connection._execute_clauseelement(self, multiparams, params)
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1107, in _execute_clauseelement
redash-master-worker-1     |     distilled_params,
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1253, in _execute_context
redash-master-worker-1     |     e, statement, parameters, cursor, context
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1473, in _handle_dbapi_exception
redash-master-worker-1     |     util.raise_from_cause(sqlalchemy_exception, exc_info)
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
redash-master-worker-1     |     reraise(type(exception), exception, tb=exc_tb, cause=cause)
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
redash-master-worker-1     |     raise value.with_traceback(tb)
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1249, in _execute_context
redash-master-worker-1     |     cursor, statement, parameters, context
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 580, in do_execute
redash-master-worker-1     |     cursor.execute(statement, parameters)
redash-master-worker-1     | sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "query_results" does not exist
redash-master-worker-1     | LINE 1: DELETE FROM query_results WHERE query_results.id IN (SELECT ...

</code></pre>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_14" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/10608" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-06-16T16:08:34Z" itemprop="datePublished">
                    June 16, 2022,  4:08pm
                  </time>
<meta content="2022-06-16T16:08:34Z" itemprop="dateModified"/>
<span itemprop="position">14</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Looks like you didn’t set up your metadata database.</p>
<p><code>docker-compose run --rm server create_db</code></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_15" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/dishka_krauch.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/dishka_krauch_avatar.png" tabindex="-1" width="48"/><span itemprop="name">dishka_krauch</span></a>
</span>
<link href="assets/10608" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-06-16T19:40:17Z" itemprop="datePublished">
                    June 16, 2022,  7:40pm
                  </time>
<meta content="2022-06-16T19:40:17Z" itemprop="dateModified"/>
<span itemprop="position">15</span>
</span>
</div>
<div class="post" itemprop="text">
<p>It’s strange cause I had to run this command twice to pass this error.<br/>
So for now I have following output after docker-compose up command.</p>
<pre><code class="lang-auto">[+] Running 6/6
 ⠿ Container redash-master-email-1      Created                                                                                                                                                           0.0s
 ⠿ Container redash-master-redis-1      Running                                                                                                                                                           0.0s
 ⠿ Container redash-master-postgres-1   Running                                                                                                                                                           0.0s
 ⠿ Container redash-master-server-1     Created                                                                                                                                                           0.0s
 ⠿ Container redash-master-worker-1     Created                                                                                                                                                           0.0s
 ⠿ Container redash-master-scheduler-1  Created                                                                                                                                                           0.0s
Attaching to redash-master-email-1, redash-master-postgres-1, redash-master-redis-1, redash-master-scheduler-1, redash-master-server-1, redash-master-worker-1
redash-master-email-1      | MailDev webapp running at http://0.0.0.0:80
redash-master-email-1      | MailDev SMTP Server running at 0.0.0.0:25
redash-master-scheduler-1  | Starting dev RQ scheduler...
redash-master-worker-1     | Starting dev RQ worker...
redash-master-server-1     |  * Environment: production
redash-master-server-1     |    WARNING: This is a development server. Do not use it in a production deployment.
redash-master-server-1     |    Use a production WSGI server instead.
redash-master-server-1     |  * Debug mode: on
redash-master-server-1     | [2022-06-16 19:34:55,341][PID:1][INFO][werkzeug]  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
redash-master-server-1     | [2022-06-16 19:34:55,382][PID:1][INFO][werkzeug]  * Restarting with inotify reloader
redash-master-worker-1     | [2022-06-16 19:34:56,163][PID:8][INFO][rq.worker] Worker rq:worker:7c49c19d7f9d450686848352ce2f7bbe: started, version 1.5.0
redash-master-worker-1     | [2022-06-16 19:34:56,164][PID:8][INFO][rq.worker] *** Listening on periodic, emails, default, scheduled_queries, queries, schemas...
redash-master-worker-1     | [2022-06-16 19:34:56,164][PID:8][INFO][rq.worker] Cleaning registries for queue: periodic
redash-master-worker-1     | [2022-06-16 19:34:56,165][PID:8][INFO][rq.worker] Cleaning registries for queue: emails
redash-master-worker-1     | [2022-06-16 19:34:56,166][PID:8][INFO][rq.worker] Cleaning registries for queue: default
redash-master-worker-1     | [2022-06-16 19:34:56,167][PID:8][INFO][rq.worker] Cleaning registries for queue: scheduled_queries
redash-master-worker-1     | [2022-06-16 19:34:56,168][PID:8][INFO][rq.worker] Cleaning registries for queue: queries
redash-master-worker-1     | [2022-06-16 19:34:56,169][PID:8][INFO][rq.worker] Cleaning registries for queue: schemas
redash-master-scheduler-1  | [2022-06-16 19:34:56,196][PID:8][INFO][redash.tasks.schedule] Scheduling 305c0cae0a196ae96915fd2b6f81001c435aad65 (refresh_queries) with interval 30.
redash-master-scheduler-1  | [2022-06-16 19:34:56,197][PID:8][INFO][redash.tasks.schedule] Scheduling 59a84668e68687338646f735965213c58e814b32 (remove_ghost_locks) with interval 60.
redash-master-scheduler-1  | [2022-06-16 19:34:56,198][PID:8][INFO][redash.tasks.schedule] Scheduling 75540cdf868e7873f5eec072177423b13b98dece (empty_schedules) with interval 3600.
redash-master-scheduler-1  | [2022-06-16 19:34:56,199][PID:8][INFO][redash.tasks.schedule] Scheduling 52bcd40c254552539398db3cdb15055d4a9a536a (refresh_schemas) with interval 1800.
redash-master-scheduler-1  | [2022-06-16 19:34:56,200][PID:8][INFO][redash.tasks.schedule] Scheduling 18281a865ed3d1a60f366aeb8596fe2283aa421f (sync_user_details) with interval 60.
redash-master-scheduler-1  | [2022-06-16 19:34:56,200][PID:8][INFO][redash.tasks.schedule] Scheduling 797f4f959c6c96c738efd445b17db75742db80a9 (send_aggregated_errors) with interval 3600.
redash-master-scheduler-1  | [2022-06-16 19:34:56,201][PID:8][INFO][redash.tasks.schedule] Scheduling 526f2c7f55dfe92457914cd7df02cfffe4dec877 (version_check) with interval 86400.
redash-master-scheduler-1  | [2022-06-16 19:34:56,202][PID:8][INFO][redash.tasks.schedule] Scheduling e27209059575fcc17c527c47d0957cb21756e551 (cleanup_query_results) with interval 300.
redash-master-scheduler-1  | [2022-06-16 19:34:56,203][PID:8][INFO][rq_scheduler.scheduler] Registering birth
redash-master-worker-1     | [2022-06-16 19:34:56,207][PID:8][INFO][rq.worker] periodic: 18281a865ed3d1a60f366aeb8596fe2283aa421f
redash-master-worker-1     | [2022-06-16 19:34:56,227][PID:47][INFO][rq.worker] periodic: Job OK (18281a865ed3d1a60f366aeb8596fe2283aa421f)
redash-master-worker-1     | [2022-06-16 19:34:56,228][PID:47][INFO][rq.worker] Result is kept for 600 seconds
redash-master-worker-1     | [2022-06-16 19:34:56,237][PID:8][INFO][rq.worker] periodic: 305c0cae0a196ae96915fd2b6f81001c435aad65
redash-master-worker-1     | [2022-06-16 19:34:56,247][PID:48][INFO][rq.job.redash.tasks.queries.maintenance] job.func_name=redash.tasks.queries.maintenance.refresh_queries job.id=305c0cae0a196ae96915fd2b6f81001c435aad65 Refreshing queries...
redash-master-worker-1     | [2022-06-16 19:34:56,283][PID:48][INFO][rq.job.redash.tasks.queries.maintenance] job.func_name=redash.tasks.queries.maintenance.refresh_queries job.id=305c0cae0a196ae96915fd2b6f81001c435aad65 Done refreshing queries: {'outdated_queries_count': 0, 'last_refresh_at': 1655408096.2826107, 'query_ids': '[]'}
redash-master-worker-1     | [2022-06-16 19:34:56,286][PID:48][INFO][rq.worker] periodic: Job OK (305c0cae0a196ae96915fd2b6f81001c435aad65)
redash-master-worker-1     | [2022-06-16 19:34:56,286][PID:48][INFO][rq.worker] Result is kept for 600 seconds
redash-master-postgres-1   | LOG:  unexpected EOF on client connection with an open transaction
redash-master-worker-1     | [2022-06-16 19:34:56,300][PID:8][INFO][rq.worker] periodic: 526f2c7f55dfe92457914cd7df02cfffe4dec877
redash-master-worker-1     | [2022-06-16 19:34:56,314][PID:49][INFO][root] Performing version check.
redash-master-worker-1     | [2022-06-16 19:34:56,314][PID:49][INFO][root] Current version: 11.0.0-dev
redash-master-worker-1     | [2022-06-16 19:34:56,347][PID:49][ERROR][rq.worker] AttributeError: 'NoneType' object has no attribute 'get_setting'
redash-master-worker-1     | Traceback (most recent call last):
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/rq/worker.py", line 934, in perform_job
redash-master-worker-1     |     rv = job.perform()
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/rq/job.py", line 686, in perform
redash-master-worker-1     |     self._result = self._execute()
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/rq/job.py", line 692, in _execute
redash-master-worker-1     |     return self.func(*self.args, **self.kwargs)
redash-master-worker-1     |   File "/app/redash/tasks/general.py", line 35, in version_check
redash-master-worker-1     |     run_version_check()
redash-master-worker-1     |   File "/app/redash/version_check.py", line 75, in run_version_check
redash-master-worker-1     |     if Organization.query.first().get_setting("beacon_consent"):
redash-master-worker-1     | AttributeError: 'NoneType' object has no attribute 'get_setting'
redash-master-worker-1     | Traceback (most recent call last):
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/rq/worker.py", line 934, in perform_job
redash-master-worker-1     |     rv = job.perform()
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/rq/job.py", line 686, in perform
redash-master-worker-1     |     self._result = self._execute()
redash-master-worker-1     |   File "/usr/local/lib/python3.7/site-packages/rq/job.py", line 692, in _execute
redash-master-worker-1     |     return self.func(*self.args, **self.kwargs)
redash-master-worker-1     |   File "/app/redash/tasks/general.py", line 35, in version_check
redash-master-worker-1     |     run_version_check()
redash-master-worker-1     |   File "/app/redash/version_check.py", line 75, in run_version_check
redash-master-worker-1     |     if Organization.query.first().get_setting("beacon_consent"):
redash-master-worker-1     | AttributeError: 'NoneType' object has no attribute 'get_setting'
redash-master-postgres-1   | LOG:  unexpected EOF on client connection with an open transaction
</code></pre>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_16" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/10608" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-06-16T19:44:33Z" itemprop="datePublished">
                    June 16, 2022,  7:44pm
                  </time>
<meta content="2022-06-16T19:44:33Z" itemprop="dateModified"/>
<span itemprop="position">16</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Boy you are just plagued with odd issues I’ve never seen before. It looks like you were not shown an onboarding screen to create an organisation. Does anything load in your browser?</p>
<p>What <em>exact</em> steps have you followed so far? It’s not enough to point to the doc page because collectively these instructions are followed dozens-hundreds of times per month and don’t produce these issues. I believe there must be an environment issue on your box, potentially related to Centos but it’s hard to say.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="2" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_17" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/dishka_krauch.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/dishka_krauch_avatar.png" tabindex="-1" width="48"/><span itemprop="name">dishka_krauch</span></a>
</span>
<link href="assets/10608" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-06-16T19:59:26Z" itemprop="datePublished">
                    June 16, 2022,  7:59pm
                  </time>
<meta content="2022-06-16T19:59:26Z" itemprop="dateModified"/>
<span itemprop="position">17</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Okay, I got your pretty straight answer. I’ll try to make it on my own.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_18" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/10608" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-06-16T19:59:59Z" itemprop="datePublished">
                    June 16, 2022,  7:59pm
                  </time>
<meta content="2022-06-16T19:59:59Z" itemprop="dateModified"/>
<span itemprop="position">18</span>
</span>
</div>
<div class="post" itemprop="text">
<aside class="quote group-Team" data-post="16" data-topic="10608" data-username="jesse">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" loading="lazy" src="assets/3428_2.png" width="20"/> jesse:</div>
<blockquote>
<p>It looks like you were not shown an onboarding screen to create an organisation.</p>
</blockquote>
</aside>
<p>Can you confirm whether anything has loaded in your browser yet?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_19" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/dishka_krauch.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/dishka_krauch_avatar.png" tabindex="-1" width="48"/><span itemprop="name">dishka_krauch</span></a>
</span>
<link href="assets/10608" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-06-16T20:05:12Z" itemprop="datePublished">
                    June 16, 2022,  8:05pm
                  </time>
<meta content="2022-06-16T20:05:12Z" itemprop="dateModified"/>
<span itemprop="position">19</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Finally I switched ports and can reach redash web setup page. It failes with other errors related to yarn as I can guess.</p>
<pre><code class="lang-auto">FileNotFoundError: [Errno 2] No such file or directory: '/app/redash/settings/../../client/dist/index.html'
</code></pre>
<p>Looks like it had been solving by you a years go. Give me some time to check evertying out.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_20" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="assets/10608" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2022-06-16T20:06:44Z" itemprop="datePublished">
                    June 16, 2022,  8:06pm
                  </time>
<meta content="2022-06-16T20:06:44Z" itemprop="dateModified"/>
<span itemprop="position">20</span>
</span>
</div>
<div class="post" itemprop="text">
<p>That error means you didn’t build the front-end assets. To do this you need to run <code>yarn build</code>. Then try again and it should load.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
</div>
<div class="topic-body crawler-post" itemscope="" itemtype="http://schema.org/SiteNavigationElement" role="navigation">
<span itemprop="name"><b><a href="/t/an-error-occurs-redash-docker-on-startup/10608?page=2" itemprop="url" rel="next">next page →</a></b></span>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>How to upgrade redash 5.0.2 to 8.0.0</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/how-to-upgrade-redash-5-0-2-to-8-0-0/6533">How to upgrade redash 5.0.2 to 8.0.0</a>
</h1>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content="How to upgrade redash 5.0.2 to 8.0.0" itemprop="headline"/>
<meta content="Uncategorized" itemprop="articleSection"/>
<meta content="" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/AkshayG97.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/AkshayG97_avatar.png" tabindex="-1" width="48"/><span itemprop="name">AkshayG97</span></a>
</span>
<link href="https://discuss.redash.io/t/how-to-upgrade-redash-5-0-2-to-8-0-0/6533" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-23T18:24:57Z" itemprop="datePublished">
                    June 23, 2020,  6:24pm
                  </time>
<meta content="2020-06-23T18:24:57Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>I want to upgrade to V8 from v5. Help me with any link to do so. I came across quite few link. some say first upgrade to v7 &amp; then to v8, but i am not able to find copy of v7. Please support. Thanks &amp; Cheers</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/k4s1m.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/k4s1m_avatar.png" tabindex="-1" width="48"/><span itemprop="name">k4s1m</span></a>
</span>
<link href="https://discuss.redash.io/t/how-to-upgrade-redash-5-0-2-to-8-0-0/6533" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-23T19:39:15Z" itemprop="datePublished">
                    June 23, 2020,  7:39pm
                  </time>
<meta content="2020-06-23T20:00:42Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hi there <img alt=":wave:" class="emoji" src="assets/wave.png" title=":wave:"/> How did you install your current instance of Redash? I found some links in the documentation that cover how to upgrade for both <a href="https://redash.io/help/open-source/admin-guide/how-to-upgrade" rel="nofollow noopener">docker</a> and <a href="https://redash.io/help/open-source/admin-guide/how-to-upgrade-legacy" rel="nofollow noopener">non-docker</a> versions. Those would be a good place to start. It’s not difficult to upgrade the version but technical background is a big plus.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="2" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/AkshayG97.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/AkshayG97_avatar.png" tabindex="-1" width="48"/><span itemprop="name">AkshayG97</span></a>
</span>
<link href="https://discuss.redash.io/t/how-to-upgrade-redash-5-0-2-to-8-0-0/6533" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-24T05:44:47Z" itemprop="datePublished">
                    June 24, 2020,  5:44am
                  </time>
<meta content="2020-06-24T05:44:47Z" itemprop="dateModified"/>
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hi <a class="mention" href="/u/k4s1m">@k4s1m</a>  I install redash using docker</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/AkshayG97.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/AkshayG97_avatar.png" tabindex="-1" width="48"/><span itemprop="name">AkshayG97</span></a>
</span>
<link href="https://discuss.redash.io/t/how-to-upgrade-redash-5-0-2-to-8-0-0/6533" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-24T10:27:14Z" itemprop="datePublished">
                    June 24, 2020, 10:27am
                  </time>
<meta content="2020-06-24T10:27:14Z" itemprop="dateModified"/>
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I have taken backup of postgres_sql and all queries. Is there anything left before updating the redash?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_5" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/k4s1m.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/k4s1m_avatar.png" tabindex="-1" width="48"/><span itemprop="name">k4s1m</span></a>
</span>
<link href="https://discuss.redash.io/t/how-to-upgrade-redash-5-0-2-to-8-0-0/6533" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-25T15:04:23Z" itemprop="datePublished">
                    June 25, 2020,  3:04pm
                  </time>
<meta content="2020-06-25T15:04:23Z" itemprop="dateModified"/>
<span itemprop="position">5</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Nope that’s all! Then you can just follow the instructions in the documentation:</p>
<blockquote>
<h2>Upgrade Process</h2>
<ol>
<li>Make sure to backup your data. You only need to backup Redash’s PostgreSQL database (the database Redash stores metadata in, not the ones you might be querying) as the data in Redis is transient.</li>
<li>Change directory to <code>/opt/redash</code> .</li>
<li>Update <code>/opt/redash/docker-compose.yml</code> Redash image reference to the one you want to upgrade to.</li>
<li>Stop Redash services: <code>docker-compose stop server scheduler scheduled_worker adhoc_worker</code> (you might need to list additional services if you updated your configuration)</li>
<li>Apply migration (if necessary): <code>docker-compose run --rm server manage db upgrade</code>
</li>
<li>Start services: <code>docker-compose up -d</code>
</li>
</ol>
<p><em>Done!</em></p>
</blockquote>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_6" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/AkshayG97.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/AkshayG97_avatar.png" tabindex="-1" width="48"/><span itemprop="name">AkshayG97</span></a>
</span>
<link href="https://discuss.redash.io/t/how-to-upgrade-redash-5-0-2-to-8-0-0/6533" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-25T15:12:11Z" itemprop="datePublished">
                    June 25, 2020,  3:12pm
                  </time>
<meta content="2020-06-25T15:12:11Z" itemprop="dateModified"/>
<span itemprop="position">6</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Thanks , but i stuck on third step i.e to update redash  image . I read some of the reviews they suggest to do not upgrade directly to version 8.0 from 5.0.<br/>
And also i could not found version 7.0<br/>
Can yo tell me how can i update it or found specific version?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_7" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/k4s1m.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/k4s1m_avatar.png" tabindex="-1" width="48"/><span itemprop="name">k4s1m</span></a>
</span>
<link href="https://discuss.redash.io/t/how-to-upgrade-redash-5-0-2-to-8-0-0/6533" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-25T15:16:00Z" itemprop="datePublished">
                    June 25, 2020,  3:16pm
                  </time>
<meta content="2020-06-25T15:16:00Z" itemprop="dateModified"/>
<span itemprop="position">7</span>
</span>
</div>
<div class="post" itemprop="text">
<p>On the documentation page there is a table that lists the names of the images. For version 7 it shows <code>redash/redash:7.0.0.b18042</code>. Have you tried this?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_8" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/AkshayG97.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/AkshayG97_avatar.png" tabindex="-1" width="48"/><span itemprop="name">AkshayG97</span></a>
</span>
<link href="https://discuss.redash.io/t/how-to-upgrade-redash-5-0-2-to-8-0-0/6533" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-25T17:37:10Z" itemprop="datePublished">
                    June 25, 2020,  5:37pm
                  </time>
<meta content="2020-06-25T17:37:10Z" itemprop="dateModified"/>
<span itemprop="position">8</span>
</span>
</div>
<div class="post" itemprop="text">
<p>No , I didn’t. how to update to that image ?  Is there any command for that?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_9" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/k4s1m.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/k4s1m_avatar.png" tabindex="-1" width="48"/><span itemprop="name">k4s1m</span></a>
</span>
<link href="https://discuss.redash.io/t/how-to-upgrade-redash-5-0-2-to-8-0-0/6533" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-25T18:07:48Z" itemprop="datePublished">
                    June 25, 2020,  6:07pm
                  </time>
<meta content="2020-06-25T18:07:48Z" itemprop="dateModified"/>
<span itemprop="position">9</span>
</span>
</div>
<div class="post" itemprop="text">
<p>That’s part of step 3. You write the new image name in <code>docker-compose.yml</code>.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_10" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/AkshayG97.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/AkshayG97_avatar.png" tabindex="-1" width="48"/><span itemprop="name">AkshayG97</span></a>
</span>
<link href="https://discuss.redash.io/t/how-to-upgrade-redash-5-0-2-to-8-0-0/6533" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-26T06:09:00Z" itemprop="datePublished">
                    June 26, 2020,  6:09am
                  </time>
<meta content="2020-06-26T06:09:00Z" itemprop="dateModified"/>
<span itemprop="position">10</span>
</span>
</div>
<div class="post" itemprop="text">
<p>So i have to change the name in docker-compose.yml and then move to step 4. right?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_11" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/MathieuBossaert.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/MathieuBossaert_avatar.png" tabindex="-1" width="48"/><span itemprop="name">MathieuBossaert</span></a>
</span>
<link href="https://discuss.redash.io/t/how-to-upgrade-redash-5-0-2-to-8-0-0/6533" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-26T08:11:44Z" itemprop="datePublished">
                    June 26, 2020,  8:11am
                  </time>
<meta content="2020-06-26T08:11:44Z" itemprop="dateModified"/>
<span itemprop="position">11</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Yes that’s it. And once you’re in 7 repeat all steps for the version 8.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_12" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/AkshayG97.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/AkshayG97_avatar.png" tabindex="-1" width="48"/><span itemprop="name">AkshayG97</span></a>
</span>
<link href="https://discuss.redash.io/t/how-to-upgrade-redash-5-0-2-to-8-0-0/6533" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-26T08:16:02Z" itemprop="datePublished">
                    June 26, 2020,  8:16am
                  </time>
<meta content="2020-06-26T08:16:02Z" itemprop="dateModified"/>
<span itemprop="position">12</span>
</span>
</div>
<div class="post" itemprop="text">
<p>okay, Thanks. I will do that</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_13" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/MathieuBossaert.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/MathieuBossaert_avatar.png" tabindex="-1" width="48"/><span itemprop="name">MathieuBossaert</span></a>
</span>
<link href="https://discuss.redash.io/t/how-to-upgrade-redash-5-0-2-to-8-0-0/6533" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-26T08:48:45Z" itemprop="datePublished">
                    June 26, 2020,  8:48am
                  </time>
<meta content="2020-06-26T08:48:45Z" itemprop="dateModified"/>
<span itemprop="position">13</span>
</span>
</div>
<div class="post" itemprop="text">
<p>don’t forget to look for each version if particular steps are needed !</p>
<aside class="quote no-group quote-modified" data-post="2" data-topic="4180" data-username="MathieuBossaert">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="assets/934_2.png" width="20"/><a href="http://discuss.redash.io/t/upgrade-redash-stanalone-v4-to-v7-docker/4180/2">Upgrade Redash Stanalone V4 to V7 Docker</a>
</div>
<blockquote>
<p>Be careful to read <a href="http://discuss.redash.io/t/redash-v7-released/3477">Redash v7 Released </a> before upgrade to v7.<br/>
And particulary</p>
<blockquote>
<p><strong>All data source options are now encrypted in the database.</strong> By default the encryption uses the <code>REDASH_COOKIE_SECRET</code> value ( <code>redash.settings.COOKIE_SECRET</code> ), but you can specify a different value by setting the <code>REDASH_SECRET_KEY</code> environment variable value. Note that you need to set this <em>before</em> doing the upgrade.</p>
</blockquote>
</blockquote>
</aside>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_15" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/AkshayG97.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/AkshayG97_avatar.png" tabindex="-1" width="48"/><span itemprop="name">AkshayG97</span></a>
</span>
<link href="https://discuss.redash.io/t/how-to-upgrade-redash-5-0-2-to-8-0-0/6533" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-06-28T14:14:19Z" itemprop="datePublished">
                    June 28, 2020,  2:14pm
                  </time>
<meta content="2020-06-28T14:14:19Z" itemprop="dateModified"/>
<span itemprop="position">15</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Thank you all for your valuable response. I have upgrade it successfully</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="2" itemprop="userInteractionCount"/>
<span class="post-likes">2 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_16" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/c20711.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/c20711_avatar.png" tabindex="-1" width="48"/><span itemprop="name">c20711</span></a>
</span>
<link href="https://discuss.redash.io/t/how-to-upgrade-redash-5-0-2-to-8-0-0/6533" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-11-18T07:23:47Z" itemprop="datePublished">
                    November 18, 2020,  7:23am
                  </time>
<meta content="2020-11-18T07:23:47Z" itemprop="dateModified"/>
<span itemprop="position">16</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hi k4s1m,</p>
<p>Can you provide the backup and restore postgreSQL command or process?</p>
<p>When I backup redash 5.0.2 data and restore it to redash 8.0.0 , the data source was not working.</p>
<p>I have no idea how to debug, any hint?</p>
<p>BTW, the following was my command and procedures.</p>
<ol>
<li>
<p>backup the postgreSQL from 5.0.2<br/>
cid=<code>docker ps | grep postgres | awk '{print $1}'</code><br/>
docker exec <span class="math">{cid} /bin/bash -c 'pg_dump -U postgres postgres | gzip &gt; /usr/local/redash_backup.gz'
docker cp </span>{cid}:/usr/local/redash_backup.gz redash_backup.gz</p>
</li>
<li>
<p>Copy the backup file to redash 8.0.0</p>
</li>
<li>
<p>After I successfully docker-compose up -d</p>
</li>
<li>
<p>docker-compose stop server scheduler scheduled_worker adhoc_worker</p>
</li>
<li>
<p>restore the data from the backup file<br/>
cid=<code>docker ps | grep postgres | awk '{print $1}'</code><br/>
docker cp redash_backup.gz <span class="math">{cid}:/usr/local/redash_backup.gz 
docker exec -it </span>{cid} /bin/bash<br/>
psql -U postgres template1<br/>
DROP DATABASE IF EXISTS postgres;<br/>
CREATE DATABASE postgres;<br/>
\q<br/>
zcat /usr/local/redash_backup.gz  | psql -U postgres -d postgres<br/>
exit</p>
</li>
<li>
</li></ol>
<p>cd /opt/redash<br/>
docker-compose run --rm server manage db upgrade<br/>
docker-compose up -d</p>
<p>It works in the same version of redash, but not work in 8.0.0</p>
<p>REF: <a href="https://medium.com/marsw-redash/redash-%E5%82%99%E4%BB%BD-%E9%82%84%E5%8E%9F-%E5%8D%87%E7%B4%9A-cc9f856cfd7b" rel="noopener nofollow ugc">https://medium.com/marsw-redash/redash-備份-還原-升級-cc9f856cfd7b</a></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
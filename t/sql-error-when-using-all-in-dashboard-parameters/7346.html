<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>SQL error when using ALL in dashboard parameters</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/sql-error-when-using-all-in-dashboard-parameters/7346">SQL error when using ALL in dashboard parameters</a>
</h1>
<div class="topic-category">
<div class="discourse-tags list-tags">
<a class="discourse-tag" href="https://discuss.redash.io/parameters" rel="tag">parameters</a>
</div>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content="SQL error when using ALL in dashboard parameters" itemprop="headline"/>
<meta content="Uncategorized" itemprop="articleSection"/>
<meta content="parameters" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/SLR.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/SLR_avatar.png" tabindex="-1" width="48"/><span itemprop="name">SLR</span></a>
</span>
<link href="https://discuss.redash.io/t/sql-error-when-using-all-in-dashboard-parameters/7346" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-10-12T13:34:16Z" itemprop="datePublished">
                    October 12, 2020,  1:34pm
                  </time>
<meta content="2020-10-12T13:34:16Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>Hello,</p>
<p>I’ve only been working with Redash for a couple months so maybe the solution is easy. I keep getting a SQL error for this query even thought everything seems correct.  If I change the syntax of the query the error goes away but the parameters no longer function. Is there a way to get parameters to be both multi select and default to all? Thanks!</p>
<p>select<br/>
sum(event_count) AS “Number of Events”,<br/>
count(distinct name) AS “Name”<br/>
from viz_counts<br/>
WHERE<br/>
ts &gt;= ‘{{ myDate.start }}’ AND<br/>
ts &lt;= ‘{{ myDate.end }}’ AND<br/>
(‘ALL’ IN ({{ sname }}) OR s_name IN ({{ sname }})) AND<br/>
(‘ALL’ IN ({{ mem }}) OR program IN ({{ mem }}))</p>
<p>SELECT ‘ALL’ AS sname<br/>
UNION ALL<br/>
(SELECT DISTINCT s_name FROM viz_attrib<br/>
WHERE s_name != “” )</p>
<p>Error running query:  <strong>You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ‘ALL) OR site_name IN (ALL)) AND (‘ALL’ IN (ALL) OR oem_program IN (ALL))’ at line 8</strong></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/k4s1m.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/k4s1m_avatar.png" tabindex="-1" width="48"/><span itemprop="name">k4s1m</span></a>
</span>
<link href="https://discuss.redash.io/t/sql-error-when-using-all-in-dashboard-parameters/7346" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-10-12T13:38:09Z" itemprop="datePublished">
                    October 12, 2020,  1:38pm
                  </time>
<meta content="2020-10-12T13:38:09Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>You need to have Redash wrap your multi-select values in single quotes. Right now the values are written literally to the query.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/SLR.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/SLR_avatar.png" tabindex="-1" width="48"/><span itemprop="name">SLR</span></a>
</span>
<link href="https://discuss.redash.io/t/sql-error-when-using-all-in-dashboard-parameters/7346" itemprop="mainEntityOfPage"/>
<link href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/3/31fb3608e301096b5d9fc5b14342b5e3c4dca49d.png" itemprop="image"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-10-12T13:43:39Z" itemprop="datePublished">
                    October 12, 2020,  1:43pm
                  </time>
<meta content="2020-10-12T13:43:39Z" itemprop="dateModified"/>
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hello,</p>
<p>This setting is selected which is why this is so frustrating. Our data engineer thinks Redash is caching the variable ALL wrong but I’m unsure of this. <div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/789C1v6B19KbumhCD8gOJLqbbAh.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/3/31fb3608e301096b5d9fc5b14342b5e3c4dca49d.png" rel="noopener nofollow ugc" title="Screen Shot 2020-10-12 at 8.43.13 AM"><img alt="Screen Shot 2020-10-12 at 8.43.13 AM" data-base62-sha1="789C1v6B19KbumhCD8gOJLqbbAh" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/3/31fb3608e301096b5d9fc5b14342b5e3c4dca49d_2_10x10.png" height="337" src="assets/31fb3608e301096b5d9fc5b14342b5e3c4dca49d_2_690x337.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/3/31fb3608e301096b5d9fc5b14342b5e3c4dca49d_2_690x337.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/3/31fb3608e301096b5d9fc5b14342b5e3c4dca49d_2_1035x505.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/3/31fb3608e301096b5d9fc5b14342b5e3c4dca49d.png 2x" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">Screen Shot 2020-10-12 at 8.43.13 AM</span><span class="informations">1052×514 33.4 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/k4s1m.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/k4s1m_avatar.png" tabindex="-1" width="48"/><span itemprop="name">k4s1m</span></a>
</span>
<link href="https://discuss.redash.io/t/sql-error-when-using-all-in-dashboard-parameters/7346" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-10-12T13:45:20Z" itemprop="datePublished">
                    October 12, 2020,  1:45pm
                  </time>
<meta content="2020-10-12T13:45:20Z" itemprop="dateModified"/>
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Probably not.</p>
<p>Make sure the setting is also toggled for <code>mem</code>.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_5" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/SLR.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/SLR_avatar.png" tabindex="-1" width="48"/><span itemprop="name">SLR</span></a>
</span>
<link href="https://discuss.redash.io/t/sql-error-when-using-all-in-dashboard-parameters/7346" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-10-12T13:45:49Z" itemprop="datePublished">
                    October 12, 2020,  1:45pm
                  </time>
<meta content="2020-10-12T13:45:49Z" itemprop="dateModified"/>
<span itemprop="position">5</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Yes, it is also for the other variable. Any ideas why this is not working or how I can fix it?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_6" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/k4s1m.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/k4s1m_avatar.png" tabindex="-1" width="48"/><span itemprop="name">k4s1m</span></a>
</span>
<link href="https://discuss.redash.io/t/sql-error-when-using-all-in-dashboard-parameters/7346" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-10-12T13:48:10Z" itemprop="datePublished">
                    October 12, 2020,  1:48pm
                  </time>
<meta content="2020-10-12T13:48:10Z" itemprop="dateModified"/>
<span itemprop="position">6</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Look very closely at the error from your database. You haven’t posted your actually query so it’s not possible to debug further on the forum. But the error shows a quotation mark that is opened and not closed. Fix it and your query will work. Nothing else we can do on the forum.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_7" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/SLR.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/SLR_avatar.png" tabindex="-1" width="48"/><span itemprop="name">SLR</span></a>
</span>
<link href="https://discuss.redash.io/t/sql-error-when-using-all-in-dashboard-parameters/7346" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-10-12T13:57:32Z" itemprop="datePublished">
                    October 12, 2020,  1:57pm
                  </time>
<meta content="2020-10-12T13:57:32Z" itemprop="dateModified"/>
<span itemprop="position">7</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hello, how do I view the query from the database? This is something our engineer was also asking about.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_8" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/k4s1m.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/k4s1m_avatar.png" tabindex="-1" width="48"/><span itemprop="name">k4s1m</span></a>
</span>
<link href="https://discuss.redash.io/t/sql-error-when-using-all-in-dashboard-parameters/7346" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-10-12T13:59:08Z" itemprop="datePublished">
                    October 12, 2020,  1:59pm
                  </time>
<meta content="2020-10-12T13:59:08Z" itemprop="dateModified"/>
<span itemprop="position">8</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I think that depends on what kind of database it is. Not something we can help with here.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_9" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/SLR.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/SLR_avatar.png" tabindex="-1" width="48"/><span itemprop="name">SLR</span></a>
</span>
<link href="https://discuss.redash.io/t/sql-error-when-using-all-in-dashboard-parameters/7346" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-10-13T17:58:36Z" itemprop="datePublished">
                    October 13, 2020,  5:58pm
                  </time>
<meta content="2020-10-13T17:58:36Z" itemprop="dateModified"/>
<span itemprop="position">9</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I have pinned down the error in question and I believe it’s a bug in the application of the single quote function in the parameter settings. When using this combination of queries to create multi-select parameters in Redash that default to ALL I get the following sql error:</p>
<p>SELECT ‘ALL’ AS value<br/>
UNION ALL<br/>
(SELECT DISTINCT set_value FROM table<br/>
WHERE set_value != “” )</p>
<p>(‘ALL’ IN ({{ value }}) OR set_value IN ({{ value }}))</p>
<p>error message: Error running query: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ‘ALL) OR value IN (ALL)) AND (‘ALL’ IN (ALL) OR value1 IN (AL’ at line 21</p>
<p>To correct the error we added in the missing single quotes around the  ‘ALL’  and the sql query functioned correctly when loading the dashboard and using the multi-select filters.</p>
<p>SELECT “‘ALL’” AS value<br/>
UNION ALL<br/>
(SELECT DISTINCT set_value FROM table<br/>
WHERE set_value != “” )</p>
<p>HOWEVER when switching from multi-selection back to ‘ALL’ in the filters we then receive this sql error:</p>
<p>Error running query: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ‘ALL’’) OR value IN (’‘ALL’’))’ at line 9</p>
<p>It appears as though the single quotes are not applied to the default filter parameter ALL when the dashboard is loading causing an error. But if we put them in as a default and use the filters, when we go back to ALL the single quotes in the filter setting are now applied causing another error. Is there a way to get the single quotes in the parameter settings to be applied consistently even to the default value? This seems like a bug, the query won’t work if the single quotes aren’t applied to the default value in the parameter settings.</p>
<p>Thanks!</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_10" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/k4s1m.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/k4s1m_avatar.png" tabindex="-1" width="48"/><span itemprop="name">k4s1m</span></a>
</span>
<link href="https://discuss.redash.io/t/sql-error-when-using-all-in-dashboard-parameters/7346" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-10-13T19:36:20Z" itemprop="datePublished">
                    October 13, 2020,  7:36pm
                  </time>
<meta content="2020-10-13T19:36:20Z" itemprop="dateModified"/>
<span itemprop="position">10</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Nice debugging work! What happens if you replace your left- and right-turned quotation marks (U+201C and U+201D code points) with proper generics:</p>
<p>Don’t use these:</p>
<pre><code class="lang-auto">“, ‘, and ”
</code></pre>
<p>Use these instead:</p>
<pre><code class="lang-auto">" and '
</code></pre>
<p>It could be a unicode issue with the way your database reads the query text. Redash writes the generic versions.</p>
<aside class="quote no-group" data-post="9" data-topic="7346" data-username="SLR">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" src="https://avatars.discourse-cdn.com/v4/letter/s/c2a13f/40.png" width="20"/> SLR:</div>
<blockquote>
<p>It appears as though the single quotes are not applied to the default filter parameter ALL when the dashboard is loading causing an error.</p>
</blockquote>
</aside>
<p>Maybe but I don’t think so. I’m running this exact same query on my end and it works.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_11" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/SLR.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/SLR_avatar.png" tabindex="-1" width="48"/><span itemprop="name">SLR</span></a>
</span>
<link href="https://discuss.redash.io/t/sql-error-when-using-all-in-dashboard-parameters/7346" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-10-13T22:55:10Z" itemprop="datePublished">
                    October 13, 2020, 10:55pm
                  </time>
<meta content="2020-10-13T22:55:10Z" itemprop="dateModified"/>
<span itemprop="position">11</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Hello,</p>
<p>I don’t think that is the issue. I checked the format and in Redash we are using the straight quotes. It seems like this forum might have auto edited and changed them when I copy pasted. So it is another issue, but not that.</p>
<p>Thanks,</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_12" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/k4s1m.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/k4s1m_avatar.png" tabindex="-1" width="48"/><span itemprop="name">k4s1m</span></a>
</span>
<link href="https://discuss.redash.io/t/sql-error-when-using-all-in-dashboard-parameters/7346" itemprop="mainEntityOfPage"/>
<link href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/7/7acce88473db2b00f47684e389d61d59335dedd6.png" itemprop="image"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-10-14T18:21:43Z" itemprop="datePublished">
                    October 14, 2020,  6:21pm
                  </time>
<meta content="2020-10-14T18:21:43Z" itemprop="dateModified"/>
<span itemprop="position">12</span>
</span>
</div>
<div class="post" itemprop="text">
<p>How peculiar. What happens if you try this completely independent of another WHERE clause? If you create the same parameter in another query does it appear there also?</p>
<p>For example:</p>
<pre><code class="lang-auto">with base as (
SELECT 'a' "col"
UNION
SELECT 'b' "col"
UNION
SELECT 'c' "col"
)

SELECT "col" FROM base WHERE 'all' in ({{ param }}) OR "col" IN ({{ param }})
</code></pre>
<p>And then set the parameter as follows:</p>
<p><div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/hwlgrY9i0SkXjdaTgn9c92P0wK2.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/7/7acce88473db2b00f47684e389d61d59335dedd6.png" rel="noopener nofollow ugc" title="image"><img alt="image" data-base62-sha1="hwlgrY9i0SkXjdaTgn9c92P0wK2" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/7/7acce88473db2b00f47684e389d61d59335dedd6_2_10x10.png" height="500" src="assets/7acce88473db2b00f47684e389d61d59335dedd6_2_582x500.png" srcset="https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/7/7acce88473db2b00f47684e389d61d59335dedd6_2_582x500.png, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/7/7acce88473db2b00f47684e389d61d59335dedd6_2_873x750.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/redash1/optimized/2X/7/7acce88473db2b00f47684e389d61d59335dedd6_2_1164x1000.png 2x" width="582"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">1204×1034 39.8 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>Dashboard data from queries with static parameters are never refreshing</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/dashboard-data-from-queries-with-static-parameters-are-never-refreshing/5324">Dashboard data from queries with static parameters are never refreshing</a>
</h1>
<div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Feature Requests</span>
</span>
</a>
<meta content="1" itemprop="position"/>
</span>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content="Dashboard data from queries with static parameters are never refreshing" itemprop="headline"/>
<meta content="Feature Requests" itemprop="articleSection"/>
<meta content="" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/kks.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/kks_avatar.png" tabindex="-1" width="48"/><span itemprop="name">kks</span></a>
</span>
<link href="https://discuss.redash.io/t/dashboard-data-from-queries-with-static-parameters-are-never-refreshing/5324" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-01-14T12:04:49Z" itemprop="datePublished">
                    January 14, 2020, 12:04pm
                  </time>
<meta content="2020-01-14T12:04:49Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>I need a dashboard with several similar reports based on the same query, which differ only in (static) parameters.</p>
<p>The data changes regularly, so the query has a refresh schedule.</p>
<p>In the dashboard I have inserted a visualization with different static parameters several times. This works very well so far and is exactly what I want.</p>
<p>When the dashboard is called, there is always very old data in the graphs (From the time of the last manual refresh). Until someone presses refresh again. Since the dashboard runs unattended on a TV, this is very inconvenient.</p>
<p>The alternative is to simply create the query multiple times without parameters and to write the SQL code accordingly. But then you have to edit x queries when changes occur, which is very annoying and unmanageable.</p>
<p>My wish would be, that when you open a dashboard, it checks, if the cached data is older than the refresh schedule and if so, the query is executed again with these (static) parameters.</p>
<p>I use version 8.0.0+b32245.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jcohoon.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jcohoon_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jcohoon</span></a>
</span>
<link href="https://discuss.redash.io/t/dashboard-data-from-queries-with-static-parameters-are-never-refreshing/5324" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-01-22T23:10:43Z" itemprop="datePublished">
                    January 22, 2020, 11:10pm
                  </time>
<meta content="2020-01-22T23:10:43Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Could you create one master query and then create multiple secondary queries using the Query Results data source, filtering the master query using the desired parameters?</p>
<p>This way you only have to update the one master query when changes are needed.</p>
<p>Query Results Data Source:<br/>
<a class="onebox" href="https://redash.io/help/user-guide/querying/query-results-data-source/" rel="nofollow noopener" target="_blank">https://redash.io/help/user-guide/querying/query-results-data-source/</a></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/jesse.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/jesse_avatar.png" tabindex="-1" width="48"/><span itemprop="name">jesse</span></a>
</span>
<link href="https://discuss.redash.io/t/dashboard-data-from-queries-with-static-parameters-are-never-refreshing/5324" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-01-23T11:17:59Z" itemprop="datePublished">
                    January 23, 2020, 11:17am
                  </time>
<meta content="2020-01-23T11:17:59Z" itemprop="dateModified"/>
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p>This reply from a couple months ago is quite applicable here too:</p>
<aside class="quote quote-modified" data-post="19" data-topic="3737">
<div class="title">
<div class="quote-controls"></div>
<img alt="" class="avatar" height="20" loading="lazy" src="assets/2_2.png" width="20"/>
<a href="http://discuss.redash.io/t/queries-with-parameters-not-updating/3737/19">Queries with parameters not updating</a> <a class="badge-wrapper bullet" href="/c/support/support-self-hosted/9"><span class="badge-category-parent-bg" style="background-color: #BF1E2E;"></span><span class="badge-category-bg" style="background-color: #AB9364;"></span><span class="badge-category clear-badge" data-drop-close="true" style="" title="Support on installing, configuring and troubleshooting issues with self hosted Redash.">Self Hosted Redash Support</span></a>
</div>
<blockquote>
    Thanks for the feedback, <a class="mention" href="/u/otsaloma">@otsaloma</a> and <a class="mention" href="/u/dtroyan">@dtroyan</a>. 
There are two things here: 

Queries with parameters aren’t refreshing on schedule. For this there is: <a href="https://github.com/getredash/redash/issues/4182" rel="nofollow noopener">#4182</a>, which was recently opened. <a href="https://github.com/getredash/redash/issues/1909" rel="nofollow noopener">#1909</a> can be a quick fix for this, although in the long term we would like to rewrite our scheduler to address this and other issues it currently has.
Dashboards always using cached results if available. Query page actually accepts a maxAge query string parameter, that can trigger a refresh (depends on the value…
  </blockquote>
</aside>
<p>Add maxAge to your querystring on the wallboards. Also, for wall displays I’d recommend using the refresh querystring which guarantees the data will update as long as the dashboard is being displayed.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/kks.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/kks_avatar.png" tabindex="-1" width="48"/><span itemprop="name">kks</span></a>
</span>
<link href="https://discuss.redash.io/t/dashboard-data-from-queries-with-static-parameters-are-never-refreshing/5324" itemprop="mainEntityOfPage"/>
<link href="https://global.discourse-cdn.com/standard17/uploads/redash1/original/2X/b/b0e10c4ef5ba717a4134acbce0da23c2ca969707.png" itemprop="image"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2020-01-23T22:15:26Z" itemprop="datePublished">
                    January 23, 2020, 10:15pm
                  </time>
<meta content="2020-01-24T17:44:56Z" itemprop="dateModified"/>
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Thank you!<br/>
The data can change every 30 Minute, so i tried 1800 for 1800 seconds, which worked (i didn’t found a documentation for the dashboard url parameter):<br/>
<a class="onebox" href="http://redash.local/dashboard/test1?fullscreen&amp;maxage=1800&amp;refresh=1800" rel="noopener nofollow ugc" target="_blank">http://redash.local/dashboard/test1?fullscreen&amp;maxage=1800&amp;refresh=1800</a></p>
<p>The refresh is now active:<br/>
<img alt="2020-01-23-redash-oben" data-base62-sha1="peKchrwChOhhcedcWDuF5eXYz2L" height="93" src="assets/b0e10c4ef5ba717a4134acbce0da23c2ca969707.png" width="409"/></p>
<p>But (after opening url or after hitting F5, not after waiting 30 minutes) it still had the old data:<br/>
<img alt="2020-01-23-redash-unten" data-base62-sha1="nnZV4QGF4ixWMAZTo2Z0HsNwRd8" height="91" src="assets/a3e87bb236ee13d1e093dd4c0afd0476f8595152.png" width="231"/></p>
<p>How do I use the dashboard url parameters correctly?<br/>
To keep the database load low, I don’t want to run the query more often than every 30 minutes. But I also don’t want to have data older than 30 minutes when I open the dashboard (which is also the refresh schedule).</p>
<p>Updated: I tried every combination:<br/>
maxAge=1800<br/>
maxage=1800<br/>
maxAge=1<br/>
maxage=1<br/>
maxAge=0<br/>
maxage=0<br/>
Can you tell my please the right syntax.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
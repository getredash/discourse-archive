<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
<link href="../../css/checklist_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/desktop_theme_2_be4cb2b86ec06123c5e974acd20fd933d14b129d.css" rel="stylesheet"/>
<link href="../../css/discourse-adplugin_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-akismet_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-cakeday_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-chat-integration_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-details_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-footnote_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-lazy-videos_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/discourse-local-dates_d86c892d7cd5311243d31a8f11787f4b0342874d.css" rel="stylesheet"/>
<link href="../../css/color_definitions_base__2_8fd59ae1f286f43b3ff17996df07ea951685249d.css" rel="stylesheet"/>
<link href="../../css/style.css" rel="stylesheet"/>
<title>Problem with nginx config at install (Debian 8.6)</title></head>
<body>
<div class="navbar">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<div class="navbar-buttons">
<button class="btn btn-signup">Sign Up</button>
<button class="btn btn-login"><i class="fas fa-user"></i> Login</button>
<button class="btn btn-search"><i class="fas fa-search"></i></button>
<div class="navbar-toggle">
<div class="dots"></div>
<div class="dots"></div>
<div class="dots"></div>
</div>
</div>
</div>
<div class="sidebar">
<div class="sidebar-content">
<div class="logo"><a href="../../page_0.html"><img alt="" src="../../images/logo_redash.png" srcset=""/></a></div>
<ul class="sidebar-grid">
<!-- <li><a href="#"><i class="fas fa-list-ul"></i> Topics</a></li> -->
<li><a href="../../page_0.html"><i class="fas fa-layer-group"></i> Topics</a></li>
<li><a href="../../users.html"><i class="fas fa-users"></i> Users</a></li>
<li><a href="../../about.html"><i class="fas fa-info-circle"></i> About</a></li>
<li><a href="../../faq.html"><i class="fas fa-question-circle"></i> FAQ</a></li>
<li><a href="../../groups.html"><i class="fas fa-users"></i> Groups</a></li>
<li><a href="../../badges.html"><i class="fas fa-certificate"></i> Badges</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#categories"><span>▼</span>Categories</a></h3>
<hr/>
<ul class="sidebar-grid categories">
<li>
<a class="badge-wrapper bullet" href="../../c/support/6.html">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name">Support</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/feature-requests/5.html">
<span class="badge-category-bg" style="background-color: #3AB54A"></span>
<span class="badge-category clear-badge">
<span class="category-name">Feature Requests</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/uncategorized/1.html">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name">Uncategorized</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/development/7.html">
<span class="badge-category-bg" style="background-color: #8C6238"></span>
<span class="badge-category clear-badge">
<span class="category-name">Development</span>
</span>
</a>
</li>
<li>
<a class="badge-wrapper bullet" href="../../c/tips-tricks-query-examples/11.html">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge" style="white-space: normal;">
<span class="category-name">Tips, Tricks &amp; Query Examples</span>
</span>
</a>
</li>
<li><a href="../../categories.html"><i class="fas fa-list-ul"></i> All categories</a></li>
</ul>
<h3 style="font-size: 13px;"><a href="#tags"><span>▼</span>Tags</a></h3>
<hr/>
<ul class="sidebar-grid tags">
<li><a href="../../tag/query_results.html"><i class="fas fa-tag"></i> query_results</a></li>
<li><a href="../../tag/feature-request.html"><i class="fas fa-tag"></i> feature-request</a></li>
<li><a href="../../tag/parameters.html"><i class="fas fa-tag"></i> parameters</a></li>
<li><a href="../../tag/visualizations.html"><i class="fas fa-tag"></i> visualizations</a></li>
<li><a href="../../tag/alerts.html"><i class="fas fa-tag"></i> alerts</a></li>
<li><a href="../../tags.html"><i class="fas fa-list-ul"></i> All tags</a></li>
</ul>
</div>
<div class="sidebar-footer">
            © 2023 <a href="https://discuss.redash.io/" target="_blank">discuss.redash.io</a>
</div>
</div>
<div class="overlay"></div>
<div class="content">
<div class="global-notice">
<div class="row">
<div class="alert alert-info alert-read-only" id="global-notice-alert-read-only">
<span class="text">This site is in read only mode. Please continue to browse, but replying, likes,
                        and other actions are disabled for now.</span>
</div>
</div>
</div>
<div class="imported_page" id="imported_page">
<div class="wrap" id="main-outlet" role="main">
<div id="topic-title">
<h1>
<a href="/t/problem-with-nginx-config-at-install-debian-8-6/212">Problem with nginx config at install (Debian 8.6)</a>
</h1>
<div class="topic-category" itemscope="" itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/6.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #BF1E2E"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Support</span>
</span>
</a>
<meta content="1" itemprop="position"/>
</span>
<span itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
<a class="badge-wrapper bullet" href="../../c/support/support-self-hosted/9.html" itemprop="item">
<span class="badge-category-bg" style="background-color: #AB9364"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Self Hosted Redash Support</span>
</span>
</a>
<meta content="2" itemprop="position"/>
</span>
</div>
</div>
<div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
<meta content="Problem with nginx config at install (Debian 8.6)" itemprop="headline"/>
<meta content="Self Hosted Redash Support" itemprop="articleSection"/>
<meta content="" itemprop="keywords"/>
<div itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
<meta content="Redash Discourse" itemprop="name"/>
<div itemprop="logo" itemscope="" itemtype="http://schema.org/ImageObject">
<meta content="https://global.discourse-cdn.com/standard17/uploads/redash1/original/1X/c07bc573841e1e4a0013ea3b6fe088a1534228a3.png" itemprop="url"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_1">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/Fibo99.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/Fibo99_avatar.png" tabindex="-1" width="48"/><span itemprop="name">Fibo99</span></a>
</span>
<link href="https://discuss.redash.io/t/problem-with-nginx-config-at-install-debian-8-6/212" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2016-09-26T10:42:26Z" itemprop="datePublished">
                    September 26, 2016, 10:42am
                  </time>
<meta content="2016-09-26T10:42:26Z" itemprop="dateModified"/>
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>I have installed redash using the script currently at redash/setup/ubuntu/bootstrap.sh (d22f0d4) on <strong>Debian Jessie</strong> 8.6</p>
<p>Passed thru various problems with <em>postgresql</em>… but now halted at <strong><em>nginx</em></strong> config.<br/>
I’m familiar with Apache, but nginx config is simply black magic for me… and it fails…</p>
<p>Current content of /etc/nginx/sites-available/redash is the standard found at redash/setup/ubuntu/files/nginx_redash_site (90128b9)</p>
<pre><code>upstream rd_servers {
  server 127.0.0.1:5000;
}

server {

  server_tokens off;

  listen 80 default;

  access_log /var/log/nginx/rd.access.log;

  gzip on;
  gzip_types *;
  gzip_proxied any;

  location / {
    proxy_set_header Host $http_host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
    proxy_pass       http://rd_servers;
  }
}
</code></pre>
<p>But when I point to <a href="http://myurl" rel="nofollow noopener">http://myurl</a> I simply get an error 502 “bad gateway”. When commenting out the line proxy_pass, my url displays the standard nginx welcome page.</p>
<p>Any hint at which errors I might have done or files that need to be changed for <strong>Debian</strong>?</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/arikfr.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/arikfr_avatar.png" tabindex="-1" width="48"/><span itemprop="name">arikfr</span></a>
</span>
<link href="https://discuss.redash.io/t/problem-with-nginx-config-at-install-debian-8-6/212" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2016-09-26T11:05:16Z" itemprop="datePublished">
                    September 26, 2016, 11:05am
                  </time>
<meta content="2016-09-26T11:05:16Z" itemprop="dateModified"/>
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Make sure Redash’s web server is running on port 5000. Seems like it isn’t.</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/Fibo99.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/Fibo99_avatar.png" tabindex="-1" width="48"/><span itemprop="name">Fibo99</span></a>
</span>
<link href="https://discuss.redash.io/t/problem-with-nginx-config-at-install-debian-8-6/212" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2016-09-26T14:38:44Z" itemprop="datePublished">
                    September 26, 2016,  2:38pm
                  </time>
<meta content="2016-09-26T14:38:44Z" itemprop="dateModified"/>
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Thx Arik for the fast answer!<br/>
Correct, Nothing was running on port 5000<br/>
<img alt=":grin:" class="emoji" src="assets/grin.png" title=":grin:"/><br/>
The script uses ubuntuwise<br/>
<strong>add_service "redash_supervisord"</strong><br/>
while debianwise it is<br/>
<strong>service redash_supervisord start</strong></p>
<p><strong>Note</strong>:<br/>
<strong>service redash_supervisord _re_start</strong><br/>
might not work as expected, so prefer to use<br/>
<strong>service redash_supervisord stop</strong><br/>
<strong>service redash_supervisord start</strong></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/Fibo99.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/Fibo99_avatar.png" tabindex="-1" width="48"/><span itemprop="name">Fibo99</span></a>
</span>
<link href="https://discuss.redash.io/t/problem-with-nginx-config-at-install-debian-8-6/212" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2016-09-26T17:14:42Z" itemprop="datePublished">
                    September 26, 2016,  5:14pm
                  </time>
<meta content="2016-09-26T17:14:42Z" itemprop="dateModified"/>
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Mmhhh… seems I still have some trouble with Celery et al.</p>
<pre><code>root@xxxx log/nginx# supervisorctl stop all
root@xxxx log/nginx# supervisorctl status all
redash_celery                    FATAL     Exited too quickly (process log may have details)
redash_celery_scheduled          FATAL     Exited too quickly (process log may have details)
redash_server                    FATAL     Exited too quickly (process log may have details)
root@xxxx log/nginx# supervisorctl start all
redash_celery: ERROR (abnormal termination)
redash_server: ERROR (abnormal termination)
redash_celery_scheduled: ERROR (abnormal termination)
root@xxxx log/nginx#</code></pre>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_5" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/arikfr.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/arikfr_avatar.png" tabindex="-1" width="48"/><span itemprop="name">arikfr</span></a>
</span>
<link href="https://discuss.redash.io/t/problem-with-nginx-config-at-install-debian-8-6/212" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2016-09-26T18:50:16Z" itemprop="datePublished">
                    September 26, 2016,  6:50pm
                  </time>
<meta content="2016-09-26T18:50:16Z" itemprop="dateModified"/>
<span itemprop="position">5</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Check the logs (<code>/opt/redash/logs/{api_error.log,celery_error.log,supervisord.log}</code>).</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_6" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/Fibo99.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/Fibo99_avatar.png" tabindex="-1" width="48"/><span itemprop="name">Fibo99</span></a>
</span>
<link href="https://discuss.redash.io/t/problem-with-nginx-config-at-install-debian-8-6/212" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2016-09-27T08:55:07Z" itemprop="datePublished">
                    September 27, 2016,  8:55am
                  </time>
<meta content="2016-09-27T08:55:07Z" itemprop="dateModified"/>
<span itemprop="position">6</span>
</span>
</div>
<div class="post" itemprop="text">
<p>B-) the logs are not that clear, see some details at the end.</p>
<p>I have however isolated my source of problem: I have tried to configure mail parameters in .env  as defined in <a href="http://docs.redash.io/en/latest/setup.html#mail-configuration" rel="nofollow noopener">http://docs.redash.io/en/latest/setup.html#mail-configuration</a> … but this nukes something, as supervisord then uses just port 9001, and no 5000.<br/>
Keeping the .env without these values allows things to run fine, except that redash seems then unable to send mails.</p>
<p>Will try to reintroduce one line after the other to detect the failure point… all suggestions welcome (I would appreciate a working example though)</p>
<h2><strong>Extract of api_error.log</strong></h2>
<h2>
<strong>Not Working</strong><br/>
[2016-09-27 10:19:37 +0000] [30642] [INFO] Starting gunicorn 19.4.5<br/>
[2016-09-27 10:19:37 +0000] [30642] [INFO] Listening at: <a href="http://127.0.0.1:5000" rel="nofollow noopener">http://127.0.0.1:5000</a> (30642)<br/>
[2016-09-27 10:19:37 +0000] [30642] [INFO] Using worker: sync<br/>
[2016-09-27 10:19:37 +0000] [30650] [INFO] Booting worker with pid: 30650<br/>
[2016-09-27 10:19:37 +0000] [30650] [ERROR] Exception in worker process:<br/>
Traceback (most recent call last):<br/>
File “/usr/local/lib/python2.7/dist-packages/gunicorn/arbiter.py”, line 515, in spawn_worker<br/>
worker.init_process()<br/>
…<br/>
File “/opt/redash/redash.0.11.1.b2095/redash/settings.py”, line 133, in <br/>
MAIL_USE_TLS = parse_boolean(os.environ.get(‘REDASH_MAIL_USE_TLS’, ‘false’))<br/>
File “/opt/redash/redash.0.11.1.b2095/redash/settings.py”, line 41, in parse_boolean<br/>
return json.loads(str.lower())<br/>
File “/usr/lib/python2.7/json/<strong>init</strong>.py”, line 338, in loads<br/>
return _default_decoder.decode(s)<br/>
File “/usr/lib/python2.7/json/decoder.py”, line 366, in decode<br/>
obj, end = self.raw_decode(s, idx=_w(s, 0).end())<br/>
File “/usr/lib/python2.7/json/decoder.py”, line 384, in raw_decode<br/>
raise ValueError(“No JSON object could be decoded”)<br/>
ValueError: No JSON object could be decoded<br/>
Traceback (most recent call last):<br/>
File “/usr/local/lib/python2.7/dist-packages/gunicorn/arbiter.py”, line 515, in spawn_worker<br/>
worker.init_process()<br/>
File “/usr/local/lib/python2.7/dist-packages/gunicorn/workers/base.py”, line 122, in init_process<br/>
self.load_wsgi()<br/>
…<br/>
[2016-09-27 10:19:37 +0000] [30653] [INFO] Worker exiting (pid: 30653)<br/>
Traceback (most recent call last):<br/>
File “/usr/local/bin/gunicorn”, line 11, in <br/>
sys.exit(run())<br/>
File “/usr/local/lib/python2.7/dist-packages/gunicorn/app/wsgiapp.py”, line 74, in run<br/>
WSGIApplication("%(prog)s [OPTIONS] [APP_MODULE]").run()<br/>
File “/usr/local/lib/python2.7/dist-packages/gunicorn/app/base.py”, line 192, in run<br/>
super(Application, self).run()<br/>
File “/usr/local/lib/python2.7/dist-packages/gunicorn/app/base.py”, line 72, in run<br/>
Arbiter(self).run()<br/>
File “/usr/local/lib/python2.7/dist-packages/gunicorn/arbiter.py”, line 206, in run<br/>
self.halt(reason=inst.reason, exit_status=inst.exit_status)<br/>
File “/usr/local/lib/python2.7/dist-packages/gunicorn/arbiter.py”, line 302, in halt<br/>
self.stop()<br/>
File “/usr/local/lib/python2.7/dist-packages/gunicorn/arbiter.py”, line 347, in stop<br/>
time.sleep(0.1)<br/>
File “/usr/local/lib/python2.7/dist-packages/gunicorn/arbiter.py”, line 219, in handle_chld<br/>
self.reap_workers()<br/>
File “/usr/local/lib/python2.7/dist-packages/gunicorn/arbiter.py”, line 464, in reap_workers<br/>
raise HaltServer(reason, self.WORKER_BOOT_ERROR)<br/>
gunicorn.errors.HaltServer: &lt;HaltServer ‘Worker failed to boot.’ 3&gt;</h2>
<h2>
<strong>Working</strong>:<br/>
[2016-09-27 10:30:39 +0000] [31494] [INFO] Starting gunicorn 19.4.5<br/>
[2016-09-27 10:30:39 +0000] [31494] [INFO] Listening at: <a href="http://127.0.0.1:5000" rel="nofollow noopener">http://127.0.0.1:5000</a> (31494)<br/>
[2016-09-27 10:30:39 +0000] [31494] [INFO] Using worker: sync<br/>
[2016-09-27 10:30:39 +0000] [31517] [INFO] Booting worker with pid: 31517<br/>
[2016-09-27 10:30:39 +0000] [31518] [INFO] Booting worker with pid: 31518<br/>
[2016-09-27 10:30:39 +0000] [31520] [INFO] Booting worker with pid: 31520<br/>
[2016-09-27 10:30:39 +0000] [31526] [INFO] Booting worker with pid: 31526<br/>
[2016-09-27 10:31:22,191][PID:31518][INFO][metrics] method=GET path=/favicon.ico endpoint=redash.send_static status=200 content_type=image/vnd.microsoft.icon content_length=1150 duration=3.14 query_count=0 query_duration=0.00<br/>
[2016-09-27 10:31:22,191][PID:31518][INFO][metrics] method=GET path=/favicon.ico endpoint=redash.send_static status=500 content_type=? content_length=-1 duration=3.45 query_count=0 query_duration=0.00<br/>
…</h2>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_7" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/Fibo99.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/Fibo99_avatar.png" tabindex="-1" width="48"/><span itemprop="name">Fibo99</span></a>
</span>
<link href="https://discuss.redash.io/t/problem-with-nginx-config-at-install-debian-8-6/212" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2016-09-27T14:53:16Z" itemprop="datePublished">
                    September 27, 2016,  2:53pm
                  </time>
<meta content="2016-09-27T14:53:16Z" itemprop="dateModified"/>
<span itemprop="position">7</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Updating .env<br/>
It seems that some values do create a malfunction, even if empty!!</p>
<pre><code>export REDASH_MAIL_SERVER="" # default: localhost
#export REDASH_MAIL_PORT="" # default: 25
#export REDASH_MAIL_USE_TLS="" # default: false
#export REDASH_MAIL_USE_SSL="" # default: false
export REDASH_MAIL_USERNAME="" # default: None
export REDASH_MAIL_PASSWORD="" # default: None
export REDASH_MAIL_DEFAULT_SENDER="yyy@xxx.fr" # Email address to send from

export REDASH_HOST="http://yyy.xxx.fr" # base address of your Re:dash instance, for example: "https://demo.redash.io"
</code></pre>
<p>But  REDASH_MAIL_DEFAULT_SENDER seems to have no real effect, eg</p>
<p><code># /opt/redash/current/manage.py check_settings|grep -i mail MAIL_DEFAULT_SENDER = None MAIL_MAX_EMAILS = None COMMON_CLIENT_CONFIG = {'allowScriptsInUserInput': False, 'dateFormat': 'DD/MM/YY', 'mailSettingsMissing': True, 'allowAllToEditQueries': True, 'logoUrl': '/images/redash_icon_small.png', 'dateTimeFormat': 'DD/MM/YY HH:mm'} MAIL_USERNAME = None MAIL_USE_SSL = False default_destinations = ['redash.destinations.email', 'redash.destinations.slack', 'redash.destinations.webhook', 'redash.destinations.hipchat'] enabled_destinations = ['redash.destinations.email', 'redash.destinations.slack', 'redash.destinations.webhook', 'redash.destinations.hipchat'] MAIL_SERVER = localhost DESTINATIONS = ['redash.destinations.email', 'redash.destinations.slack', 'redash.destinations.webhook', 'redash.destinations.hipchat'] MAIL_USE_TLS = False MAIL_PASSWORD = None MAIL_ASCII_ATTACHMENTS = False MAIL_PORT = 25</code></p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_8" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/arikfr.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/arikfr_avatar.png" tabindex="-1" width="48"/><span itemprop="name">arikfr</span></a>
</span>
<link href="https://discuss.redash.io/t/problem-with-nginx-config-at-install-debian-8-6/212" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2016-09-27T15:05:40Z" itemprop="datePublished">
                    September 27, 2016,  3:05pm
                  </time>
<meta content="2016-09-27T15:05:40Z" itemprop="dateModified"/>
<span itemprop="position">8</span>
</span>
</div>
<div class="post" itemprop="text">
<p>If I had to guess the problem is with the boolean flags (USE_SSL, USE_TLS). If you don’t give it a valid value (<code>true</code>/<code>false</code>) it will crash .</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="1" itemprop="userInteractionCount"/>
</div>
</div>
<div class="topic-body crawler-post" id="post_9" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<a href="../../u/detail/Fibo99.html" itemprop="url"><img alt="" class="avatar" height="48" loading="lazy" src="../../u/avatars/Fibo99_avatar.png" tabindex="-1" width="48"/><span itemprop="name">Fibo99</span></a>
</span>
<link href="https://discuss.redash.io/t/problem-with-nginx-config-at-install-debian-8-6/212" itemprop="mainEntityOfPage"/>
<span class="crawler-post-infos">
<time class="post-time" datetime="2016-09-27T15:26:25Z" itemprop="datePublished">
                    September 27, 2016,  3:26pm
                  </time>
<meta content="2016-09-27T15:26:25Z" itemprop="dateModified"/>
<span itemprop="position">9</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Thx.<br/>
<img alt=":grimacing:" class="emoji" src="assets/grimacing.png" title=":grimacing:"/> will test that.<br/>
Seems that the “default” is not!</p>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/LikeAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope="" itemtype="http://schema.org/InteractionCounter">
<meta content="http://schema.org/CommentAction" itemprop="interactionType"/>
<meta content="0" itemprop="userInteractionCount"/>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="overlay" id="modalOverlay" style="display: none;">
<div class="modal-content">
<p>Login or sign up disabled while the site is in read only mode</p>
<hr/>
<button class="btn btn-login">OK</button>
</div>
</div>
<script src="../../js/script.js"></script>
</body>
</html>
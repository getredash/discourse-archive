<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Why is the schema info updated when running a query?</title>
    <link>https://discuss.redash.io/t/why-is-the-schema-info-updated-when-running-a-query/9458</link>
    <description>Hello there,

I&#39;ve noticed using a Redshift Data Source that everytime that a user runs a query another query used to update schema info is sent at the same time. 

Why is this important for Redash? It really makes no sense to me since there is another process to update schemas. 

Here&#39;s the references:

* The method with the query to update schema info from Redshift: https://github.com/getredash/redash/blob/master/redash/query_runner/pg.py#L373

* The specific line that holds the method to update the schema while run any query on Redash: https://github.com/getredash/redash/blob/master/redash/query_runner/python.py#L276

* The celery task supposed to update schemas info:  /getredash/redash/blob/master/redash/tasks/queries/maintenance.py#L165 (Since I&#39;m a new user, I wasn&#39;t able to put this link completly, sorry about that)

Thanks in advance</description>
    
    <lastBuildDate>Fri, 12 Nov 2021 15:12:36 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="https://discuss.redash.io/t/why-is-the-schema-info-updated-when-running-a-query/9458.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Why is the schema info updated when running a query?</title>
        <dc:creator><![CDATA[joao.luga]]></dc:creator>
        <description><![CDATA[
            <p>Hello there,</p>
<p>I’ve noticed using a Redshift Data Source that everytime that a user runs a query another query used to update schema info is sent at the same time.</p>
<p>Why is this important for Redash? It really makes no sense to me since there is another process to update schemas.</p>
<p>Here’s the references:</p>
<ul>
<li>
<p>The method with the query to update schema info from Redshift: <a href="https://github.com/getredash/redash/blob/master/redash/query_runner/pg.py#L373" class="inline-onebox" rel="noopener nofollow ugc">redash/pg.py at master · getredash/redash · GitHub</a></p>
</li>
<li>
<p>The specific line that holds the method to update the schema while run any query on Redash: <a href="https://github.com/getredash/redash/blob/master/redash/query_runner/python.py#L276" class="inline-onebox" rel="noopener nofollow ugc">redash/python.py at master · getredash/redash · GitHub</a></p>
</li>
<li>
<p>The celery task supposed to update schemas info:  /getredash/redash/blob/master/redash/tasks/queries/maintenance.py#L165 (Since I’m a new user, I wasn’t able to put this link completly, sorry about that)</p>
</li>
</ul>
<p>Thanks in advance</p>
          <p><a href="https://discuss.redash.io/t/why-is-the-schema-info-updated-when-running-a-query/9458/1">Read full topic</a></p>
        ]]></description>
        <link>https://discuss.redash.io/t/why-is-the-schema-info-updated-when-running-a-query/9458/1</link>
        <pubDate>Fri, 12 Nov 2021 15:12:36 +0000</pubDate>
        <guid isPermaLink="false">discuss.redash.io-post-9458-1</guid>
        <source url="https://discuss.redash.io/t/why-is-the-schema-info-updated-when-running-a-query/9458.rss">Why is the schema info updated when running a query?</source>
      </item>
  </channel>
</rss>
